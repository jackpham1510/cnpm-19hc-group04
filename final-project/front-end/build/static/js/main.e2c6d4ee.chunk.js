(window["webpackJsonpfront-end"]=window["webpackJsonpfront-end"]||[]).push([[0],{102:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAABHNCSVQICAgIfAhkiAAAEMJJREFUeJzt3X2QXXV9x/H39+5uEsJms5ukNFUHLMWQxtRAQ0ImPNxMYAwg2o5MMVUUGUeYIiNDCURKmUzqUJAkoDiC7dhRilBmOjpMtDwJmA2Q5rm0Q9vA0FQxpimm2SW7edy759s/dkXEJLu/e8/d+/D9vP4T7++c34Fz3/fsvb97riFjwlczDZgJzMQ5E2MmcArQjtOO0Y7TAZQw+oH9OP0Y/Ti7MHbgvIqzg8nssOs4WMvjeTefO3fiW20TZ2aZzcTsTDNm4rzPoR1oB+sA2jFawffj9Dv0m9GP25sGO9z8VZwdbSV2TNrWvbfWxxSB1XoCzcrv5lTaWEzGRcAijPflt3Ey4D+A5ynwHAXW20305rb9UeiZU+xkgl/obheZ2WLHZ2FWyGv77uwyZ52ZP+el0vNTtr30Rl7bll9RAHLkq5gNXI3xceD0sdsxGcZWnH/AecxuZU81dnNgXnH6UWOpF/hTnHPyfMKPyH2nYd/3QX9oytbuV8Zsv01OAaiQr+IU4JMMPfHPqvV8cEoYz+A8TD+P20oOV7S504oTeqbzxwafdrMPA605zbSCSfGyuT/U1jrwaPuGDW/WejqNTAEok9/H+xlkOc5nMSbUej7H5OyhwH1M4AH7Av1JQ2cV23s6/Hq8cBPG9GpNsSLOYYPvgH+la1P3T2o9nUakACTyNczAuQ3nqqE3tBrCPuBrtHD/SO8V9MwpdjLev+gFuxFsyhjNr1Il4Lutg6W7Ora8+FqtJ9NIFIBR8vvp4AhfBq5voCf+u+0DbqePv7WVZO/8PxwKPfOL11LgzgZ64r9bicwfcA7dMXXz5v21nkwjUABGwVexFLivbi+F020m48/sVrYD9C644A8zCg+Cza/1xHLh7AG/acqm7sdqPZV6pwCcgN/NqbTwdxgX13ouuXMyz3hg/9rzyEqt14/pO/pj51kGBj6njxCPTwE4Dl/D5TgPAY16OTwqpd6TObDxg2T9E2s9lSrxfTbI1V1bun9Y65nUIwXgXXwFrbTzFYw/r/VcxooPtHBw+wyO/uy3az2VqjH83s7xLLfu7lKt51JPFIB3GF6u+wNgwdjumKPvWP7bOrwsuH2s32w8/F/v5dDLZ4DnflqU3rH0twTeMXR8Ni7vHZ2IOxvHlfyjWmb8KwrAsOHP9Z8GZlRnB2TAKxgbcP4TZwcZOzjEblvJMV+V/G+YSB/vH57TTJwPkvey4nc5+vNpHNg0C7L0twR+uXwX8383Z0fG4GtTBg/9xLZtO+b3FrxYbO3pL72npaVlZmbMhMLvO74QmF219yTcXzNYonUDQxQA3l7C+zTGe3LedC/wfZynMZ63ZeTyyuP3cgYZFwMfwbkk7yuFgV90cmDDbHxgxM2WcJ7C/Z9aCjw7eWP363nsv29ucdpAmy/GbQnYxzE689ju29x3M8gSLSlWAPA1LMB5EnI6yYbW5T8xvBR3baVLcUfc3dBS5KXANXkuRS71nkz/+jn40WNcpTsvG9m321pKj1V7Ka6fVpzQ8zv+MbzwafDLcrsycHrd/dKpm7s35rK9BhU6AL6K2Rjd5PFO/9Aa/O9i3GU3U5PVaL6KizFuBxblsb3Svkn0dZ8Fgy2//EfrCvidnRu7n81j+6n2zzt/Rqml9TbgKnL5ToLvo0Qx8pVA2AAMf8b/Ui5/Tzt/zyB32Jeoi8+bfTXnk7GGAhUv7BnY00X/S7M3kxVunrKp+8U85lepfXPPO5WWtjspcFWl23Jnl5UGzou6ViBkAIbf7X+JSt/wc17B+IItY30uE8uJQ6H33AsfGfd7/7P0pNn/jY2r8JMv51G7hU/lM7v89My74MKsUHjQzGZVtCH319pKnBfx04FmXP11Qr6CVuB7VPLkd0rACvo5u96e/AA95xZXuBWWHtn5Xt56ej4Du6dWtkHjk76av8xndvnp2vLC+il9vzgb97/CPRt5xHGYzRho5XteLDbqdzzKFu4KwFdzJ/AX5W+A3cCn7BbW5TWnPPXOv3BxZvajX3+zzBn/gV2c9Ac7sYKXt+GhjzEvqtfj7jm3uMjhEczK/yTH/a+nbOq+Pcdp1b1QAfB7+DDGk1jZVz7rcf7EbqEub0JxYF5x+pGC/cvxvrTU0rWf9oWvUDjpaHk7cPYAc+r1+PsXLjzl6GDbP2J2YVkbcM9a3C+dvHn9MzlPrW6F+RPA72E6xsMVPPkfp48l9XryOxSOFHjkRN9YHOzpoO/HZzPYf1J5Oxna9iO+oj7Pm/YNG97s2sMSnMfL2oBZYbBgDx+YV2yWb32OqC7/Q1ZFgW9gnFLm6G/RxxXV/ky/Ej3zi9ditnikx2UHT6Lvx2dT6mkvb0fGxUzi2vIGV5/9tPtw16Z1Vxh8q8wtnHKkhW/kO6v6FeJPAL+HSyjwZJnDv2PLuCbXCeVsaOUcr6bcyMPaBpi06GVaJh8oZ5f7gDPzWtlYLfsWLPo28NmyBg/6pVO2dD+V64TqUNNfAfgKJlDg62UO/yF9fD7XCVXBQJutSr2Ljw+0sf/F2W/gZa1dmAKsKmPcmOoa75/HKe9rwC32dT+tWJ/3esxR0weASSwDzihj5GYm8YnjfVGnXuw754KFuH8mfaTva9s/YQnGEoZe0ROH8xlfw8L0/Y4d6+4udZX6PgG+uYzhZ/ROZ1nuk6ozTR2A4QU/t5UxdC+DXFFvv75zLNZSWFXO+nhzv2bStu4dtowdWBl/4hgFvP6vAmzbtoOecQWe/ueKw219c4vTqjGvetHUAQBuAtJudTP0ZZ6rbTm7qjOl/PScW1zkZsmvwobf27Vp/dq3//fNrMW5t4wpLPRV+XzvoJqmbu7eBdnVyYuFzCYOtHJTlaZVF5o2AH4fncANZQz9qt3ME3nPpxoc7ihj0NbO8Sz/jX/ez3KcrWVMI30ONTBl0/onzPhq6jiHG3rmFPP9OnIdadoAMMgNQEfSGOcNOhrjhP6/+cUFo/nY79e4ZwUbvO5Yt8WylZRwrhte8Td6xmJfM8Z3UCpT50D/HbgnvelpZh1MKOuFpCE0ZQB8BeOAG5MHGjc2wt/9AGb2m6/iI3G+2bnxhe3H3eatbMf4ZhnbTZ9LDdi2bQfN088Lx270WbPG9PZlY6UpA8AkLgfS3rxxnrJlZa4gG2NDb0z5ZUmDnL12hJHXubdwOyS+YeZcNvyGa93r2tz9uDlpn+8b097qmHZ5laZUU80ZALg6eUTWGJf+AKUWlqbfUNPXdP1r94g/IT7802FrkjZtjMNZmjaf2inY4IrUMVlm6edUA2i6APhqpuFckjaIp2x5WW+A1YRb4sno9LofemDUjx/HA3Di3xA8hoZ5gkze+MJm3NO+8GNc0owfCTZdAIArMdJeHQt8uUpzyV3f3OJMjHPSRvn9Kb+VZ19kP3B/0i6Mc3w1M9PmVTuWZXemDbBxpVa/skrTqZnmC4DzR4mP3243s6FKs8ndQJt/LHFIaXzGg8k7ynhw+MYno2ekzq1mura8sB73f0sZ41jaudUAmioAvoJxGOcnDnu4KpOpFreLUh5uzrMnb+nek7obu5U9QNrNPzOS5lZz5g8ljji/2T4NaKoAMIkFpKz8c0o4DfMLssMnX1LgnOST/J3SxhrnD38E2xDGD9qjkHCVYzax9+SpDbHmYbSaKwAkvwKtG36lawg9k35rPmYJgfODXaX+tSM/8Dg6WAtJ6yImMqnyOxGPleEro3UpY7xQaKyrnBE0WwAWJT26wI+qM43qsNTjM9twvJ/lGtXw6ziIJ78/sqjc/dVGlnoOLKrGLGql2QLwoaRHl3i+SvOoCsfmpA3w5yreqZG6jbQ51lhLZonngKWdY3WuaQIw/BNZKV/a6OUgx10WW5886VbmLZZVHrhCYiS9Sj+uWiUdm7u34wlrHozO/oULy721XN1pmgBgiSees9VWJn7xpYYcCmCjP0b3ox3jC5UH7i22J34cOKNebxp6LAYZlrYI7OhgW0NF7kQa5j/UKKQuQtlRlVlUSe+5xVMxEm5RZTuP9a2/VLaSEsbO0Q9gAp2cWul+x5QnngvWOAueRtJMAfhA4uNfrcosqsQs+bZmeQYu7cdOS2Xdgq1mzD3pXLD0c61uNVMAUn/ht6GuADJP+7admef3C8We/GvHDbVm3gqp50LaDVjrWfMEwBNv/kF9/sDHcRlJN/J3/H9z23eBtG0lzrXW3LPEc8FTz7W61TwBSL37Tyv9VZpHlSSedJ7j8Tmj/iLR8OMb6glig57278qtoY7vRJonAKmvOqXGCoBliceXbwDSttVgVwCt47Kk43Ma6/hOpHkCkPqq09FYAaBgk1Mebpbj8RWSrwCS5lprJx85kvjvSn8C1KO0Y9ndOGsAANwT7/2fWZ7Hl7qtxjqv9rYnHZ+R/jsM9appDkRE0ikAIoEpACKBKQAigSkAIoEpACKBKQAigSkAIoEpACKBKQAigSkAIoEpACKBKQAigSkAIoEpACKBKQAigSkAIoEpACKBKQAigSkAIoEpACKBKQAigSkAIoG1VjLYf3D5TNzq45dgd2/twBNu7376WZf52nFHqzehfB185uDpWa+N+vFtv9syz+/4aD4737dzHof2jv7xLRNO97UfujyfnVfoZy+WONxz4vP8yIvj2rbMGv02WwY7/EqOfXzjuzImdo7dC6tlr9s1Py37h25Hf0Ydg6/9yF144UuVbEOkqn7+z4c5uHfCmO1v4tSDTOiaOGb7c+62z71+W7nD9SeANLuxe/IDUBi7J38OFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRPLlntZ5CCgVAmpvTO8Y77B/b/VXm/wGYkli8D/ZHAgAAAABJRU5ErkJggg=="},294:function(e,t,a){e.exports=a.p+"static/media/cashing.9897c7f7.wav"},295:function(e,t,a){e.exports=a.p+"static/media/rejecting.01f737d7.wav"},296:function(e,t,a){e.exports=a.p+"static/media/warning.4af9c980.wav"},324:function(e,t,a){e.exports=a(669)},329:function(e,t,a){},331:function(e,t,a){},332:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){},459:function(e,t,a){},460:function(e,t,a){},465:function(e,t,a){},466:function(e,t,a){},484:function(e,t,a){},512:function(e,t,a){},513:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){},550:function(e,t,a){},553:function(e,t,a){},554:function(e,t,a){},555:function(e,t,a){},556:function(e,t,a){},576:function(e,t,a){},577:function(e,t,a){},578:function(e,t,a){},579:function(e,t,a){},603:function(e,t,a){},606:function(e,t,a){},607:function(e,t,a){},608:function(e,t,a){},609:function(e,t,a){},610:function(e,t,a){},611:function(e,t,a){},636:function(e,t,a){},637:function(e,t,a){},638:function(e,t,a){},639:function(e,t,a){},640:function(e,t,a){},641:function(e,t,a){},651:function(e,t,a){},652:function(e,t,a){},653:function(e,t,a){},654:function(e,t,a){},655:function(e,t,a){},658:function(e,t,a){},659:function(e,t,a){},660:function(e,t,a){},661:function(e,t,a){},662:function(e,t,a){},664:function(e,t,a){},665:function(e,t,a){},666:function(e,t,a){},667:function(e,t,a){},668:function(e,t,a){},669:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"login",(function(){return T})),a.d(n,"setAppLoading",(function(){return j})),a.d(n,"setCurrentPageTitle",(function(){return I})),a.d(n,"setSidebarSelectedIndex",(function(){return D}));var r=a(0),s=a.n(r),i=a(20),c=a.n(i),l={API_URL:"http://tuevo.tech:7000/api",GOOGLE_MAPS_API_KEY:"AIzaSyDTkNdUuexN_PZOKtezyqWdO-g3-ewhHiQ"},o=(a(329),a(4)),u=a(5),m=a(7),p=a(6),d=a(8),_=(a(330),a(331),a(3)),h=a.n(_),f=a(12),g=a(673),b=a(680),y=a(683),k=a(111),E=a(41),v=(a(332),a(719)),w=a(730),S={User:{login:"".concat(l.API_URL,"/users/login"),changePassword:"".concat(l.API_URL,"/users/change-password")},Cashier:{Checkout:{getCheckoutSessions:"".concat(l.API_URL,"/checkout-sessions"),createCheckoutSession:"".concat(l.API_URL,"/checkout-sessions"),cancelCheckoutSession:"".concat(l.API_URL,"/checkout-sessions/{checkoutSessionID}"),submitCheckoutSession:"".concat(l.API_URL,"/checkout-sessions/{checkoutSessionID}"),createImportingRequest:"".concat(l.API_URL,"/importing-requests"),getImportingRequests:"".concat(l.API_URL,"/users/importing-requests")}},Manager:{Reporting:{getProducts:"".concat(l.API_URL,"/products?page={page}&limit={limit}&statisticStartDate={statisticStartDate}&statisticEndDate={statisticEndDate}")},ImportingRequestManagement:{getImportingRequest:"".concat(l.API_URL,"/importing-requests"),acceptImportingRequests:"".concat(l.API_URL,"/importing-requests"),cancelImportingRequest:"".concat(l.API_URL,"/importing-requests/{importingRequestID}"),getImporterAssignments:"".concat(l.API_URL,"/importer-assignments")},StaffManagement:{getListStaffs:"".concat(l.API_URL,"/users"),addStaff:"".concat(l.API_URL,"/users"),updateStaffProfile:"".concat(l.API_URL,"/users/{updatedUserID}"),removeStaff:"".concat(l.API_URL,"/users/{deletedUserID}")},SupplierManagment:{getSuppliers:"".concat(l.API_URL,"/suppliers"),addSupplier:"".concat(l.API_URL,"/suppliers"),removeSupplier:"".concat(l.API_URL,"/suppliers/{supplierID}"),updateSupplier:"".concat(l.API_URL,"/suppliers/{supplierID}")},WorkSchedule:{getWorkSchedules:"".concat(l.API_URL,"/work-schedules"),addWorkSchedule:"".concat(l.API_URL,"/work-schedules"),removeWorkSchedule:"".concat(l.API_URL,"/work-schedules/{workScheduleID}")},WorkShift:{addWorkShift:"".concat(l.API_URL,"/work-shifts"),removeWorkShift:"".concat(l.API_URL,"/work-shifts/{workShiftID}")},WorkAssignment:{addWorkAssignments:"".concat(l.API_URL,"/work-assignments"),removeWorkAssignment:"".concat(l.API_URL,"/work-assignments/{workAssignmentID}")}},Importer:{ProductManagement:{addCategory:"".concat(l.API_URL,"/categories"),getCategories:"".concat(l.API_URL,"/categories"),getCategoryProducts:"".concat(l.API_URL,"/categories/{categoryID}/products"),updateCategory:"".concat(l.API_URL,"/categories/{categoryID}"),removeCategory:"".concat(l.API_URL,"/categories/{categoryID}"),getSuppliers:"".concat(l.API_URL,"/suppliers"),addSupplier:"".concat(l.API_URL,"/suppliers"),removeSupplier:"".concat(l.API_URL,"/suppliers/{supplierID}"),updateSupplier:"".concat(l.API_URL,"/suppliers/{supplierID}"),addProduct:"".concat(l.API_URL,"/products"),updateProduct:"".concat(l.API_URL,"/products/{productID}"),removeProduct:"".concat(l.API_URL,"/products/{productID}"),getProductActionLogs:"".concat(l.API_URL,"/product-action-logs")},ImporterAssignmentManagement:{getImporterAssignments:"".concat(l.API_URL,"/users/importer-assignments")}}},A="token",x="user",N=a(672),O=a(80),C=a(15),T=function(e,t){return{type:"LOGIN_SUCCESS",user:e,token:t}},j=function(e){return{type:"APP_LOADING",isLoading:e}},I=function(e,t){return{type:"CURRENT_PAGE_TITLE",title:e,icon:t}},D=function(e){return{type:"SET_SIDEBAR_SELECTED_INDEX",sidebarSelectedIndex:e}},P=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).abortController=new AbortController,a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){this.abortController.abort()}}]),t}(s.a.Component),R={CASHIER:{type:"CASHIER",name:"NV Thu ng\xe2n"},IMPORTER:{type:"IMPORTER",name:"NV Nh\u1eadp h\xe0ng"},MANAGER:{type:"MANAGER",name:"NV Qu\u1ea3n l\xfd"},USER:{type:"USER",name:"Ng\u01b0\u1eddi d\xf9ng"}},L=a(671),M=a(116),q=a(54),W=(a(337),a(9)),H=a.n(W),F=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.cookies.get(x),t=Object.keys(e).filter((function(e){return!["fullname","avatar","role","updatedAt","__v"].includes(e)})).map((function(t){switch(t){case"_id":return{index:0,name:"ID",value:e[t]};case"dateOfBirth":return{index:1,name:"Ng\xe0y sinh",value:e[t]};case"sex":return{index:2,name:"Gi\u1edbi t\xednh",value:e[t]};case"email":return{index:3,name:"Email",value:e[t]};case"phone":return{index:4,name:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",value:e[t]};case"address":return{index:5,name:"\u0110\u1ecba ch\u1ec9",value:e[t]};case"salaryRate":return{index:6,name:"H\u1ec7 s\u1ed1 l\u01b0\u01a1ng",value:e[t]};case"createdAt":return{index:7,name:"Ng\xe0y tham gia",value:W(e[t]).format("DD-MM-YYYY")};default:return{}}})).sort((function(e,t){return e.index-t.index}));return s.a.createElement("div",{className:"profile"},s.a.createElement("div",{className:"profile__main animated fadeInUp"},s.a.createElement("div",{className:"profile__main__header"},s.a.createElement(L.a,{className:"profile__main__header__user-avatar",style:{width:"4.0625rem",height:"4.0625rem"},src:e.avatar}),s.a.createElement("div",{className:"profile__main__header__user-info"},s.a.createElement("div",{className:"profile__main__header__user-info__name"},s.a.createElement("span",null,e.fullname)),s.a.createElement("div",{className:"profile__main__header__user-info__role"},s.a.createElement("span",null,R[e.role].name)))),s.a.createElement(M.a,{className:"profile__main__body"},s.a.createElement(q.a,{span:8},s.a.createElement("ul",{className:"profile__main__body__list-user-fields"},t.map((function(e,t){return s.a.createElement("li",{key:t},e.name)})))),s.a.createElement(q.a,{span:16},s.a.createElement("ul",{className:"profile__main__body__list-user-values"},t.map((function(e,t){return s.a.createElement("li",{key:t,className:"".concat("ID"===e.name?"--highline":"")},e.value)})))))))}}]),t}(r.Component),V=Object(N.a)(F),U=a(10),Y=a(691),B=(a(338),{labelCol:{span:8},wrapperCol:{span:16}}),Q={wrapperCol:{offset:8,span:16}},G=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).onFinish=function(){var e=Object(f.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.props.setAppLoading(!0),n=Object(U.a)({},t),e.next=5,fetch(S.User.changePassword,{method:"PUT",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8",token:a.props.cookies.get(A)},signal:a.abortController.signal});case 5:return e.next=7,e.sent.json();case 7:if(r=e.sent,a.props.setAppLoading(!1),200===r.status){e.next=12;break}return g.a.error(r.errors[0]),e.abrupt("return");case 12:a.formRef.current.resetFields(),g.a.success(r.messages[0]),e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),a.formRef=s.a.createRef(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"change-password"},s.a.createElement("div",{className:"change-password__content animated jackInTheBox"},s.a.createElement("div",{className:"change-password__content__icon-wrapper"},s.a.createElement(Y.a,{className:"change-password__content__icon-wrapper__icon"})),s.a.createElement(b.a,Object.assign({},B,{ref:this.formRef,onFinish:function(t){return e.onFinish(t)},onFinishFailed:function(){return g.a.error("Vui l\xf2ng ki\u1ec3m tra l\u1ea1i th\xf4ng tin")},className:"change-password__content__form"}),s.a.createElement(b.a.Item,{label:"M\u1eadt kh\u1ea9u hi\u1ec7n t\u1ea1i",name:"currentPassword",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u hi\u1ec7n t\u1ea1i"}]},s.a.createElement(y.a.Password,{autoFocus:!0})),s.a.createElement(b.a.Item,{label:"M\u1eadt kh\u1ea9u m\u1edbi",name:"newPassword",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u m\u1edbi"}]},s.a.createElement(y.a.Password,null)),s.a.createElement(b.a.Item,{label:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",name:"confirmedNewPassword",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi"}]},s.a.createElement(y.a.Password,null)),s.a.createElement(b.a.Item,Q,s.a.createElement(E.a,{shape:"round",htmlType:"submit",className:"change-password__content__form__btn-submit"},"L\u01b0u thay \u0111\u1ed5i")))))}}]),t}(P),J=Object(C.b)(null,n)(Object(N.a)(G)),z=(a(459),a(681)),K=a(94),Z=a(704),X=a(702),$=a(703),ee=a(695),te=a(16),ae=(a(460),a(292)),ne=a.n(ae),re=a(690),se=a(117),ie=a(679),ce=a(696),le=a(697),oe=a(698),ue=a(699),me=a(700),pe=a(701),de=a(18),_e=a(294),he=a.n(_e),fe=a(295),ge=a.n(fe),be=a(296),ye=a.n(be),ke=a(692),Ee=a(693),ve=(a(465),a(674)),we=(a(466),a(108)),Se=a.n(we),Ae=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.checkoutSession;return s.a.createElement("div",{className:"money-counting__submit-checkout-session-dialog__bill"},s.a.createElement("div",{className:"money-counting__submit-checkout-session-dialog__bill__header"},s.a.createElement("div",{className:"money-counting__submit-checkout-session-dialog__bill__header__company"},s.a.createElement("img",{className:"money-counting__submit-checkout-session-dialog__bill__header__company__logo",src:a(102),alt:"logo"}),s.a.createElement("div",{className:"money-counting__submit-checkout-session-dialog__bill__header__company__brand"},s.a.createElement("div",{className:"money-counting__submit-checkout-session-dialog__bill__header__company__brand__name"},s.a.createElement("span",null,"Mini Mart")),s.a.createElement("div",{className:"money-counting__submit-checkout-session-dialog__bill__header__company__brand__slogan"},s.a.createElement("span",null,"Ti\u1ec7n L\u1ee3i m\xe0 Ch\u1ea5t L\u01b0\u1ee3ng"))))),s.a.createElement("div",{className:"money-counting__submit-checkout-session-dialog__bill__title"},s.a.createElement("span",null,"H\xd3A \u0110\u01a0N THANH TO\xc1N")),s.a.createElement("div",{className:"money-counting__submit-checkout-session-dialog__bill__details"},s.a.createElement(M.a,null,s.a.createElement(q.a,{span:8},"\u0110\u1ecba ch\u1ec9:"),s.a.createElement(q.a,{span:16},"227 Nguy\u1ec5n V\u0103n C\u1eeb, Qu\u1eadn 5")),s.a.createElement(M.a,null,s.a.createElement(q.a,{span:8},"V\xe0o l\xfac:"),s.a.createElement(q.a,{span:16},H()(e.submittedAt).format("HH:mm DD-MM-YYYY"))),s.a.createElement(M.a,null,s.a.createElement(q.a,{span:8},"Thu ng\xe2n:"),s.a.createElement(q.a,{span:16},this.props.cookies.get(x)._id))),s.a.createElement(ve.a,null),s.a.createElement("ul",{className:"money-counting__submit-checkout-session-dialog__bill__list-items"},s.a.createElement("li",{style:{fontWeight:"bold",paddingBottom:10}},s.a.createElement(M.a,null,s.a.createElement(q.a,{span:10},"S\u1ea3n ph\u1ea9m"),s.a.createElement(q.a,{span:7},s.a.createElement("center",null,"SL")),s.a.createElement(q.a,{span:7},"Th\xe0nh ti\u1ec1n"))),e.soldItems.map((function(e){return s.a.createElement("li",{key:e._id},s.a.createElement(M.a,null,s.a.createElement(q.a,{span:10},e.product.name),s.a.createElement(q.a,{span:7},s.a.createElement("center",null,e.quantity)),s.a.createElement(q.a,{span:7},s.a.createElement(de.a,{value:Number(e.product.price*e.quantity),displayType:"text",thousandSeparator:!0}))))}))),s.a.createElement(ve.a,null),s.a.createElement("div",{className:"money-counting__submit-checkout-session-dialog__bill__price-total"},s.a.createElement(M.a,null,s.a.createElement(q.a,{span:10},"T\u1ed5ng ti\u1ec1n"),s.a.createElement(q.a,{span:7}),s.a.createElement(q.a,{span:7},s.a.createElement(de.a,{value:Number(e.priceTotal),displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332"})))),s.a.createElement("div",{className:"money-counting__submit-checkout-session-dialog__bill__qrcode"},s.a.createElement(Se.a,{value:e._id,fgColor:"gray"})))}}]),t}(r.Component),xe=Object(N.a)(Ae),Ne=a(109),Oe=a.n(Ne),Ce=a(32),Te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).openNotification=function(e,t,a){re.a.warning({message:e,description:t,placement:a,duration:null})},a.state={isVisible:!1,checkoutSession:{}},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"setDialogVisible",value:function(e){this.setState({isVisible:e})}},{key:"onOK",value:function(){document.getElementById("money-counting-submit-checkout-session-dialog-btn-print-bill").click()}},{key:"submitCheckoutSession",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,s,i,c,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props,a=t.checkoutSessionID,n=t.checkedOutProducts,r={products:n.map((function(e){return e._id}))},this.props.setAppLoading(!0),e.next=6,fetch(S.Cashier.Checkout.submitCheckoutSession.replace("{checkoutSessionID}",a),{method:"PUT",body:JSON.stringify(r),headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 6:return e.next=8,e.sent.json();case 8:if(s=e.sent,this.props.setAppLoading(!1),200===s.status){e.next=23;break}if(404!==s.status||!s.data){e.next=17;break}return i=s.data.notExistedProductIDs,c=n.filter((function(e){return Ce.findIndex(i,(function(t){return t===e._id}))>=0})),c=Ce.uniqBy(c,"_id"),this.notifyNotExistedProducts(c,s.errors[0]),e.abrupt("return");case 17:if(400!==s.status||!s.data){e.next=21;break}return this.props.loadLackingItems(s.data.lackingItems),this.props.setLackingItemsDialogVisible(!0),e.abrupt("return");case 21:return g.a.error(s.errors[0]),e.abrupt("return");case 23:l=s.data.checkoutSession,this.setState({checkoutSession:l}),this.props.setCheckoutDoneScreenVisible(!0),this.props.setMainPanelOnWorking(!1),this.setDialogVisible(!0),e.next=33;break;case 30:return e.prev=30,e.t0=e.catch(0),e.abrupt("return",e.t0);case 33:case"end":return e.stop()}}),e,this,[[0,30]])})));return function(){return e.apply(this,arguments)}}()},{key:"notifyNotExistedProducts",value:function(e,t){this.openNotification(t,s.a.createElement("ul",{style:{paddingLeft:18}},e.map((function(e){return s.a.createElement("li",{key:e._id},e.name)}))),"bottomRight")}},{key:"render",value:function(){var e=this,t=this.props.checkedOutProducts,a=this.state.checkoutSession;return s.a.createElement("div",{className:"money-counting__submit-checkout-session-dialog"},s.a.createElement(E.a,{className:"money-counting__submit-checkout-session-dialog__btn-open",type:"primary",disabled:0===t.length,onClick:function(){return e.submitCheckoutSession()}},s.a.createElement("span",{style:{marginRight:5}},"Ho\xe0n t\u1ea5t t\xednh ti\u1ec1n"),s.a.createElement(ke.a,null)),s.a.createElement(z.a,{className:"money-counting__submit-checkout-session-dialog__content",title:s.a.createElement("span",{style:{color:"#ff8220",fontWeight:"bold"}},"H\xf3a \u0111\u01a1n b\xe1n h\xe0ng | L\xfac ",H()(a.submittedAt).format("HH:mm DD-MM-YYYY")),visible:this.state.isVisible,onOk:function(){return e.onOK()},onCancel:function(){return e.setDialogVisible(!1)},okText:"In h\xf3a \u0111\u01a1n",okButtonProps:{style:{display:"none"}},cancelButtonProps:{style:{display:"none"}},maskClosable:!1},Object.keys(a).length>0?s.a.createElement("div",{className:"money-counting__submit-checkout-session-dialog__content__bill"},s.a.createElement("div",{className:"money-counting__submit-checkout-session-dialog__content__bill__toolbar"},s.a.createElement(k.a,{title:"In h\xf3a \u0111\u01a1n",placement:"left"},s.a.createElement(E.a,{className:"money-counting__submit-checkout-session-dialog__content__bill__toolbar__item",shape:"circle",icon:s.a.createElement(Ee.a,null),onClick:function(){return e.onOK()}}))),s.a.createElement("div",{className:"money-counting__submit-checkout-session-dialog__content__bill__wrapper"},s.a.createElement(Oe.a,{trigger:function(){return s.a.createElement(E.a,{style:{display:"none"},id:"money-counting-submit-checkout-session-dialog-btn-print-bill"})},content:function(){return e.componentToPrintRef}}),s.a.createElement(xe,{ref:function(t){return e.componentToPrintRef=t},checkoutSession:Object(U.a)({},a)}))):s.a.createElement(s.a.Fragment,null)))}}]),t}(P),je=Object(C.b)(null,n)(Object(N.a)(Te)),Ie=a(694),De=(a(484),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={isVisible:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.isVisible;this.setDialogVisible(t)}},{key:"setDialogVisible",value:function(e){this.setState({isVisible:e})}},{key:"sendImportingRequest",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={products:this.props.lackingItems.map((function(e){return e.product._id}))},this.props.setAppLoading(!0),e.next=5,fetch(S.Cashier.Checkout.createImportingRequest,{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 5:return e.next=7,e.sent.json();case 7:if(a=e.sent,this.props.setAppLoading(!1),200===a.status){e.next=12;break}return g.a.error(a.errors[0]),e.abrupt("return");case 12:g.a.success(a.messages[0]),this.setDialogVisible(!1),this.props.setLackingItemsDialogVisible(!1),e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.lackingItems;t=t.map((function(e){return Object(U.a)({},e,{key:e.product._id})}));var a=[{title:"S\u1ea3n ph\u1ea9m",dataIndex:"productName",key:"productName",render:function(e,t){return s.a.createElement("div",null,s.a.createElement("img",{src:t.product.image,alt:""}),s.a.createElement("span",null,t.product.name))}},{title:s.a.createElement("center",null,"SL y\xeau c\u1ea7u"),dataIndex:"requiredQuantity",key:"requiredQuantity",width:100,render:function(e){return s.a.createElement("center",null,e)}},{title:s.a.createElement("center",null,"SL hi\u1ec7n c\xf3"),dataIndex:"availableQuantity",key:"availableQuantity",width:100,render:function(e){return s.a.createElement("center",null,e)}}];return s.a.createElement("div",{className:"importing-request-dialog"},s.a.createElement(z.a,{className:"importing-request-dialog__content",title:s.a.createElement("div",{className:"importing-request-dialog__content__title"},s.a.createElement(Ie.a,{className:"importing-request-dialog__content__title__icon"}),s.a.createElement("span",{className:"importing-request-dialog__content__title__text"},"S\u1ea3n ph\u1ea9m kh\xf4ng \u0111\u1ee7")),visible:this.state.isVisible,footer:null,onCancel:function(){e.setDialogVisible(!1),e.props.setLackingItemsDialogVisible(!1)},maskClosable:!1},s.a.createElement(ie.a,{dataSource:t,columns:a,pagination:!1,scroll:{y:300}}),s.a.createElement("div",{className:"importing-request-dialog__content__btn-send-request"},s.a.createElement(E.a,{className:"importing-request-dialog__content__btn-send-request__btn",type:"primary",shape:"round",onClick:function(){return e.sendImportingRequest()}},"G\u1eedi y\xeau c\u1ea7u nh\u1eadp h\xe0ng"))))}}]),t}(P)),Pe=Object(C.b)(null,n)(Object(N.a)(De)),Re=z.a.confirm,Le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).openNotification=function(e,t,a){re.a.open({message:e,description:t,placement:a})},a.handleScan=function(e){if(e){var t=a.state.availableProducts,n=e,r=Ce.findIndex(t,(function(e){return e._id===n}));if(r<0)return a.playSound(ye.a),a.openNotExistedProductNotification(),void a.clearScannedProduct();a.playSound(he.a);var i=Object(U.a)({},t[r]);a.openNotification(s.a.createElement("span",null,s.a.createElement("span",{style:{color:"#44b543",fontWeight:"bold",marginRight:10}},"+1"),i.name),"V\u1eeba xong","topRight");var c=a.state,l=c.checkedOutProducts,o=c.priceTotal;l.push({_id:i._id,key:i._id,order:l.length+1,name:i.name,price:i.price,category:i.category.name,supplier:i.supplier.name,image:i.image}),o=l.reduce((function(e,t){return e+t.price}),0),a.setState({scannedProduct:Object(U.a)({},i),checkedOutProducts:l,priceTotal:o})}},a.handleError=function(e){e&&g.a.error(e)},a.state={scannedProduct:{},availableProducts:[],checkedOutProducts:[],priceTotal:0,onWorking:!1,sound:"",checkoutSessionID:"",isCheckoutDoneScreenVisible:!1,lackingItems:[],isLackingItemsDialogVisible:!1},a.soundRef=s.a.createRef(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"clearAllStates",value:function(){this.setState({scannedProduct:{},checkedOutProducts:[],priceTotal:0,onWorking:!1,sound:"",checkoutSessionID:"",isCheckoutDoneScreenVisible:!1})}},{key:"createCheckoutSession",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.setAppLoading(!0),e.next=4,fetch(S.Cashier.Checkout.createCheckoutSession,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 4:return e.next=6,e.sent.json();case 6:if(t=e.sent,this.props.setAppLoading(!1),200===t.status){e.next=11;break}return g.a.error(t.errors[0]),e.abrupt("return");case 11:a=t.data.checkoutSession._id,n=t.data.availableProducts,g.a.success(t.messages[0]),this.setOnWorking(!0),this.props.setCheckoutPanelCheckoutSessionID(a),this.setState({checkoutSessionID:a,availableProducts:n}),e.next=22;break;case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return",e.t0);case 22:case"end":return e.stop()}}),e,this,[[0,19]])})));return function(){return e.apply(this,arguments)}}()},{key:"cancelCheckoutSession",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.setAppLoading(!0),e.next=4,fetch(S.Cashier.Checkout.cancelCheckoutSession.replace("{checkoutSessionID}",this.state.checkoutSessionID),{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 4:return e.next=6,e.sent.json();case 6:if(t=e.sent,this.props.setAppLoading(!1),200===t.status){e.next=11;break}return g.a.error(t.errors[0]),e.abrupt("return");case 11:this.setOnWorking(!1),g.a.success(t.messages[0]),e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"openNotExistedProductNotification",value:function(){re.a.warning({message:"C\u1ea3nh b\xe1o",description:"S\u1ea3n ph\u1ea9m n\xe0y kh\xf4ng c\xf3 trong si\xeau th\u1ecb"})}},{key:"clearScannedProduct",value:function(){this.setState({scannedProduct:{}})}},{key:"playSound",value:function(e){this.soundRef.src=e,this.soundRef.play()}},{key:"setOnWorking",value:function(e){this.setState({onWorking:e}),this.props.setCheckoutPanelOnWorking(e)}},{key:"backToGettingStarted",value:function(){var e=this;Re({title:"\u0110ang thao t\xe1c, b\u1ea1n c\xf3 mu\u1ed1n r\u1eddi kh\u1ecfi?",icon:s.a.createElement(ee.a,null),content:"",okText:"\u0110\u1ed3ng \xfd",okType:"danger",cancelText:"Kh\xf4ng, c\u1ea3m \u01a1n",onOk:function(){e.cancelCheckoutSession()}})}},{key:"openRemoveCheckoutProductConfirm",value:function(e){var t=this;Re({title:"B\u1ea1n mu\u1ed1n lo\u1ea1i b\u1ecf 1 ".concat(e.name,"?"),icon:s.a.createElement(ee.a,null),content:"",okText:"\u0110\u1ed3ng \xfd",okType:"danger",cancelText:"Kh\xf4ng, c\u1ea3m \u01a1n",onOk:function(){var a=t.state,n=a.checkedOutProducts,r=a.priceTotal;(n=n.filter((function(t){return t.order!==e.order}))).sort((function(e,t){return e.order-t.order})),r-=e.price,e.order!==t.state.scannedProduct.order&&0!==n.length||t.clearScannedProduct(),t.setState({checkedOutProducts:n,priceTotal:r}),t.playSound(ge.a),t.openNotification(s.a.createElement("span",null,s.a.createElement("span",{style:{color:"crimson",fontWeight:"bold",marginRight:10}},"-1"),e.name),"V\u1eeba xong","topRight")}})}},{key:"setCheckoutDoneScreenVisible",value:function(e){this.setState({isCheckoutDoneScreenVisible:e})}},{key:"continueToCheckout",value:function(){this.clearAllStates(),this.createCheckoutSession(),this.props.setMainPanelOnWorking(!0)}},{key:"loadLackingItems",value:function(e){this.setState({lackingItems:e})}},{key:"setLackingItemsDialogVisible",value:function(e){this.setState({isLackingItemsDialogVisible:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.scannedProduct,r=t.checkedOutProducts,i=t.priceTotal,c=t.onWorking,l=t.lackingItems,o=Object.keys(n).length>0,u=[{title:s.a.createElement("center",null,"STT"),dataIndex:"order",key:"order",width:"5rem",render:function(e){return s.a.createElement("center",null,e)}},{title:"S\u1ea3n ph\u1ea9m",dataIndex:"name",key:"name",width:"15.625rem",render:function(e,t){return s.a.createElement("div",{className:"money-counting__panel__right__shopping-cart__list-products__item"},t.image?s.a.createElement("img",{src:t.image,alt:"product"}):s.a.createElement(ce.a,null),s.a.createElement("span",{className:"money-counting__panel__right__shopping-cart__list-products__item__name"},e))}},{title:"Gi\xe1 b\xe1n",dataIndex:"price",key:"price",width:"9.375rem",render:function(e){return s.a.createElement(de.a,{value:Number(e),displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",style:{fontWeight:"bold"}})}},{title:"Danh m\u1ee5c",dataIndex:"category",key:"category",width:"9.375rem"},{title:"Nh\xe0 cung c\u1ea5p",dataIndex:"supplier",key:"supplier",width:"9.375rem"},{title:"",dataIndex:"",key:"",render:function(t,a){return s.a.createElement(E.a,{className:"money-counting__panel__right__shopping-cart__list-products__btn-remove-item",shape:"circle",icon:s.a.createElement(le.a,null),onClick:function(){return e.openRemoveCheckoutProductConfirm(Object(U.a)({},a))}})}}];return s.a.createElement("div",{className:"money-counting"},c?s.a.createElement("div",{style:{height:"100%"}},s.a.createElement(Pe,{lackingItems:Object(te.a)(l),isVisible:this.state.isLackingItemsDialogVisible,setLackingItemsDialogVisible:function(t){return e.setLackingItemsDialogVisible(t)}}),s.a.createElement("audio",{ref:function(t){e.soundRef=t},src:"",controls:!0,autoPlay:!0,style:{display:"none"}}),s.a.createElement("div",{className:"money-counting__panel"},this.state.isCheckoutDoneScreenVisible?s.a.createElement("div",{className:"money-counting__panel__checkout-done"},s.a.createElement("h1",{className:"money-counting__panel__checkout-done__title"},"Phi\xean t\xednh ti\u1ec1n \u0111\xe3 ho\xe0n t\u1ea5t"),s.a.createElement(oe.a,{className:"money-counting__panel__checkout-done__icon"}),s.a.createElement(E.a,{className:"money-counting__panel__checkout-done__btn-continue",onClick:function(){return e.continueToCheckout()}},"Ti\u1ebfp t\u1ee5c t\xednh ti\u1ec1n")):s.a.createElement(s.a.Fragment,null),s.a.createElement(M.a,null,s.a.createElement(q.a,{span:6},s.a.createElement("div",{className:"money-counting__panel__left"},s.a.createElement("div",{className:"money-counting__panel__left__header"},s.a.createElement(E.a,{shape:"circle",icon:s.a.createElement(ue.a,null),className:"money-counting__panel__left__header__btn-back",onClick:function(){return e.backToGettingStarted()}}),s.a.createElement("div",{className:"money-counting__panel__left__header__company"},s.a.createElement("img",{className:"money-counting__panel__left__header__company__logo",src:a(102),alt:"logo"}),s.a.createElement("div",{className:"money-counting__panel__left__header__company__brand"},s.a.createElement("div",{className:"money-counting__panel__left__header__company__brand__name"},s.a.createElement("span",null,"Mini Mart")),s.a.createElement("div",{className:"money-counting__panel__left__header__company__brand__slogan"},s.a.createElement("span",null,"Ti\u1ec7n L\u1ee3i m\xe0 Ch\u1ea5t L\u01b0\u1ee3ng"))))),s.a.createElement("div",{className:"money-counting__panel__left__product-scanning animated fadeIn"},s.a.createElement(ne.a,{delay:1500,onError:function(t){return e.handleError(t)},onScan:function(t){return e.handleScan(t)},className:"money-counting__panel__left__product-scanning__scanner"})),s.a.createElement("div",{className:"money-counting__panel__left__product-details"},s.a.createElement(M.a,{align:"middle"},s.a.createElement(q.a,{span:21},s.a.createElement("span",{className:"money-counting__panel__left__product-details__title"},"Th\xf4ng tin qu\xe9t m\xe3")),s.a.createElement(q.a,{span:3,align:"center"},s.a.createElement(k.a,{title:"L\xe0m s\u1ea1ch",placement:"bottom"},s.a.createElement(E.a,{shape:"circle",icon:s.a.createElement(me.a,null),className:"money-counting__panel__left__product-details__btn-clear",onClick:function(){return e.clearScannedProduct()}})))),o?s.a.createElement(M.a,{gutter:20},s.a.createElement(q.a,{span:8},s.a.createElement("ul",{className:"money-counting__panel__left__product-details__labels"},s.a.createElement("li",null,"T\xean s\u1ea3n ph\u1ea9m"),s.a.createElement("li",null,"Gi\xe1 b\xe1n"),s.a.createElement("li",null,"Th\u1ec3 lo\u1ea1i"),s.a.createElement("li",null,"Nh\xe0 ph\xe2n ph\u1ed1i"))),s.a.createElement(q.a,{span:16},s.a.createElement("ul",{className:"money-counting__panel__left__product-details__texts"},s.a.createElement("li",null,n.name),s.a.createElement("li",null,s.a.createElement(de.a,{value:n.price,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",style:{fontWeight:"bold"}})),s.a.createElement("li",null,n.category.name),s.a.createElement("li",null,n.supplier.name)))):s.a.createElement(se.a,{image:se.a.PRESENTED_IMAGE_SIMPLE,description:"Ch\u01b0a t\xecm th\u1ea5y",className:"money-counting__panel__left__product-details__empty"})))),s.a.createElement(q.a,{span:18},s.a.createElement("div",{className:"money-counting__panel__right"},s.a.createElement("div",{className:"money-counting__panel__right__header"},s.a.createElement(M.a,{align:"middle"},s.a.createElement(q.a,{span:12},s.a.createElement("div",{className:"money-counting__panel__right__header__title"},s.a.createElement("div",{className:"money-counting__panel__right__header__title__icon-wrapper"},s.a.createElement(pe.a,{className:"money-counting__panel__right__header__title__icon-wrapper__icon"}),s.a.createElement("div",{className:"money-counting__panel__right__header__title__icon-wrapper__total-item"},s.a.createElement("span",null,r.length))),s.a.createElement("span",null,"Gi\u1ecf h\xe0ng c\u1ee7a kh\xe1ch"))),s.a.createElement(q.a,{span:6},s.a.createElement("div",{className:"money-counting__panel__right__header__total-price"},s.a.createElement("span",{className:"money-counting__panel__right__header__total-price__label"},"T\u1ed5ng ti\u1ec1n:"),s.a.createElement(de.a,{value:i,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",className:"money-counting__panel__right__header__total-price__price"}))),s.a.createElement(q.a,{span:6},s.a.createElement(je,{checkedOutProducts:Object(te.a)(r),checkoutSessionID:this.state.checkoutSessionID,setCheckoutDoneScreenVisible:function(t){return e.setCheckoutDoneScreenVisible(t)},setMainPanelOnWorking:function(t){return e.props.setMainPanelOnWorking(t)},loadLackingItems:function(t){return e.loadLackingItems(t)},setLackingItemsDialogVisible:function(t){return e.setLackingItemsDialogVisible(t)}})))),s.a.createElement("div",{className:"money-counting__panel__right__shopping-cart"},s.a.createElement("div",{className:"money-counting__panel__right__shopping-cart__list-products"},s.a.createElement(ie.a,{dataSource:Object(te.a)(r),columns:u,pagination:!1,scroll:{y:500},locale:{emptyText:s.a.createElement(se.a,{image:se.a.PRESENTED_IMAGE_SIMPLE,description:"Gi\u1ecf h\xe0ng tr\u1ed1ng"})}})))))))):s.a.createElement("div",{className:"money-counting__getting-started animated fadeIn"},s.a.createElement("div",{className:"money-counting__getting-started__content"},s.a.createElement("div",{className:"money-counting__getting-started__content__left animated bounceInLeft"},s.a.createElement("h1",{className:"money-counting__getting-started__content__left__title"},"T\xednh ti\u1ec1n cho kh\xe1ch"),s.a.createElement(E.a,{type:"submit",className:"money-counting__getting-started__content__left__btn-start",onClick:function(){return e.createCheckoutSession()}},"B\u1eaft \u0111\u1ea7u t\xednh ti\u1ec1n")),s.a.createElement("div",{className:"money-counting__getting-started__content__right-cover"},s.a.createElement("div",{className:"money-counting__getting-started__content__right-cover__img"}))),s.a.createElement("div",{className:"money-counting__getting-started__bottom-wave"},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"},s.a.createElement("path",{fill:"url(#my-cool-gradient)",fillOpacity:1,d:"M0,256L48,250.7C96,245,192,235,288,197.3C384,160,480,96,576,74.7C672,53,768,75,864,112C960,149,1056,203,1152,192C1248,181,1344,107,1392,69.3L1440,32L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"}),s.a.createElement("linearGradient",{id:"my-cool-gradient",x2:"1",y2:"1"},s.a.createElement("stop",{offset:"0%",stopColor:"#ff5858"}),s.a.createElement("stop",{offset:"100%",stopColor:"#f09819"}))))))}}]),t}(P),Me=Object(C.b)(null,n)(Object(N.a)(Le)),qe=(a(512),a(686)),We={STATUS:{PENDING:{type:"PENDING",name:"\u0110ang ch\u1edd duy\u1ec7t"},ACCEPTED:{type:"ACCEPTED",name:"\u0110ang th\u1ef1c hi\u1ec7n"},FINISHED:{type:"FINISHED",name:"\u0110\xe3 ho\xe0n t\u1ea5t"},CANCELLED:{type:"CANCELLED",name:"\u0110\xe3 b\u1ecb t\u1eeb ch\u1ed1i"}}},He=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={importingRequests:[],isLoading:!0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadImportingRequests()}},{key:"loadImportingRequests",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.setAppLoading(!0),e.next=4,fetch(S.Cashier.Checkout.getImportingRequests,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 4:return e.next=6,e.sent.json();case 6:if(t=e.sent,this.props.setAppLoading(!1),200===t.status){e.next=11;break}return g.a.error(t.errors[0]),e.abrupt("return");case 11:this.setState({importingRequests:t.data.importingRequests,isLoading:!1}),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.importingRequests;return s.a.createElement("div",{className:"importing-request-history"},s.a.createElement("div",{className:"importing-request-history__header"},s.a.createElement("div",{className:"importing-request-history__header__title"},s.a.createElement(X.a,{className:"importing-request-history__header__title__icon"}),s.a.createElement("span",{className:"importing-request-history__header__title__text"},"Y\xeau c\u1ea7u nh\u1eadp h\xe0ng"))),this.state.isLoading?s.a.createElement(s.a.Fragment,null):s.a.createElement("div",{className:"importing-request-history__content animated slideInUp"},s.a.createElement("div",{className:"importing-request-history__content__timeline"},0===e.length?s.a.createElement("div",{className:"importing-request-history__content__timeline__empty"},s.a.createElement(se.a,{description:"Ch\u01b0a c\xf3 ghi nh\u1eadn n\xe0o"})):s.a.createElement(qe.a,{mode:"left"},e.map((function(e){return e.requiredProducts.length>0?s.a.createElement(qe.a.Item,{key:e._id,label:e.createdAt?H()(e.createdAt).format("DD-MM-YYYY HH:mm"):H()().format("DD-MM-YYYY HH:mm"),color:"#ff8220"},s.a.createElement("div",{className:"importing-request-history__content__timeline__item animated fadeInRight",style:{animationDelay:"0.5s"}},s.a.createElement("p",{className:"importing-request-history__content__timeline__item__list-products"},e.requiredProducts.map((function(t,a){return a<e.requiredProducts.length-1?s.a.createElement("span",{key:a},"".concat(t.product.name,", ")):s.a.createElement("span",{key:a},"".concat(t.product.name,"."))}))),s.a.createElement("span",{style:{color:"rgba(0,0,0,0.4)"}},"Tr\u1ea1ng th\xe1i:",s.a.createElement("span",{className:"importing-request-history__content__timeline__item__status --".concat(e.status)},We.STATUS[e.status].name)))):s.a.createElement(s.a.Fragment,null)}))))))}}]),t}(P),Fe=Object(C.b)(null,n)(Object(N.a)(He)),Ve=(a(513),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={checkoutSessions:[],isLoading:!0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadCheckoutSessions()}},{key:"loadCheckoutSessions",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.setAppLoading(!0),e.next=4,fetch(S.Cashier.Checkout.getCheckoutSessions,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 4:return e.next=6,e.sent.json();case 6:if(t=e.sent,this.props.setAppLoading(!1),200===t.status){e.next=11;break}return g.a.error(t.errors[0]),e.abrupt("return");case 11:this.setState({checkoutSessions:t.data.checkoutSessions,isLoading:!1}),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.checkoutSessions;return s.a.createElement("div",{className:"transaction-history"},s.a.createElement("div",{className:"transaction-history__header"},s.a.createElement("div",{className:"transaction-history__header__title"},s.a.createElement($.a,{className:"transaction-history__header__title__icon"}),s.a.createElement("span",{className:"transaction-history__header__title__text"},"L\u1ecbch s\u1eed giao d\u1ecbch"))),this.state.isLoading?s.a.createElement(s.a.Fragment,null):s.a.createElement("div",{className:"transaction-history__content animated slideInUp"},s.a.createElement("div",{className:"transaction-history__content__timeline"},0===e.length?s.a.createElement("div",{className:"transaction-history__content__timeline__empty"},s.a.createElement(se.a,{description:"Ch\u01b0a c\xf3 ghi nh\u1eadn n\xe0o"})):s.a.createElement(qe.a,{mode:"left"},e.map((function(e){return e.soldItems.length>0?s.a.createElement(qe.a.Item,{key:e._id,label:e.submittedAt?H()(e.submittedAt).format("DD-MM-YYYY HH:mm"):H()().format("DD-MM-YYYY HH:mm"),color:"#ff8220"},s.a.createElement("div",{className:"transaction-history__content__timeline__item animated fadeInRight",style:{animationDelay:"0.5s"}},s.a.createElement("p",{className:"transaction-history__content__timeline__item__list-products"},e.soldItems.map((function(t,a){return a<e.soldItems.length-1?s.a.createElement("span",{key:a},"".concat(t.product.name," x").concat(t.quantity,", ")):s.a.createElement("span",{key:a},"".concat(t.product.name," x").concat(t.quantity,"."))}))),s.a.createElement("div",{className:"transaction-history__content__timeline__item__price-total"},s.a.createElement("span",{className:"transaction-history__content__timeline__item__price-total__label"},"T\u1ed5ng ti\u1ec1n:"),s.a.createElement(de.a,{className:"transaction-history__content__timeline__item__price-total__number",value:Number(e.priceTotal),displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",style:{fontWeight:"bold"}})))):s.a.createElement("span",{key:e._id})}))))))}}]),t}(P)),Ue=Object(C.b)(null,n)(Object(N.a)(Ve)),Ye=[{key:"1",title:"T\xednh ti\u1ec1n cho kh\xe1ch",icon:Z.a},{key:"2",title:"Y\xeau c\u1ea7u nh\u1eadp h\xe0ng",icon:X.a},{key:"3",title:"L\u1ecbch s\u1eed giao d\u1ecbch",icon:$.a}],Be=z.a.confirm,Qe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).toggleCollapsed=function(){a.setState({collapsed:!a.state.collapsed})},a.state={collapsed:!1,selectedMenuItem:Object(U.a)({},Ye[0]),onWorking:!1,checkoutSessionID:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"setCheckoutSessionID",value:function(e){this.setState({checkoutSessionID:e})}},{key:"handleSelectMenuItem",value:function(e){var t=e.key;if(t!==this.state.selectedMenuItem.key)if(this.state.onWorking){var a=this;Be({title:"\u0110ang thao t\xe1c, b\u1ea1n c\xf3 mu\u1ed1n r\u1eddi kh\u1ecfi?",icon:s.a.createElement(ee.a,null),content:"",okText:"\u0110\u1ed3ng \xfd",okType:"danger",cancelText:"Kh\xf4ng, c\u1ea3m \u01a1n",onOk:function(){a.cancelCheckoutSession(t)}})}else this.setState({selectedMenuItem:Ye.find((function(e){return e.key===t}))})}},{key:"setOnWorking",value:function(e){this.setState({onWorking:e})}},{key:"cancelCheckoutSession",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.setAppLoading(!0),e.next=4,fetch(S.Cashier.Checkout.cancelCheckoutSession.replace("{checkoutSessionID}",this.state.checkoutSessionID),{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 4:return e.next=6,e.sent.json();case 6:if(a=e.sent,this.props.setAppLoading(!1),200===a.status){e.next=11;break}return g.a.error(a.errors[0]),e.abrupt("return");case 11:this.setState({selectedMenuItem:Ye.find((function(e){return e.key===t})),onWorking:!1,checkoutSessionID:""}),g.a.success(a.messages[0]),e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.selectedMenuItem;return s.a.createElement("div",{className:"checkout-panel"},s.a.createElement("div",{className:"checkout-panel__main-board"},s.a.createElement("div",{className:"checkout-panel__main-board__navbar"},s.a.createElement(K.a,{defaultSelectedKeys:["1"],mode:"inline",theme:"dark",inlineCollapsed:!0,onClick:function(t){return e.handleSelectMenuItem(t)}},Ye.map((function(e){return s.a.createElement(K.a.Item,{key:e.key,className:"checkout-panel__main-board__navbar__item animated fadeIn ".concat(t.key===e.key?"checkout-panel__main-board__navbar__item--selected":"")},s.a.createElement(e.icon,{className:"checkout-panel__main-board__navbar__item__icon"}),s.a.createElement("span",null,e.title))})))),s.a.createElement("div",{className:"checkout-panel__main-board__content"},"1"===t.key?s.a.createElement(Me,{setCheckoutPanelOnWorking:function(t){return e.setOnWorking(t)},setCheckoutPanelCheckoutSessionID:function(t){return e.setCheckoutSessionID(t)},setMainPanelOnWorking:function(t){return e.setOnWorking(t)}}):s.a.createElement(s.a.Fragment,null),"2"===t.key?s.a.createElement(Fe,null):s.a.createElement(s.a.Fragment,null),"3"===t.key?s.a.createElement(Ue,null):s.a.createElement(s.a.Fragment,null))))}}]),t}(P),Ge=Object(C.b)(null,n)(Object(N.a)(Qe)),Je=(a(514),a(687)),ze=a(173),Ke=a(78),Ze=a(685),Xe=a(709),$e=a(710),et=a(711),tt=a(712),at=a(682),nt=a(705),rt=a(706),st=(a(515),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&a.getBase64(e.file.originFileObj,(function(e){a.props.onFinish(e),a.setState({imageUrl:e,loading:!1})})):a.setState({loading:!0})},a.state={loading:!1,imageUrl:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"getBase64",value:function(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}},{key:"beforeUpload",value:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||g.a.error("Ch\u1ec9 cho ph\xe9p \u1ea3nh c\xf3 \u0111\u1ecbnh d\u1ea1ng *.jpeg ho\u1eb7c *.png");var a=e.size/1024/1024<2;return a||g.a.error("K\xedch th\u01b0\u1edbc \u1ea3nh qu\xe1 l\u1edbn"),t&&a}},{key:"componentWillReceiveProps",value:function(e){this.setState({imageUrl:e.clearImage?"":this.state.imageUrl})}},{key:"render",value:function(){var e=this,t=this.props,a=t.defaultImageUrl,n=t.width,r=t.height,i=t.tooltipTitle,c=t.tooltipPlacement,l=t.isAvatar,o=this.state.imageUrl,u=s.a.createElement("div",null,a?s.a.createElement(k.a,{title:i,placement:c},s.a.createElement("div",{className:"image-uploader__default-img",style:{width:n,height:r}},l?s.a.createElement(L.a,{src:a,size:n}):s.a.createElement("img",{src:a,alt:"default"}))):s.a.createElement("div",{className:"image-uploader--empty",style:{width:n,height:r}},s.a.createElement(nt.a,null),s.a.createElement("span",{className:"image-uploader--empty__text"},"T\u1ea3i \u1ea3nh l\xean"))),m=s.a.createElement("div",{style:{width:n,height:r},className:"image-uploader__btn-upload"},this.state.loading?s.a.createElement(rt.a,null):u);return s.a.createElement("div",{className:"image-uploader",style:{width:n,height:r}},s.a.createElement(at.a,{name:"avatar",listType:"picture-card",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:function(t){return e.beforeUpload(t)},onChange:function(t){return e.handleChange(t)}},o?s.a.createElement(k.a,{title:i,placement:c},s.a.createElement("div",{className:"image-uploader__uploaded-img",style:{width:n,height:r}},l?s.a.createElement(L.a,{src:o,size:n}):s.a.createElement("img",{src:o,alt:"uploaded"}))):m))}}]),t}(r.Component)),it=(a(550),a(707)),ct={labelCol:{span:7},wrapperCol:{span:17}},lt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={isVisible:!1},a.formRef=s.a.createRef(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"setDialogVisible",value:function(e){this.formRef.current&&this.formRef.current.resetFields(),this.setState({isVisible:e})}},{key:"onOK",value:function(){document.getElementById("product-management-add-product-dialog-btn-submit").click()}},{key:"onFinish",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.setAppLoading(!0),a={image:t.image,name:t.name,supplierID:t.supplier,categoryID:this.props.selectedCategory._id,price:t.price,availableQuantity:t.availableQuantity},e.next=5,fetch(S.Importer.ProductManagement.addProduct,{method:"POST",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 5:return e.next=7,e.sent.json();case 7:if(n=e.sent,this.props.setAppLoading(!1),200===n.status){e.next=12;break}return g.a.error(n.errors[0]),e.abrupt("return");case 12:r=n.data.product,this.setDialogVisible(!1),this.props.addToListProducts(Object(U.a)({},r)),g.a.success(n.messages[0]),e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",e.t0);case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.selectedCategory;return s.a.createElement("div",{className:"product-management__add-product-dialog"},s.a.createElement(E.a,{shape:"circle",icon:s.a.createElement(it.a,null),className:"product-management__add-product-dialog__btn-open animated bounceIn",onClick:function(){return e.setDialogVisible(!0)}}),s.a.createElement(z.a,{title:s.a.createElement("span",{style:{color:"#ff8220",fontWeight:"bold"}},"Danh m\u1ee5c: ".concat(t.name," | S\u1ea3n ph\u1ea9m m\u1edbi")),visible:this.state.isVisible,onOk:function(){return e.onOK()},onCancel:function(){return e.setDialogVisible(!1)},okText:"Th\xeam",cancelText:"H\u1ee7y b\u1ecf",okButtonProps:{style:{background:"#ff8220",border:0,fontWeight:"bold"}}},s.a.createElement("div",{className:"product-management__add-product-dialog__content"},s.a.createElement("div",{className:"product-management__add-product-dialog__content__img-uploading"},s.a.createElement(st,{width:150,height:150,tooltipTitle:"Nh\u1ea5n \u0111\u1ec3 thay \u0111\u1ed5i \u1ea3nh",tooltipPlacement:"bottom",onFinish:function(t){return e.formRef.current.setFieldsValue({image:t})},clearImage:!this.state.isVisible})),s.a.createElement(b.a,Object.assign({},ct,{ref:function(t){e.formRef.current=t,e.formRef.current&&e.formRef.current.setFieldsValue({supplier:e.props.suppliers[0]._id})},className:"product-management__add-product-dialog__content__form",onFinish:function(t){return e.onFinish(t)},onFinishFailed:function(){return g.a.error("Th\xf4ng tin s\u1ea3n ph\u1ea9m ch\u01b0a \u0111\u1ea7y \u0111\u1ee7, vui l\xf2ng ki\u1ec3m tra l\u1ea1i.")}}),s.a.createElement(b.a.Item,{name:"image",rules:[{required:!0}],style:{display:"none"}},s.a.createElement(y.a,null)),s.a.createElement(b.a.Item,{style:{display:"none"}},s.a.createElement(E.a,{id:"product-management-add-product-dialog-btn-submit",htmlType:"submit"})),s.a.createElement(b.a.Item,{name:"name",label:"T\xean s\u1ea3n ph\u1ea9m",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp t\xean s\u1ea3n ph\u1ea9m"}]},s.a.createElement(y.a,{placeholder:"T\u1ed1i \u0111a 50 k\xed t\u1ef1"})),s.a.createElement(b.a.Item,{name:"supplier",label:"Nh\xe0 cung c\u1ea5p",rules:[{required:!0}]},s.a.createElement(Ke.a,null,this.props.suppliers.map((function(e){return s.a.createElement(Ke.a.Option,{value:e._id,key:e._id},e.name)})))),s.a.createElement(b.a.Item,{name:"price",label:"Gi\xe1 b\xe1n (\u0111\u0332)",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp gi\xe1 b\xe1n"}]},s.a.createElement(Ze.a,{placeholder:"T\u1ed1i thi\u1ec3u l\xe0 0",formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")}})),s.a.createElement(b.a.Item,{name:"availableQuantity",label:"S\u1ed1 l\u01b0\u1ee3ng hi\u1ec7n c\xf3",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng hi\u1ec7n c\xf3"}]},s.a.createElement(Ze.a,{placeholder:"T\u1ed1i thi\u1ec3u l\xe0 0",formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")}}))))))}}]),t}(P),ot=Object(C.b)(null,n)(Object(N.a)(lt)),ut=(a(553),{labelCol:{span:6},wrapperCol:{span:18}}),mt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={isVisible:!1},a.formRef=s.a.createRef(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"setDialogVisible",value:function(e){this.setState({isVisible:e})}},{key:"onOk",value:function(){document.getElementById("add-category-dialog-btn-submit").click()}},{key:"onFinish",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.setAppLoading(!0),e.next=4,fetch(S.Importer.ProductManagement.addCategory,{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 4:return e.next=6,e.sent.json();case 6:if(a=e.sent,this.props.setAppLoading(!1),200===a.status){e.next=11;break}return g.a.error(a.errors[0]),e.abrupt("return");case 11:this.props.addToListCategories(a.data.category),this.setDialogVisible(!1),g.a.success(a.messages[0]),e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",e.t0);case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"product-management__add-category-dialog"},s.a.createElement("div",{className:"product-management__add-category-dialog__btn-open-wrapper"},s.a.createElement(E.a,{icon:s.a.createElement(it.a,null),className:"product-management__add-category-dialog__btn-open-wrapper__btn animated fadeIn",onClick:function(){return e.setDialogVisible(!0)}})),s.a.createElement(z.a,{className:"product-management__add-category-dialog__content",title:s.a.createElement("span",{style:{color:"#ff8220",fontWeight:"bold"}},"Danh m\u1ee5c m\u1edbi"),centered:!0,visible:this.state.isVisible,onOk:function(){return e.onOk()},onCancel:function(){e.setDialogVisible(!1),e.formRef.current&&e.formRef.current.resetFields()},okText:"Th\xeam",cancelText:"H\u1ee7y b\u1ecf",okButtonProps:{style:{background:"#ff8220",border:0,fontWeight:"bold"}}},s.a.createElement(b.a,Object.assign({},ut,{ref:function(t){return e.formRef.current=t},onFinish:function(t){return e.onFinish(t)},onFinishFailed:function(){return g.a.error("Ch\u01b0a nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin, vui l\xf2ng ki\u1ec3m tra l\u1ea1i.")}}),s.a.createElement(b.a.Item,{name:"name",label:"T\xean danh m\u1ee5c",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp t\xean danh m\u1ee5c"}]},s.a.createElement(y.a,{placeholder:"T\u1ed1i \u0111a 30 k\xed t\u1ef1",autoFocus:!0})),s.a.createElement(b.a.Item,{style:{display:"none"}},s.a.createElement(E.a,{id:"add-category-dialog-btn-submit",htmlType:"submit"})))))}}]),t}(P),pt=Object(C.b)(null,n)(Object(N.a)(mt)),dt=(a(554),{labelCol:{span:6},wrapperCol:{span:18}}),_t=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={isVisible:!1},a.formRef=s.a.createRef(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"setDialogVisible",value:function(e){!e&&this.formRef.current&&this.formRef.current.resetFields(),this.setState({isVisible:e})}},{key:"onOk",value:function(){document.getElementById("edit-category-dialog-btn-submit").click()}},{key:"onFinish",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.setAppLoading(!1),e.next=4,fetch(S.Importer.ProductManagement.updateCategory.replace("{categoryID}",this.props.category._id),{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 4:return e.next=6,e.sent.json();case 6:if(a=e.sent,this.props.setAppLoading(!1),200===a.status){e.next=11;break}return g.a.error(a.errors[0]),e.abrupt("return");case 11:(n=this.props.category).name=t.name,this.props.updateCategoryInList(n),this.setDialogVisible(!1),g.a.success(a.messages[0]),e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(0),e.abrupt("return",e.t0);case 21:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.category;return s.a.createElement("div",{className:"product-management__edit-category-dialog"},s.a.createElement(E.a,{type:"link",className:"product-management__edit-category-dialog__btn-open",onClick:function(){return e.setDialogVisible(!0)}},"Ch\u1ec9nh s\u1eeda"),s.a.createElement(z.a,{className:"product-management__edit-category-dialog__content",title:s.a.createElement("span",{style:{color:"#ff8220",fontWeight:"bold"}},"Danh m\u1ee5c: ".concat(t.name," | S\u1eeda th\xf4ng tin")),centered:!0,visible:this.state.isVisible,onOk:function(){return e.onOk()},onCancel:function(){return e.setDialogVisible(!1)},okText:"L\u01b0u thay \u0111\u1ed5i",cancelText:"H\u1ee7y b\u1ecf",okButtonProps:{style:{background:"#ff8220",border:0,fontWeight:"bold"}}},s.a.createElement(b.a,Object.assign({},dt,{ref:function(t){e.formRef.current=t,e.formRef.current&&e.formRef.current.setFieldsValue({name:e.props.category.name})},onFinish:function(t){return e.onFinish(t)},onFinishFailed:function(){return g.a.error("Ch\u01b0a nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin, vui l\xf2ng ki\u1ec3m tra l\u1ea1i.")}}),s.a.createElement(b.a.Item,{name:"name",label:"T\xean danh m\u1ee5c",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp t\xean danh m\u1ee5c"}]},s.a.createElement(y.a,{placeholder:"T\u1ed1i \u0111a 30 k\xed t\u1ef1",autoFocus:!0})),s.a.createElement(b.a.Item,{style:{display:"none"}},s.a.createElement(E.a,{id:"edit-category-dialog-btn-submit",htmlType:"submit"})))))}}]),t}(P),ht=Object(C.b)(null,n)(Object(N.a)(_t)),ft=a(320),gt=(a(555),a(675)),bt=(a(556),a(219)),yt=a.n(bt),kt=a(313),Et=a.n(kt),vt=(a(576),{API_KEY:l.GOOGLE_MAPS_API_KEY,GEOCODING:{LANGUAGE:"en",REGION:""}}),wt={lat:0,lng:0},St=function(e){var t=e.icon,a=e.text;return s.a.createElement("div",{className:"google-map__location-icon"},s.a.createElement(k.a,{title:a,placement:"right"},t))},At=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={address:"Unknown",location:wt},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.loadData(Object(U.a)({},this.props))}},{key:"componentWillReceiveProps",value:function(e){this.loadData(Object(U.a)({},e))}},{key:"loadData",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.address,e.next=4,this.getAddressLocation(a);case 4:n=e.sent,this.setState({address:a||"Unknown",location:n}),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAddressText",value:function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yt.a.fromLatLng(t,a,vt.API_KEY,vt.GEOCODING.LANGUAGE,vt.GEOCODING.REGION);case 3:return n=e.sent,e.abrupt("return",n.results[0].formatted_address);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return","Unknown");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getAddressLocation",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}return e.abrupt("return",wt);case 3:return e.next=5,yt.a.fromAddress(t,vt.API_KEY,vt.GEOCODING.LANGUAGE,vt.GEOCODING.REGION);case 5:return a=e.sent,e.abrupt("return",a.results[0].geometry.location);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",wt);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.width,a=e.height,n=e.locationIcon,r=this.state,i=r.location,c=r.address;return s.a.createElement("div",{className:"google-map",style:{width:t,height:a}},s.a.createElement(Et.a,{bootstrapURLKeys:vt.API_KEY,center:i,defaultZoom:15},s.a.createElement(St,{lat:i.lat,lng:i.lng,icon:n,text:c})))}}]),t}(r.Component),xt=a(708),Nt=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.supplier,a=e.buttonText,n=e.buttonStyle,r=e.placement,i=s.a.createElement("div",{className:"supplier-contact-popover__content"},s.a.createElement(M.a,{style:{width:"100%"},gutter:15},s.a.createElement(q.a,{span:8},"Th\u01b0\u01a1ng hi\u1ec7u"),s.a.createElement(q.a,{span:16},s.a.createElement("strong",null,t.name))),s.a.createElement(M.a,{style:{width:"100%"},gutter:15},s.a.createElement(q.a,{span:8},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),s.a.createElement(q.a,{span:16},t.phone)),s.a.createElement(M.a,{style:{width:"100%"},gutter:15},s.a.createElement(q.a,{span:8},"\u0110\u1ecba ch\u1ec9"),s.a.createElement(q.a,{span:16},t.address)),s.a.createElement(At,{width:"100%",height:200,address:t.address,locationIcon:s.a.createElement(xt.a,{twoToneColor:"#ff8220",style:{fontSize:24}})}));return s.a.createElement("div",{className:"supplier-contact-popover"},s.a.createElement(gt.a,{placement:r,title:"Li\xean h\u1ec7 nh\xe0 cung c\u1ea5p",content:i,trigger:"click",overlayClassName:"supplier-contact-popover__popover"},s.a.createElement(E.a,{type:"link",style:Object(U.a)({},n,{paddingLeft:0}),className:"supplier-contact-popover__btn"},a)))}}]),t}(r.Component),Ot=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={isVisible:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({isVisible:e.isVisible})}},{key:"setDialogVisible",value:function(e){this.setState({isVisible:e})}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.importedProducts.map((function(e,t){return Object(U.a)({},e,{key:t})})),n=[{title:"S\u1ea3n ph\u1ea9m",dataIndex:"product",key:"product",width:200,render:function(e,t){return s.a.createElement("div",null,s.a.createElement("img",{src:t.product.image,alt:"product",style:{width:20,margin:15}}),s.a.createElement("span",null,t.product.name))}},{title:"Nh\xe0 cung c\u1ea5p",dataIndex:"supplier",key:"supplier",width:200,render:function(e,t){return s.a.createElement(Nt,{supplier:Object(U.a)({},t.product.supplier),buttonText:t.product.supplier.name,buttonStyle:{fontSize:11},placement:"right"})}},{title:"Gi\xe1 b\xe1n",dataIndex:"price",key:"price",width:100,render:function(e,t){return s.a.createElement(de.a,{value:t.product.price,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",style:{fontWeight:"bold"}})}},{title:s.a.createElement("center",null,"SL y\xeau c\u1ea7u"),dataIndex:"requiredQuantity",key:"requiredQuantity",width:100,render:function(e,t){return s.a.createElement("center",null,t.requiredQuantity)}},{title:s.a.createElement("center",null,"SL \u0111\xe3 nh\u1eadp"),dataIndex:"importedQuantity",key:"importedQuantity",width:100,render:function(e,t){return s.a.createElement("center",null,t.importedQuantity)}}],r=a.reduce((function(e,t){return e+t.importedQuantity}),0),i=a.reduce((function(e,t){return e+t.requiredQuantity}),0),c=a.reduce((function(e,t){return e+t.importedQuantity*t.product.price}),0);return s.a.createElement(z.a,{className:"importing-assignment-dialog",title:s.a.createElement("span",{style:{color:"#ff8220",fontWeight:"bold"}},"Y\xeau c\u1ea7u nh\u1eadp h\xe0ng"),visible:this.state.isVisible,footer:null,onCancel:function(){e.setDialogVisible(!1),e.props.setImportingAssignmentDialogVisible(!1)}},s.a.createElement(M.a,{style:{width:"100%"}},s.a.createElement(q.a,{span:7},s.a.createElement("ul",{className:"importing-assignment-dialog__labels"},s.a.createElement("li",null,"Ng\u01b0\u1eddi b\xe0n giao"),s.a.createElement("li",null,"B\xe0n giao l\xfac"),s.a.createElement("li",null,"Tr\u1ea1ng th\xe1i"),s.a.createElement("li",null,"M\u1ee9c \u0111\u1ed9 ho\xe0n th\xe0nh"),s.a.createElement("li",null,"T\u1ed5ng chi ph\xed nh\u1eadp h\xe0ng"),s.a.createElement("li",null,"T\u1ed5ng s\u1ea3n ph\u1ea9m c\u1ea7n nh\u1eadp"))),s.a.createElement(q.a,{span:17},s.a.createElement("ul",{className:"importing-assignment-dialog__values"},s.a.createElement("li",null,s.a.createElement("strong",null,t.manager.fullname)),s.a.createElement("li",null,H()(t.createdAt).format("HH:mm DD-MM-YYYY")),s.a.createElement("li",null,s.a.createElement("span",{className:"importing-assignment-dialog__values__status"},We.STATUS.ACCEPTED.name)),s.a.createElement("li",null,s.a.createElement(ft.a,{strokeColor:"#ff8220",percent:Ce.round(r/i*100,0),status:"active"})),s.a.createElement("li",null,s.a.createElement("strong",null,s.a.createElement("span",{style:{marginRight:3}},c),"/",s.a.createElement(de.a,{value:t.priceTotal,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",style:{marginLeft:3}}))),s.a.createElement("li",null,s.a.createElement("span",{style:{marginRight:3}},r),"/",s.a.createElement("span",{style:{marginLeft:3}},i))))),s.a.createElement("div",{className:"importing-assignment-dialog__products"},s.a.createElement(ie.a,{dataSource:a,columns:n,pagination:!1,scroll:{y:250}})))}}]),t}(r.Component),Ct=(a(577),{ADD:{type:"ADD",name:"Th\xeam s\u1ea3n ph\u1ea9m"},UPDATE:{type:"UPDATE",name:"C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m"},REMOVE:{type:"REMOVE",name:"X\xf3a s\u1ea3n ph\u1ea9m"}}),Tt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={logs:[],isLoading:!0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(S.Importer.ProductManagement.getProductActionLogs,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 2:return e.next=4,e.sent.json();case 4:t=e.sent,this.setState({logs:t.data.productActionLogs,isLoading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(this.state.isLoading)return s.a.createElement(s.a.Fragment,null);var e=this.state.logs;e.sort((function(e,t){var a=new Date(e.createdAt).getTime();return new Date(t.createdAt).getTime()-a}));var t=s.a.createElement("span",null,"L\u1ecbch s\u1eed thao t\xe1c"),a=s.a.createElement("div",{className:"product-action-logs"},e.map((function(e,t){return s.a.createElement("div",{key:t,className:"product-action-logs__item"},s.a.createElement("p",{className:"product-action-logs__item__content"},Ct[e.actionType].name," ",s.a.createElement("strong",null,e.product.name)),s.a.createElement("span",{className:"product-action-logs__item__time"},"V\xe0o l\xfac ",H()(e.createdAt).format("HH:mm DD-MM-YYYY")))})));return s.a.createElement(gt.a,{overlayClassName:"product-action-logs__content",placement:"bottomRight",title:t,content:a,trigger:"hover"},s.a.createElement(E.a,{shape:"circle",icon:s.a.createElement($.a,null),className:"product-management__container__topbar__btn"}))}}]),t}(P),jt=Object(N.a)(Tt),It=z.a.confirm,Dt={labelCol:{span:9}},Pt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={isProductDetailsPanelShown:!1,selectedProduct:{},selectedCategory:{},products:[],productSearchText:"",filteredProducts:[],categories:[],categorySearchText:"",filteredCategories:[],suppliers:[],isLoading:!0,importerAssignments:[],isImportingAssignmentDialogVisible:!1,importedProducts:[]},a.productDetailsFormRef=s.a.createRef(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.setAppLoading(!0),e.next=4,Promise.all([this.loadCategories(),this.loadSuppliers(),this.loadImporterAssignments()]);case 4:t=e.sent,this.props.setAppLoading(!1),a=t[0],this.state.selectedCategory,n=a.length>0?Object(U.a)({},a[0]):{},this.loadCategoryProducts(n),r=t[1],s=t[2],i=0===s.length?[]:s[0].importedProducts.map((function(e){return e})),this.setState({categories:a,filteredCategories:a,selectedCategory:n,suppliers:r,selectedSupplier:r.length>0?Object(U.a)({},r[0]):{},isLoading:!1,importerAssignments:s,importedProducts:i}),e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",e.t0);case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadSuppliers",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(S.Importer.ProductManagement.getSuppliers,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 3:return e.next=5,e.sent.json();case 5:if(200===(t=e.sent).status){e.next=8;break}return e.abrupt("return",Promise.reject(t.errors[0]));case 8:return e.abrupt("return",Promise.resolve(t.data.suppliers));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadCategories",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(S.Importer.ProductManagement.getCategories,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 3:return e.next=5,e.sent.json();case 5:if(200===(t=e.sent).status){e.next=8;break}return e.abrupt("return",Promise.reject(t.errors[0]));case 8:return e.abrupt("return",Promise.resolve(t.data.categories));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadImporterAssignments",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(S.Importer.ImporterAssignmentManagement.getImporterAssignments,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 3:return e.next=5,e.sent.json();case 5:if(200===(t=e.sent).status){e.next=8;break}return e.abrupt("return",Promise.reject(t.errors[0]));case 8:return e.abrupt("return",Promise.resolve(t.data.importerAssignments));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadCategoryProducts",value:function(e){this.onProductSearchInputChange(this.state.productSearchText,e.products),this.setState({products:e.products,selectedCategory:Object(U.a)({},e)})}},{key:"toggleProductDetailsPanel",value:function(e){this.setState({isProductDetailsPanelShown:e})}},{key:"handleSelectProduct",value:function(e){this.setState({selectedProduct:this.state.products.find((function(t){return t._id===e._id}))}),this.toggleProductDetailsPanel(!0)}},{key:"handleSelectCategory",value:function(e){e._id!==this.state.selectedCategory._id&&(this.loadCategoryProducts(e),this.setState({selectedCategory:e}))}},{key:"updateCategoryInList",value:function(e){var t=this.state.categories;t[Ce.findIndex(t,(function(t){return t._id===e._id}))]=Object(U.a)({},e);var a=this.state.categorySearchText,n=this.state,r=n.filteredCategories,s=n.selectedCategory;r=a?t.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})):Object(te.a)(t),s=Object(U.a)({},e),this.loadCategoryProducts(s),this.setState({filteredCategories:r,selectedCategory:s,categories:t})}},{key:"updateProductDetails",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r,s,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.setAppLoading(!0),e.next=4,fetch(S.Importer.ProductManagement.updateProduct.replace("{productID}",this.state.selectedProduct._id),{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 4:return e.next=6,e.sent.json();case 6:if(a=e.sent,this.props.setAppLoading(!1),200===a.status){e.next=11;break}return g.a.error(a.errors[0]),e.abrupt("return");case 11:n=this.state,r=n.products,n.selectedProduct,i=n.selectedCategory,s=Object(U.a)({},a.data.product),(c=Ce.findIndex(r,(function(e){return e._id===s._id})))>=0&&(r[c]=Object(U.a)({},s)),i.products=r,this.loadCategoryProducts(i),this.setState({selectedProduct:s}),a.data.isImporterAssignmentUpdated?this.reloadImporterAssignments(a.messages[0]):g.a.success(a.messages[0]),e.next=24;break;case 21:return e.prev=21,e.t0=e.catch(0),e.abrupt("return",e.t0);case 24:case"end":return e.stop()}}),e,this,[[0,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"openRemoveProductDialog",value:function(){var e=this,t=this.state.selectedProduct;It({title:"B\u1ea1n mu\u1ed1n x\xf3a s\u1ea3n ph\u1ea9m ".concat(t.name,"?"),icon:s.a.createElement(ee.a,null),content:"",okText:"\u0110\u1ed3ng \xfd",okType:"danger",cancelText:"Kh\xf4ng, c\u1ea3m \u01a1n",onOk:function(){return Object(f.a)(h.a.mark((function a(){var n,r,s,i;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.props.setAppLoading(!1),a.next=4,fetch(S.Importer.ProductManagement.removeProduct.replace("{productID}",t._id),{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8",token:e.props.cookies.get(A)},signal:e.abortController.signal});case 4:return a.next=6,a.sent.json();case 6:if(n=a.sent,e.props.setAppLoading(!1),200===n.status){a.next=11;break}return g.a.error(n.errors[0]),a.abrupt("return");case 11:r=e.state,s=r.products,i=r.selectedCategory,s=s.filter((function(e){return e._id!==t._id})),i.products=s,e.loadCategoryProducts(i),e.toggleProductDetailsPanel(!1),g.a.success(n.messages[0]),a.next=22;break;case 19:return a.prev=19,a.t0=a.catch(0),a.abrupt("return",a.t0);case 22:case"end":return a.stop()}}),a,null,[[0,19]])})))()},onCancel:function(){}})}},{key:"addToListProducts",value:function(e){var t=this.state,a=t.products,n=t.selectedCategory;a.push(e),n.products=a,this.loadCategoryProducts(n)}},{key:"addToListCategories",value:function(e){var t,a=this.state,n=a.filteredCategories,r=a.selectedCategory;n.push(Object(U.a)({},e)),n.sort((function(e,a){var n=new Date(e.createdAt).getTime(),r=new Date(a.createdAt).getTime();return"desc"===t?r-n:n-r})),r=n.length>0?n[n.length-1]:{},this.loadCategoryProducts(r),this.setState({filteredCategories:n,selectedCategory:r})}},{key:"onCategorySearchInputChange",value:function(e,t){var a=this.state,n=a.filteredCategories,r=a.selectedCategory;r=(n=e?t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})):Object(te.a)(t)).length>0?n[0]:{},this.loadCategoryProducts(r),this.setState({filteredCategories:n,selectedCategory:r,categorySearchText:e})}},{key:"onProductSearchInputChange",value:function(e,t){var a=this.state.filteredProducts;a=((a=e?(t||[]).filter((function(t){var a=Object(te.a)(Object.keys(t)).filter((function(e){return["name"].includes(e)})),n=!0,r=!1,s=void 0;try{for(var i,c=a[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){if(t[i.value].toLowerCase().includes(e.toLowerCase()))return!0}}catch(l){r=!0,s=l}finally{try{n||null==c.return||c.return()}finally{if(r)throw s}}return!1})):Object(te.a)(t||[]))||[]).map((function(e){return Object(U.a)({},e,{key:e._id})})),this.setState({filteredProducts:a,selectedProduct:{},productSearchText:e})}},{key:"openRemoveCategoryDialog",value:function(){var e=this,t=this.state.selectedCategory;It({title:"B\u1ea1n mu\u1ed1n x\xf3a danh m\u1ee5c ".concat(t.name,"?"),icon:s.a.createElement(ee.a,null),content:"",okText:"\u0110\u1ed3ng \xfd",okType:"danger",cancelText:"Kh\xf4ng, c\u1ea3m \u01a1n",onOk:function(){return Object(f.a)(h.a.mark((function a(){var n,r;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.props.setAppLoading(!0),a.next=4,fetch(S.Importer.ProductManagement.removeCategory.replace("{categoryID}",t._id),{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8",token:e.props.cookies.get(A)},signal:e.abortController.signal});case 4:return a.next=6,a.sent.json();case 6:if(n=a.sent,e.props.setAppLoading(!1),200===n.status){a.next=11;break}return g.a.error(n.errors[0]),a.abrupt("return");case 11:r=(r=e.state.categories).filter((function(e){return e._id!==t._id})),e.setState({categories:r}),e.onCategorySearchInputChange(e.state.categorySearchText,r),g.a.success(n.messages[0]),a.next=21;break;case 18:return a.prev=18,a.t0=a.catch(0),a.abrupt("return",a.t0);case 21:case"end":return a.stop()}}),a,null,[[0,18]])})))()},onCancel:function(){}})}},{key:"addToListSuppliers",value:function(e){var t=this.state.suppliers;t.push(e),this.setState({suppliers:t})}},{key:"removeFromListSuppliers",value:function(e){var t=this.state.suppliers;t=t.filter((function(t){return t._id!==e._id})),this.setState({suppliers:t})}},{key:"updateProductSupplier",value:function(e){var t=this.state.products;t=t.map((function(t){if(t.supplier._id===e._id)for(var a in t.supplier)e[a]&&(t.supplier[a]=e[a]);return t})),this.onProductSearchInputChange(this.state.productSearchText,t),this.updateSuppliers(e),this.setState({products:t})}},{key:"updateSuppliers",value:function(e){var t=this.state.suppliers;t=t.map((function(t){if(t._id===e._id)for(var a in t)e[a]&&(t[a]=e[a]);return t})),this.setState({suppliers:t})}},{key:"setImportingAssignmentDialogVisible",value:function(e){this.setState({isImportingAssignmentDialogVisible:e})}},{key:"isImportedProduct",value:function(e){var t=this.state.importedProducts,a=Ce.findIndex(t,(function(t){return t.product._id===e}));return!(a<0)&&t[a].importedQuantity!==t[a].requiredQuantity}},{key:"reloadImporterAssignments",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.setAppLoading(!0),e.next=4,this.loadImporterAssignments();case 4:a=e.sent,n=0===a.length?[]:a[0].importedProducts.map((function(e){return e})),this.props.setAppLoading(!1),g.a.success(t),this.setState({importerAssignments:a,importedProducts:n}),e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedProduct,n=t.suppliers,r=t.importerAssignments,i=[{title:"",dataIndex:"image",key:"image",width:40,render:function(e){return s.a.createElement("img",{className:"product-management__container__content__list-products__product-img",src:e,alt:"product"})}},{title:"S\u1ea3n ph\u1ea9m",dataIndex:"name",key:"name",width:180},{title:"Nh\xe0 cung c\u1ea5p",dataIndex:"supplier",key:"supplier",width:200,render:function(e,t){return s.a.createElement(Nt,{supplier:Object(U.a)({},t.supplier),buttonText:t.supplier.name,buttonStyle:{fontSize:"0.6875rem"},placement:"right"})}},{title:"Gi\xe1 b\xe1n",dataIndex:"price",key:"price",width:100,render:function(e){return s.a.createElement(de.a,{value:Number(e),displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",style:{fontWeight:"bold"}})}},{title:s.a.createElement("center",null,"SL hi\u1ec7n c\xf3"),dataIndex:"availableQuantity",key:"availableQuantity",width:120,render:function(e){return s.a.createElement("center",null,e)}},{title:s.a.createElement("center",null,"C\u1eadp nh\u1eadt l\u1ea7n cu\u1ed1i"),dataIndex:"updatedAt",key:"updatedAt",width:160,render:function(e){return s.a.createElement("center",null,s.a.createElement("span",null,H()(e).format("HH:mm DD-MM-YYYY")))}},{title:s.a.createElement("center",null,"Tr\u1ea1ng th\xe1i"),dataIndex:"status",key:"status",width:80,render:function(e,t){return s.a.createElement("center",null,0===t.availableQuantity?s.a.createElement("span",{style:{color:"crimson",fontWeight:"bold"}},"H\u1ebft h\xe0ng"):"C\xf2n h\xe0ng")}},{title:s.a.createElement("center",null,"M\xe3 QR"),dataIndex:"",key:"qrcode",render:function(e,t){return s.a.createElement("center",null,s.a.createElement(Se.a,{value:t._id,style:{width:25,height:25}}))}}];return s.a.createElement("div",{className:"product-management"},s.a.createElement("div",{className:"product-management__container animated fadeInUp"},s.a.createElement(M.a,null,s.a.createElement(q.a,{span:4},s.a.createElement("div",{className:"product-management__container__left-sidebar"},s.a.createElement("div",{className:"product-management__container__left-sidebar__title"},s.a.createElement("span",{className:"product-management__container__left-sidebar__title__text"},"Danh m\u1ee5c s\u1ea3n ph\u1ea9m (",this.state.filteredCategories.length,")")),s.a.createElement("div",{className:"product-management__container__left-sidebar__search-box"},s.a.createElement(M.a,{align:"middle",style:{width:"100%"}},s.a.createElement(q.a,{span:20},s.a.createElement(y.a,{prefix:s.a.createElement(Xe.a,{style:{marginRight:5}}),placeholder:"T\xecm ki\u1ebfm...",onChange:function(t){return e.onCategorySearchInputChange(t.target.value,e.state.categories)}})),s.a.createElement(q.a,{span:4},this.state.isLoading?s.a.createElement(s.a.Fragment,null):s.a.createElement(pt,{addToListCategories:function(t){return e.addToListCategories(t)}})))),s.a.createElement("div",{className:"product-management__container__left-sidebar__categories"},s.a.createElement("div",{className:"product-management__container__left-sidebar__categories__wrapper"},s.a.createElement(Je.a,{size:"small",dataSource:this.state.filteredCategories,renderItem:function(t){return s.a.createElement(Je.a.Item,{onClick:function(){return e.handleSelectCategory(t)}},s.a.createElement("div",{className:"\n                            product-management__container__left-sidebar__categories__item \n                            ".concat(t._id===e.state.selectedCategory._id?"product-management__container__left-sidebar__categories__item--selected":"","\n                          ")},s.a.createElement(M.a,null,s.a.createElement(q.a,{span:22},t.name," (",t.products.length,")"),s.a.createElement(q.a,{span:2},t._id===e.state.selectedCategory._id?s.a.createElement(ze.a,{overlay:s.a.createElement(K.a,{className:"product-management__container__left-sidebar__categories__item__menu"},s.a.createElement(K.a.Item,{key:"EDIT"},s.a.createElement(ht,{category:e.state.selectedCategory,updateCategoryInList:function(t){return e.updateCategoryInList(t)}})),s.a.createElement(K.a.Item,{key:"REMOVE"},s.a.createElement(E.a,{type:"link",style:{color:"rgba(0,0,0,0.65)"},onClick:function(){return e.openRemoveCategoryDialog()}},"X\xf3a")))},s.a.createElement($e.a,null)):s.a.createElement(s.a.Fragment,null)))))},locale:{emptyText:s.a.createElement(se.a,{image:se.a.PRESENTED_IMAGE_SIMPLE,description:"Kh\xf4ng t\xecm th\u1ea5y"})}}))))),s.a.createElement(q.a,{span:20},s.a.createElement("div",{className:"product-management__container__topbar"},s.a.createElement(M.a,{align:"middle",gutter:40},s.a.createElement(q.a,{span:1},this.state.isLoading?s.a.createElement(s.a.Fragment,null):s.a.createElement(ot,{selectedCategory:Object(U.a)({},this.state.selectedCategory),addToListProducts:function(t){return e.addToListProducts(t)},suppliers:Object(te.a)(n)})),s.a.createElement(q.a,{span:6},this.state.selectedCategory.products?s.a.createElement("div",{className:"product-management__container__topbar__title"},s.a.createElement("span",null,this.state.selectedCategory.name," (",this.state.selectedCategory.products.length,")")):s.a.createElement(s.a.Fragment,null)),s.a.createElement(q.a,{span:8},s.a.createElement("div",{className:"product-management__container__topbar__features"},s.a.createElement("div",{className:"product-management__container__topbar__features__feature"},this.state.importedProducts.length>0?s.a.createElement("div",null,s.a.createElement(E.a,{className:"product-management__container__topbar__features__feature__btn-show-assignment --alert",icon:s.a.createElement(et.a,{className:"product-management__container__topbar__features__feature__btn-show-assignment__icon --bell animated tada"}),type:"primary",shape:"round",onClick:function(){return e.setImportingAssignmentDialogVisible(!0)}},"C\xf3 y\xeau c\u1ea7u nh\u1eadp h\xe0ng"),s.a.createElement(Ot,{isVisible:this.state.isImportingAssignmentDialogVisible,setImportingAssignmentDialogVisible:function(t){return e.setImportingAssignmentDialogVisible(t)},data:Object(U.a)({},r[0])})):s.a.createElement(s.a.Fragment,null)))),s.a.createElement(q.a,{span:7,style:{padding:0}},s.a.createElement("div",{className:"product-management__container__topbar__search-box"},s.a.createElement(y.a,{prefix:s.a.createElement(Xe.a,{style:{marginRight:5}}),placeholder:"T\xecm ki\u1ebfm s\u1ea3n ph\u1ea9m...",onChange:function(t){return e.onProductSearchInputChange(t.target.value,e.state.selectedCategory.products)}}))),s.a.createElement(q.a,{span:2},s.a.createElement(jt,null)))),s.a.createElement("div",{className:"product-management__container__content"},this.state.isProductDetailsPanelShown&&Object.keys(a).length>0?s.a.createElement("div",{className:"product-management__container__content__product-details"},s.a.createElement("div",{className:"product-management__container__content__product-details__panel animated slideInRight"},s.a.createElement("div",{className:"product-management__container__content__product-details__panel__header"},s.a.createElement(M.a,null,s.a.createElement(q.a,{span:4},s.a.createElement(E.a,{type:"primary",shape:"circle",icon:s.a.createElement(tt.a,null),className:"product-management__container__content__product-details__panel__header__btn-close",onClick:function(){return e.toggleProductDetailsPanel(!1)}})),s.a.createElement(q.a,{align:"end",span:20},s.a.createElement(E.a,{type:"link",className:"product-management__container__content__product-details__panel__header__btn-remove-product",onClick:function(){return e.openRemoveProductDialog()}},"X\xf3a s\u1ea3n ph\u1ea9m")))),s.a.createElement("div",{className:"product-management__container__content__product-details__panel__product-details"},s.a.createElement("div",{className:"product-management__container__content__product-details__panel__product-details__img"},s.a.createElement(st,{defaultImageUrl:a.image,width:150,height:150,tooltipTitle:"Nh\u1ea5n \u0111\u1ec3 thay \u0111\u1ed5i \u1ea3nh",tooltipPlacement:"bottom",onFinish:function(t){e.productDetailsFormRef.current.setFieldsValue({image:t})}})),s.a.createElement("div",{className:"product-management__container__content__product-details__panel__product-details__info"},s.a.createElement(b.a,Object.assign({},Dt,{ref:function(t){e.productDetailsFormRef.current=t,e.productDetailsFormRef.current&&e.productDetailsFormRef.current.setFieldsValue({image:a.image,name:a.name,supplier:a.supplier._id,price:a.price,availableQuantity:a.availableQuantity})},onFinish:function(t){return e.updateProductDetails(t)},onFinishFailed:function(){return g.a.error("Th\xf4ng tin s\u1ea3n ph\u1ea9m ch\u01b0a \u0111\u1ea7y \u0111\u1ee7")}}),s.a.createElement(b.a.Item,{name:"image",rules:[{required:!0}],style:{display:"none"}},s.a.createElement(y.a,null)),s.a.createElement(b.a.Item,{name:"name",label:"T\xean s\u1ea3n ph\u1ea9m",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp t\xean s\u1ea3n ph\u1ea9m"}]},s.a.createElement(y.a,null)),s.a.createElement(b.a.Item,{name:"supplier",label:"Nh\xe0 cung c\u1ea5p",rules:[{required:!0}]},s.a.createElement(Ke.a,null,n.map((function(e){return s.a.createElement(Ke.a.Option,{key:e._id,value:e._id},e.name)})))),s.a.createElement(b.a.Item,{name:"price",label:"Gi\xe1 b\xe1n (\u0111\u0332)",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp gi\xe1 b\xe1n"}]},s.a.createElement(Ze.a,{formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")}})),s.a.createElement(b.a.Item,{name:"availableQuantity",label:"S\u1ed1 l\u01b0\u1ee3ng hi\u1ec7n c\xf3",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng hi\u1ec7n c\xf3"}]},s.a.createElement(Ze.a,{formatter:function(e){return"".concat(e).replace(/\B(?=(\d{3})+(?!\d))/g,",")},parser:function(e){return e.replace(/\$\s?|(,*)/g,"")},disabled:!this.isImportedProduct(a._id)})),s.a.createElement(b.a.Item,null,s.a.createElement("div",{className:"product-management__container__content__product-details__panel__product-details__btn-update__wrapper"},s.a.createElement(E.a,{type:"primary",htmlType:"submit",className:"product-management__container__content__product-details__panel__product-details__btn-update__wrapper__btn"},"C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m")))))))):s.a.createElement(s.a.Fragment,null),s.a.createElement("div",{className:"product-management__container__content__list-products"},s.a.createElement(ie.a,{dataSource:Object(te.a)(this.state.filteredProducts),columns:i,scroll:{y:545},pagination:!1,onRow:function(t){return{onClick:function(){return e.handleSelectProduct(t)}}},rowClassName:function(e){return e._id===a._id?"product-management__container__content__list-products__selected-row":""},locale:{emptyText:s.a.createElement(se.a,{image:se.a.PRESENTED_IMAGE_SIMPLE,description:"Kh\xf4ng t\xecm th\u1ea5y s\u1ea3n ph\u1ea9m"})}}),s.a.createElement("div",{className:"product-management__container__content__list-products__bottom-toolbar"})))))))}}]),t}(P),Rt=Object(C.b)(null,n)(Object(N.a)(Pt)),Lt=a(225),Mt=(a(578),a(579),a(169)),qt=a(713),Wt=a(714),Ht=a(715),Ft=a(716),Vt=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.statisticData,a=e.revenueTotal,n=e.paymentTotal,r=e.salaryTotal,i=e.importingCostTotal,c=a-n,l=[{key:1,name:"L\u01b0\u01a1ng nh\xe2n vi\xean",value:r}];i>0&&l.push({key:l.length+1,name:"Chi ph\xed nh\u1eadp h\xe0ng",value:i});var o=[{title:"#",dataIndex:"key",key:"key",width:100},{title:"H\u1ea1ng m\u1ee5c",dataIndex:"name",key:"name",width:300},{title:"Chi ph\xed",dataIndex:"value",key:"value",width:200,render:function(e){return s.a.createElement(de.a,{value:e,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332"})}}];return s.a.createElement("div",{className:"reporting__revenue-statistic reporting__block-style"},s.a.createElement(M.a,{style:{width:"100%",position:"relative",margin:0},gutter:20,justify:"center"},s.a.createElement(q.a,{span:8},s.a.createElement("div",{className:"reporting__revenue-statistic__widget --revenue-total"},s.a.createElement("div",{className:"reporting__revenue-statistic__widget__content"},s.a.createElement("div",{className:"reporting__revenue-statistic__widget__content__value"},s.a.createElement(qt.a,null),s.a.createElement(de.a,{value:a,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",className:"reporting__revenue-statistic__revenue__number"})),s.a.createElement("span",{className:"reporting__revenue-statistic__widget__content__label"},"T\u1ed5ng doanh thu b\xe1n h\xe0ng")))),s.a.createElement(q.a,{span:8},s.a.createElement("div",{className:"reporting__revenue-statistic__widget --payment-total"},s.a.createElement(gt.a,{content:s.a.createElement(ie.a,{dataSource:l,columns:o,pagination:!1}),title:"H\u1ea1ng m\u1ee5c c\u1ea7n chi tr\u1ea3",trigger:"click",placement:"bottom",overlayClassName:"reporting__revenue-statistic__widget__popover"},s.a.createElement(k.a,{title:"H\u1ea1ng m\u1ee5c c\u1ea7n chi tr\u1ea3",placement:"top"},s.a.createElement(E.a,{shape:"circle",icon:s.a.createElement(Wt.a,null),className:"reporting__revenue-statistic__widget__btn"}))),s.a.createElement("div",{className:"reporting__revenue-statistic__widget__content"},s.a.createElement("div",{className:"reporting__revenue-statistic__widget__content__value"},s.a.createElement(Ht.a,null),s.a.createElement(de.a,{value:n,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",className:"reporting__revenue-statistic__revenue__number"})),s.a.createElement("span",{className:"reporting__revenue-statistic__widget__content__label"},"T\u1ed5ng ph\xed \u0111\xe3 chi tr\u1ea3")))),s.a.createElement(q.a,{span:8},s.a.createElement("div",{className:"reporting__revenue-statistic__widget --profit-total"},s.a.createElement("div",{className:"reporting__revenue-statistic__widget__content"},s.a.createElement("div",{className:"reporting__revenue-statistic__widget__content__value"},s.a.createElement(Ft.a,null),s.a.createElement(de.a,{value:c,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",className:"reporting__revenue-statistic__revenue__number"})),s.a.createElement("span",{className:"reporting__revenue-statistic__widget__content__label"},"T\u1ed5ng doanh thu sau chi tr\u1ea3"))))),s.a.createElement("div",{className:"reporting__revenue-statistic__chart"},s.a.createElement("h1",null,"Doanh thu b\xe1n h\xe0ng m\u1ed7i ng\xe0y"),s.a.createElement(Mt.a,{data:function(e){var a=e.getContext("2d").createLinearGradient(0,0,0,400);return a.addColorStop(0,"orange"),a.addColorStop(1,"#ff5858"),{labels:t.map((function(e){return H()(e.date).format("DD/MM")})),datasets:[{label:"Doanh thu b\xe1n h\xe0ng",fill:!0,lineTension:.3,backgroundColor:a,borderColor:"#ff8220",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"#ff8220",pointBackgroundColor:"#fff",pointBorderWidth:2,pointHoverRadius:5,pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"#ff8220",pointHoverBorderWidth:2,pointRadius:3,pointHitRadius:10,data:t.map((function(e){return e.revenue}))}]}},options:{legend:{display:!1},scales:{xAxes:[{gridLines:{display:!1}}]}},height:55})))}}]),t}(r.Component),Ut={0:"Th\xe1ng 1",1:"Th\xe1ng 2",2:"Th\xe1ng 3",3:"Th\xe1ng 4",4:"Th\xe1ng 5",5:"Th\xe1ng 6",6:"Th\xe1ng 7",7:"Th\xe1ng 8",8:"Th\xe1ng 9",9:"Th\xe1ng 10",10:"Th\xe1ng 11",11:"Th\xe1ng 12"},Yt=a(717),Bt=a(315),Qt=a.n(Bt),Gt=(a(602),a(688)),Jt=(a(603),Gt.a.Meta),zt={desktop:{breakpoint:{max:3e3,min:1024},item:3,paritialVisibilityGutter:60},tablet:{breakpoint:{max:1024,min:464},item:2,paritialVisibilityGutter:50},mobile:{breakpoint:{max:464,min:0},item:1,paritialVisibilityGutter:30}},Kt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={deviceType:"desktop"},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.products,t=this.state.deviceType;return s.a.createElement("div",{className:"product-statistic__products__best-selling"},s.a.createElement("h1",null,"S\u1ea3n ph\u1ea9m b\xe1n ch\u1ea1y",s.a.createElement("span",{className:"product-statistic__products__best-selling__hot-badge"},"HOT")),0===e.length?s.a.createElement("div",{className:"product-statistic__products__best-selling__item",style:{paddingLeft:5}},s.a.createElement("p",null,"Ch\u01b0a ghi nh\u1eadn.")):s.a.createElement("div",{className:"product-statistic__products__best-selling__item"},s.a.createElement(Qt.a,{swipeable:!1,draggable:!0,ssr:!0,keyBoardControl:!0,responsive:zt,containerClass:"carousel-container",removeArrowOnDeviceType:["tablet","mobile"],deviceType:t,itemClass:"carousel-item-padding-40-px"},e.map((function(e,t){return s.a.createElement(gt.a,{key:t,overlayClassName:"product-statistic__products__best-selling__item__details",placement:"bottomLeft",title:e.details.name,content:s.a.createElement("div",null,s.a.createElement(M.a,{style:{width:"100%"},gutter:10},s.a.createElement(q.a,{span:8},"Th\u1ec3 lo\u1ea1i"),s.a.createElement(q.a,{span:16},e.category.name)),s.a.createElement(M.a,{style:{width:"100%"},gutter:10},s.a.createElement(q.a,{span:8},"Nh\xe0 cung c\u1ea5p"),s.a.createElement(q.a,{span:16},e.supplier.name)),s.a.createElement(M.a,{style:{width:"100%"},gutter:10},s.a.createElement(q.a,{span:8},"Gi\xe1 b\xe1n"),s.a.createElement(q.a,{span:16},s.a.createElement(de.a,{value:e.details.price,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",style:{fontWeight:"bold"}}))),s.a.createElement(M.a,{style:{width:"100%"},gutter:10},s.a.createElement(q.a,{span:8},"SL \u0111\xe3 b\xe1n"),s.a.createElement(q.a,{span:16},e.quantity)),s.a.createElement(M.a,{style:{width:"100%"},gutter:10},s.a.createElement(q.a,{span:8},"SL t\u1ed3n kho"),s.a.createElement(q.a,{span:16},e.details.availableQuantity))),trigger:"hover"},s.a.createElement(Gt.a,{className:"animated zoomIn",cover:s.a.createElement("img",{alt:"example",src:e.details.image}),key:t,style:{animationDelay:"".concat(.2*t,"s")}},s.a.createElement(Jt,{title:e.details.name,description:s.a.createElement("span",null,"SL \u0111\xe3 b\xe1n: ",s.a.createElement("strong",null,e.quantity))})))})))))}}]),t}(r.Component),Zt=(a(606),a(607),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.importedProducts;e=e.map((function(e,t){return Object(U.a)({},e,{key:t})}));var t=[{title:"M\xe3 s\u1ea3n ph\u1ea9m",dataIndex:"id",key:"id",width:100,render:function(e,t){return t.details._id}},{title:"T\xean s\u1ea3n ph\u1ea9m",dataIndex:"name",key:"name",width:100,render:function(e,t){return t.details.name}},{title:s.a.createElement("center",null,"SL c\u1ea7n nh\u1eadp"),dataIndex:"requiredQuantity",width:100,key:"requiredQuantity",render:function(e){return s.a.createElement("center",null,e)}},{title:s.a.createElement("center",null,"SL \u0111\xe3 nh\u1eadp"),dataIndex:"importedQuantity",width:100,key:"importedQuantity",render:function(e){return s.a.createElement("center",null,e)}},{title:s.a.createElement("center",null,"L\u1ea7n nh\u1eadp cu\u1ed1i"),dataIndex:"updatedAt",width:100,key:"updatedAt",render:function(e,t){return t.importedQuantity>0?s.a.createElement("center",null,H()(e).format("HH:mm DD/MM/YYYY")):""}}];return s.a.createElement("div",{className:"importing-history"},s.a.createElement(gt.a,{placement:"right",title:"S\u1ea3n ph\u1ea9m c\u1ea7n nh\u1eadp",content:s.a.createElement(ie.a,{dataSource:e,columns:t,pagination:!1}),trigger:"click",overlayClassName:"importing-history__content"},s.a.createElement(k.a,{title:"S\u1ea3n ph\u1ea9m c\u1ea7n nh\u1eadp",placement:"top"},s.a.createElement(E.a,{type:"default",icon:s.a.createElement(Wt.a,null),shape:"circle",className:"importing-history__btn-show"}))))}}]),t}(r.Component)),Xt=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.importedQuantityTotal,a=e.requiredQuantityTotal,n=e.importingCostTotal,r=e.requiredImportingCostTotal,i=e.importedProducts,c=Ce.round(100*t/(t+a),2);return s.a.createElement("div",{className:"product-statistic__products__statistic__item --importing-statistic"},s.a.createElement("div",{className:"--importing-statistic__header"},s.a.createElement(Zt,{importedProducts:Object(te.a)(i)}),s.a.createElement("span",{className:"--importing-statistic__header__title"},"Th\u1ed1ng k\xea nh\u1eadp h\xe0ng"),s.a.createElement("div",{className:"--importing-statistic__header__importing-cost"},s.a.createElement("span",null,"T\u1ed5ng chi ph\xed \u0111\xe3 nh\u1eadp:"),s.a.createElement(de.a,{value:n,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",className:"--importing-statistic__header__importing-cost__number"})),s.a.createElement("div",{className:"--importing-statistic__header__importing-cost"},s.a.createElement("span",null,"T\u1ed5ng chi ph\xed d\u1ef1 ki\u1ebfn:"),s.a.createElement(de.a,{value:r,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",className:"--importing-statistic__header__importing-cost__number"}))),s.a.createElement("div",{className:"--importing-statistic__progress-wrapper"},s.a.createElement(ft.a,{type:"circle",strokeColor:c<100?{"0%":"#f09819","100%":"#ff5858"}:"",percent:c,format:function(e){return s.a.createElement("div",{className:"--importing-statistic__progress-wrapper__progress-inner"},s.a.createElement("span",{className:"--importing-statistic__progress-wrapper__progress-inner__value"},t,"/",a),s.a.createElement("span",{className:"--importing-statistic__progress-wrapper__progress-inner__label"},"S\u1ea3n ph\u1ea9m"))}})),s.a.createElement("div",{className:"--importing-statistic__footer"},s.a.createElement(M.a,{style:{width:"100%",height:"100%"},justify:"center"},s.a.createElement(q.a,{span:12},s.a.createElement("div",{className:"--importing-statistic__footer__col"},s.a.createElement("span",{className:"--importing-statistic__footer__col__value"},t),s.a.createElement("span",{className:"--importing-statistic__footer__col__label"},"S\u1ea3n ph\u1ea9m \u0111\xe3 nh\u1eadp"))),s.a.createElement(q.a,{span:12},s.a.createElement("div",{className:"--importing-statistic__footer__col"},s.a.createElement("span",{className:"--importing-statistic__footer__col__value"},a-t),s.a.createElement("span",{className:"--importing-statistic__footer__col__label"},"S\u1ea3n ph\u1ea9m ch\u1edd nh\u1eadp"))))))}}]),t}(r.Component),$t=(a(608),a(609),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.sellingHistories;return e=e.map((function(e,t){return Object(U.a)({},e,{key:t})})),s.a.createElement("div",{className:"selling-history"},s.a.createElement(gt.a,{placement:"right",title:"L\u1ecbch s\u1eed b\xe1n h\xe0ng",content:s.a.createElement("div",{className:"selling-history__content__list"},0===e.length?s.a.createElement("div",{className:"selling-history__content__list__empty"},s.a.createElement(se.a,{description:"Ch\u01b0a c\xf3 ghi nh\u1eadn n\xe0o"})):e.map((function(e,t){return s.a.createElement("div",{className:"selling-history__content__list__item",key:t},s.a.createElement("p",{className:"selling-history__content__list__item__products"},e.soldItems.map((function(t,a){return a<e.soldItems.length-1?s.a.createElement("span",{key:a},"".concat(t.product.name," x").concat(t.quantity,", ")):s.a.createElement("span",{key:a},"".concat(t.product.name," x").concat(t.quantity,"."))}))),s.a.createElement("div",{className:"selling-history__content__list__item__footer"},s.a.createElement(M.a,{style:{width:"100%"},gutter:10},s.a.createElement(q.a,{span:8},s.a.createElement("span",{className:"selling-history__content__list__item__footer__label"},"V\xe0o l\xfac:"),s.a.createElement("span",{className:"selling-history__content__list__item__footer__value"},H()(e.submittedAt).format("HH:mm DD/MM/YYYY"))),s.a.createElement(q.a,{span:8},s.a.createElement("span",{className:"selling-history__content__list__item__footer__label"},"Thu ng\xe2n:"),s.a.createElement("span",{className:"selling-history__content__list__item__footer__value --highline"},e.cashier.fullname)),s.a.createElement(q.a,{span:8},s.a.createElement("span",{className:"selling-history__content__list__item__footer__label"},"T\u1ed5ng ti\u1ec1n:"),s.a.createElement(de.a,{className:"selling-history__content__list__item__footer__value",value:Number(e.priceTotal),displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",style:{fontWeight:"bold"}})))))}))),trigger:"click",overlayClassName:"selling-history__content"},s.a.createElement(k.a,{title:"L\u1ecbch s\u1eed b\xe1n h\xe0ng",placement:"top"},s.a.createElement(E.a,{icon:s.a.createElement($.a,null),shape:"circle",className:"product-quantity-statistic__item__btn"}))))}}]),t}(r.Component)),ea=(a(610),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.newProducts;e=e.map((function(e,t){return Object(U.a)({},e,{key:t})}));var t=[{title:"",dataIndex:"image",key:"image",width:60,render:function(e){return s.a.createElement("img",{style:{width:25,marginLeft:10},src:e,alt:"product"})}},{title:"S\u1ea3n ph\u1ea9m",dataIndex:"name",key:"name",width:200},{title:"Th\u1ec3 lo\u1ea1i",dataIndex:"category",key:"category",width:180,render:function(e,t){return s.a.createElement("span",null,t.category.name)}},{title:"Nh\xe0 cung c\u1ea5p",dataIndex:"supplier",key:"supplier",width:200,render:function(e,t){return s.a.createElement(Nt,{supplier:Object(U.a)({},t.supplier),buttonText:t.supplier.name,buttonStyle:{fontSize:11},placement:"right"})}},{title:"Gi\xe1 b\xe1n",dataIndex:"price",key:"price",width:120,render:function(e){return s.a.createElement(de.a,{value:Number(e),displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332"})}},{title:s.a.createElement("center",null,"SL hi\u1ec7n c\xf3"),dataIndex:"availableQuantity",key:"availableQuantity",width:100,render:function(e){return s.a.createElement("center",null,e)}},{title:s.a.createElement("center",null,"Th\xeam l\xfac"),dataIndex:"addedAt",key:"addedAt",width:80,render:function(e){return s.a.createElement("center",null,H()(e).format("HH:mm DD/MM/YYYY"))}},{title:s.a.createElement("center",null,"Th\u1ef1c hi\u1ec7n"),dataIndex:"executor",key:"executor",width:100,render:function(e){return s.a.createElement("center",null,e.fullname)}}];return s.a.createElement("div",{className:"new-product-list"},s.a.createElement(gt.a,{overlayClassName:"new-product-list__content",placement:"bottomRight",title:"S\u1ea3n ph\u1ea9m m\u1edbi",content:s.a.createElement(ie.a,{dataSource:Object(te.a)(e),columns:t,pagination:!1}),trigger:"click"},s.a.createElement(k.a,{title:"S\u1ea3n ph\u1ea9m m\u1edbi",placement:"top"},s.a.createElement(E.a,{icon:s.a.createElement($.a,null),shape:"circle",className:"product-quantity-statistic__item__btn"}))))}}]),t}(r.Component)),ta=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.soldQuantityTotal,a=e.newProductTotal,n=e.availableQuantityTotal,r=e.soldQuantityStatisticData,i=e.sellingHistories,c=e.newProducts,l={labels:r.map((function(e){return H()(e.date).format("DD/MM")})),datasets:[{label:"SL",fill:!1,lineTension:.2,backgroundColor:"orange",borderColor:"orange",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"orange",pointBackgroundColor:"#fff",pointBorderWidth:2,pointHoverRadius:5,pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"orange",pointHoverBorderWidth:2,pointRadius:0,pointHitRadius:10,data:r.map((function(e){return e.quantity}))}]};return s.a.createElement("div",{className:"product-quantity-statistic"},s.a.createElement(M.a,{style:{width:"100%"},gutter:20},s.a.createElement(q.a,{span:8},s.a.createElement("div",{className:"product-quantity-statistic__item --sold"},s.a.createElement($t,{sellingHistories:Object(te.a)(i)}),s.a.createElement("div",{className:"product-quantity-statistic__item__metric"},s.a.createElement(de.a,{value:t,displayType:"text",thousandSeparator:!0,className:"product-quantity-statistic__item__metric__quantity"}),s.a.createElement("span",{className:"product-quantity-statistic__item__metric__label"},"S\u1ea3n ph\u1ea9m \u0111\xe3 b\xe1n")),s.a.createElement("div",{className:"product-quantity-statistic__item__chart"},s.a.createElement(Mt.b,{data:l,options:{legend:{display:!1},scales:{xAxes:[{ticks:{display:!1},gridLines:{display:!1}}],yAxes:[{ticks:{display:!1},gridLines:{display:!1}}]}},height:180})))),s.a.createElement(q.a,{span:8},s.a.createElement("div",{className:"product-quantity-statistic__item --new"},s.a.createElement(ea,{newProducts:Object(te.a)(c)}),s.a.createElement("div",{className:"product-quantity-statistic__item__metric"},s.a.createElement(de.a,{value:a,displayType:"text",thousandSeparator:!0,prefix:a>0?"+":"",className:"product-quantity-statistic__item__metric__quantity"}),s.a.createElement("span",{className:"product-quantity-statistic__item__metric__label"},"S\u1ea3n ph\u1ea9m m\u1edbi")))),s.a.createElement(q.a,{span:8},s.a.createElement("div",{className:"product-quantity-statistic__item --available"},s.a.createElement("div",{className:"product-quantity-statistic__item__metric"},s.a.createElement(de.a,{value:n,displayType:"text",thousandSeparator:!0,className:"product-quantity-statistic__item__metric__quantity"}),s.a.createElement("span",{className:"product-quantity-statistic__item__metric__label"},"S\u1ea3n ph\u1ea9m t\u1ed3n kho"))))))}}]),t}(r.Component),aa=(a(611),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.cookies.get(x),t=this.props,n=t.soldProducts,r=t.importedProducts,i=t.sellingRevenueTotal,c=t.salaryTotal,l=t.importingCostTotal,o=t.month,u=t.year;(n=n.map((function(e,t){var a=Object(U.a)({},e,{key:t,sellingRevenue:e.quantity*e.details.price});return a.details._id=a.details._id.slice(-12),a}))).push({key:n.length,quantity:n.reduce((function(e,t){return e+t.quantity}),0),details:{_id:"T\u1ed5ng c\u1ed9ng",name:"",availableQuantity:n.reduce((function(e,t){return e+t.details.availableQuantity}),0),price:""},sellingRevenue:n.reduce((function(e,t){return e+t.sellingRevenue}),0)});var m=[{title:"M\xe3 s\u1ea3n ph\u1ea9m",dataIndex:"id",key:"id",width:100,render:function(e,t){return t.details._id}},{title:"T\xean s\u1ea3n ph\u1ea9m",dataIndex:"name",key:"name",width:150,render:function(e,t){return t.details.name}},{title:s.a.createElement("center",null,"SL t\u1ed3n kho"),dataIndex:"availableQuantity",key:"availableQuantity",width:100,render:function(e,t){return s.a.createElement("center",null,t.details.availableQuantity)}},{title:s.a.createElement("center",null,"SL \u0111\xe3 b\xe1n"),dataIndex:"quantity",key:"quantity",width:100,render:function(e){return s.a.createElement("center",null,e)}},{title:"\u0110\u01a1n gi\xe1",dataIndex:"price",key:"price",width:100,render:function(e,t){return s.a.createElement(de.a,{value:t.details.price,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332"})}},{title:"Doanh thu",dataIndex:"sellingRevenue",key:"sellingRevenue",width:100,render:function(e){return s.a.createElement(de.a,{value:e,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332"})}}];(r=r.map((function(e,t){var a=Object(U.a)({},e,{key:t,importingCost:e.importedQuantity*e.details.price});return a.details._id=a.details._id.slice(-12),a}))).push({key:r.length,importedQuantity:r.reduce((function(e,t){return e+t.importedQuantity}),0),requiredQuantity:r.reduce((function(e,t){return e+t.requiredQuantity}),0),details:{_id:"T\u1ed5ng c\u1ed9ng",name:"",availableQuantity:r.reduce((function(e,t){return e+t.details.availableQuantity}),0)},importingCost:r.reduce((function(e,t){return e+t.importingCost}),0)});var p=[{title:"M\xe3 s\u1ea3n ph\u1ea9m",dataIndex:"id",key:"id",width:100,render:function(e,t){return t.details._id}},{title:"T\xean s\u1ea3n ph\u1ea9m",dataIndex:"name",key:"name",width:150,render:function(e,t){return t.details.name}},{title:s.a.createElement("center",null,"SL t\u1ed3n kho"),dataIndex:"availableQuantity",width:100,key:"availableQuantity",render:function(e,t){return s.a.createElement("center",null,t.details.availableQuantity)}},{title:s.a.createElement("center",null,"SL \u0111\xe3 nh\u1eadp"),dataIndex:"importedQuantity",width:100,key:"importedQuantity",render:function(e){return s.a.createElement("center",null,e)}},{title:"\u0110\u01a1n gi\xe1",dataIndex:"price",key:"price",width:100,render:function(e,t){return s.a.createElement(de.a,{value:t.details.price,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332"})}},{title:"Ph\xed nh\u1eadp",dataIndex:"importingCost",key:"importingCost",width:100,render:function(e){return s.a.createElement(de.a,{value:e,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332"})}}],d=[{key:"1",order:1,name:"Doanh thu b\xe1n h\xe0ng",value:i},{key:"2",order:"T\u1ed5ng doanh thu",name:"",value:i}],_=[{title:"STT",dataIndex:"order",key:"order",width:125},{title:"H\u1ea1ng m\u1ee5c",dataIndex:"name",key:"name",width:250},{title:"Doanh thu",dataIndex:"value",key:"value",width:125,render:function(e){return s.a.createElement(de.a,{value:e,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332"})}}],h=[{key:"1",order:1,name:"L\u01b0\u01a1ng nh\xe2n s\u1ef1",value:c},{key:"2",order:2,name:"Chi ph\xed nh\u1eadp h\xe0ng",value:l},{key:"3",order:"T\u1ed5ng chi tr\u1ea3",name:"",value:c+l}],f=[{title:"STT",dataIndex:"order",key:"order",width:125},{title:"H\u1ea1ng m\u1ee5c",dataIndex:"name",key:"name",width:250},{title:"Chi ph\xed",dataIndex:"value",key:"value",width:125,render:function(e){return s.a.createElement(de.a,{value:e,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332"})}}];return s.a.createElement("div",{className:"reporting__report-to-print__content"},s.a.createElement("div",{className:"reporting__report-to-print__content__header"},s.a.createElement("div",{className:"reporting__report-to-print__content__header__company"},s.a.createElement("img",{className:"reporting__report-to-print__content__header__company__logo",src:a(102),alt:"logo"}),s.a.createElement("div",{className:"reporting__report-to-print__content__header__company__brand"},s.a.createElement("div",{className:"reporting__report-to-print__content__header__company__brand__name"},s.a.createElement("span",null,"Mini Mart")),s.a.createElement("div",{className:"reporting__report-to-print__content__header__company__brand__slogan"},s.a.createElement("span",null,"Ti\u1ec7n L\u1ee3i m\xe0 Ch\u1ea5t L\u01b0\u1ee3ng")))),s.a.createElement("span",{className:"reporting__report-to-print__content__header__date"},"Ng\xe0y xu\u1ea5t: ",H()().format("DD/MM/YYYY HH:mm"))),s.a.createElement("h2",{className:"reporting__report-to-print__content__main-title"},"B\xc1O C\xc1O TH\xc1NG ",H()("".concat(o,"/").concat(u),"MM/YYYY").format("MM/YYYY")),s.a.createElement("div",{className:"reporting__report-to-print__content__body"},s.a.createElement("div",{className:"reporting__report-to-print__content__body__selling-statistic"},s.a.createElement("h3",null,"1. B\xe1n h\xe0ng"),s.a.createElement("div",{className:"reporting__report-to-print__content__body__table"},s.a.createElement(ie.a,{dataSource:Object(te.a)(n),columns:m,pagination:!1}))),s.a.createElement("div",{className:"reporting__report-to-print__content__body__importing-statistic"},s.a.createElement("h3",null,"2. Nh\u1eadp h\xe0ng"),s.a.createElement("div",{className:"reporting__report-to-print__content__body__table"},s.a.createElement(ie.a,{dataSource:Object(te.a)(r),columns:p,pagination:!1}))),s.a.createElement("div",{className:"reporting__report-to-print__content__body__revenue-statistic"},s.a.createElement("h3",null,"3. Doanh thu"),s.a.createElement("div",{className:"reporting__report-to-print__content__body__table"},s.a.createElement(ie.a,{dataSource:[].concat(d),columns:_,pagination:!1}))),s.a.createElement("div",{className:"reporting__report-to-print__content__body__revenue-statistic"},s.a.createElement("h3",null,"4. Chi tr\u1ea3"),s.a.createElement("div",{className:"reporting__report-to-print__content__body__table"},s.a.createElement(ie.a,{dataSource:[].concat(h),columns:f,pagination:!1}))),s.a.createElement(M.a,{justify:"center",align:"middle",className:"reporting__report-to-print__content__body__manager-confirm"},s.a.createElement(q.a,{span:14}),s.a.createElement(q.a,{span:10,align:"middle"},s.a.createElement("span",{className:"reporting__report-to-print__content__body__manager-confirm__stand-for"},"TM. Ng\u01b0\u1eddi qu\u1ea3n l\xfd"),s.a.createElement("div",{className:"reporting__report-to-print__content__body__manager-confirm__signature"},s.a.createElement("img",{src:"https://files.slack.com/files-pri/THXMMTH2T-F0110T0NABG/signature__1_.png",alt:"signature"})),s.a.createElement("span",{className:"reporting__report-to-print__content__body__manager-confirm__fullname"},e.fullname)))))}}]),t}(r.Component)),na=Object(N.a)(aa),ra=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={month:(new Date).getMonth()+1,year:(new Date).getFullYear(),products:[],bestSellingProducts:[],soldProducts:[],importedProducts:[],newProducts:[],sellingHistories:[],importedQuantityTotal:0,requiredQuantityTotal:0,importingCostTotal:0,requiredImportingCostTotal:0,soldQuantityTotal:0,newProductTotal:0,revenueTotal:0,paymentTotal:0,salaryTotal:0,revenueStatisticData:[],soldQuantityStatisticData:[],productCurrentPage:1,productPageLimit:10,productTotal:0,isLoading:!0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"componentDidMount",value:function(){this.loadData(this.state.month,this.state.year)}},{key:"loadData",value:function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.setAppLoading(!0),e.next=4,Promise.all([this.loadProducts(1,t,a)]);case 4:n=e.sent,this.props.setAppLoading(!1),r=n[0],this.setState(Object(U.a)({},r,{productCurrentPage:1,isLoading:!1})),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"loadProducts",value:function(){var e=Object(f.a)(h.a.mark((function e(t,a,n){var r,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new Date(H()("".concat(a,"/").concat(n),"MM/YYYY").startOf("day")).getTime(),s=new Date(H()("".concat(H()(new Date(r)).daysInMonth(),"/").concat(a,"/").concat(n),"DD/MM/YYYY").endOf("day")).getTime(),e.next=5,fetch(S.Manager.Reporting.getProducts.replace("{page}",t).replace("{limit}",this.state.productPageLimit).replace("{statisticStartDate}",r.toString()).replace("{statisticEndDate}",s.toString()),{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 5:return e.next=7,e.sent.json();case 7:if(200===(i=e.sent).status){e.next=10;break}return e.abrupt("return",Promise.reject(i.errors[0]));case 10:return e.abrupt("return",Promise.resolve(Object(U.a)({},i.data)));case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"monthCellRender",value:function(e){var t=new Date(e).getMonth();return Ut[t]}},{key:"onDatePickerChange",value:function(e){var t=new Date(e),a=t.getMonth()+1,n=t.getFullYear();this.loadData(a,n),this.setState({month:a,year:n})}},{key:"onProductPageChange",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.loadProducts(t);case 3:a=e.sent,this.setState({productCurrentPage:t,products:a.products}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.month,n=t.year,r=t.products,i=t.bestSellingProducts,c=t.importedQuantityTotal,l=t.requiredQuantityTotal,o=t.importingCostTotal,u=t.requiredImportingCostTotal,m=t.soldQuantityTotal,p=t.newProductTotal,d=t.revenueTotal,_=t.paymentTotal,h=t.revenueStatisticData,f=t.soldQuantityStatisticData,g=t.productCurrentPage,b=t.productPageLimit,v=t.productTotal;r=r.map((function(e,t){return Object(U.a)({},e,{key:t})}));var w=Math.ceil(v/b)>1,S=[{title:"",dataIndex:"image",key:"image",width:"3.75rem",render:function(e){return s.a.createElement("img",{style:{width:"1.5625rem",marginLeft:"0.625rem"},src:e,alt:"product"})}},{title:"S\u1ea3n ph\u1ea9m",dataIndex:"name",key:"name",width:"12.5rem"},{title:"Th\u1ec3 lo\u1ea1i",dataIndex:"category",key:"category",width:"11.25rem",render:function(e,t){return s.a.createElement("span",null,t.category.name)}},{title:"Nh\xe0 cung c\u1ea5p",dataIndex:"supplier",key:"supplier",width:"12.5rem",render:function(e,t){return s.a.createElement(Nt,{supplier:Object(U.a)({},t.supplier),buttonText:t.supplier.name,buttonStyle:{fontSize:"0.6875rem"},placement:"right"})}},{title:"Gi\xe1 b\xe1n",dataIndex:"price",key:"price",width:"7.5rem",sorter:function(e,t){return e.price-t.price},render:function(e){return s.a.createElement(de.a,{value:Number(e),displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332"})}},{title:"SL \u0111\xe3 nh\u1eadp (Th".concat(this.state.month,"/").concat(this.state.year,")"),dataIndex:"importedQuantity",key:"importedQuantity",width:"5rem",sorter:function(e,t){return e.importedQuantity-t.importedQuantity},render:function(e){return s.a.createElement("center",null,e)}},{title:"SL \u0111\xe3 b\xe1n (Th".concat(this.state.month,"/").concat(this.state.year,")"),dataIndex:"soldQuantity",key:"soldQuantity",width:"5rem",sorter:function(e,t){return e.soldQuantity-t.soldQuantity},render:function(e){return s.a.createElement("center",null,e)}},{title:"SL t\u1ed3n kho",dataIndex:"availableQuantity",key:"availableQuantity",width:"5rem",sorter:function(e,t){return e.availableQuantity-t.availableQuantity},render:function(e){return s.a.createElement("center",null,e)}},{title:"Tr\u1ea1ng th\xe1i",dataIndex:"status",key:"status",width:"6.25rem",render:function(e,t){return s.a.createElement("center",null,0===t.availableQuantity?s.a.createElement("span",{style:{color:"crimson",fontWeight:"bold"}},"H\u1ebft h\xe0ng"):"C\xf2n h\xe0ng")}},{title:s.a.createElement("center",null,"M\xe3 QR"),dataIndex:"qrcode",key:"qrcode",render:function(e,t){return s.a.createElement("center",null,s.a.createElement(Se.a,{value:t._id,style:{width:"1.5625rem",height:"1.5625rem"}}))}}];return s.a.createElement("div",{className:"reporting"},s.a.createElement("div",{className:"reporting__header-cover"}),s.a.createElement("div",{className:"reporting__header-cover2"}),s.a.createElement(Oe.a,{trigger:function(){return s.a.createElement(k.a,{title:"In b\xe1o c\xe1o",placement:"left"},s.a.createElement(E.a,{className:"reporting__btn-print-report",shape:"circle",type:"primary",icon:s.a.createElement(Yt.a,null)}))},content:function(){return e.reportToPrintRef}}),s.a.createElement("div",{className:"reporting__report-to-print"},s.a.createElement(na,{ref:function(t){return e.reportToPrintRef=t},soldProducts:Object(te.a)(this.state.soldProducts),importedProducts:Object(te.a)(this.state.importedProducts),sellingRevenueTotal:this.state.revenueTotal,salaryTotal:this.state.salaryTotal,importingCostTotal:this.state.importingCostTotal,month:this.state.month,year:this.state.year})),s.a.createElement("div",{className:"reporting__header"},s.a.createElement("div",{className:"reporting__header__date-picker"},s.a.createElement("span",{className:"reporting__header__date-picker__label"},"Ch\u1ecdn th\xe1ng:"),s.a.createElement(Lt.a,{defaultValue:H()("".concat(a,"/").concat(n),"MM/YYYY"),format:"MM/YYYY",picker:"month",size:"small",clearIcon:null,placeholder:null,bordered:!1,monthCellRender:function(t){return e.monthCellRender(t)},onChange:function(t){return e.onDatePickerChange(t)}}))),s.a.createElement(Vt,{month:a,year:n,revenueTotal:d,paymentTotal:_,salaryTotal:this.state.salaryTotal,importingCostTotal:o,statisticData:Object(te.a)(h)}),s.a.createElement("div",{className:"product-statistic reporting__block-style"},s.a.createElement(M.a,{style:{width:"100%"}},s.a.createElement(q.a,{span:24},s.a.createElement("div",{className:"product-statistic__products"},s.a.createElement("div",{className:"product-statistic__products__header"},s.a.createElement("div",{className:"product-statistic__products__header__cover"})),s.a.createElement("div",{className:"product-statistic__products__statistic"},s.a.createElement(M.a,{style:{width:"100%"},gutter:10},s.a.createElement(q.a,{span:6,style:{paddingLeft:0}},s.a.createElement(Xt,{importedProducts:Object(te.a)(this.state.importedProducts),importedQuantityTotal:c,requiredQuantityTotal:l,importingCostTotal:o,requiredImportingCostTotal:u})),s.a.createElement(q.a,{span:18,style:{paddingRight:0}},s.a.createElement("div",{className:"product-statistic__products__statistic__item"},s.a.createElement(ta,{soldQuantityTotal:m,newProductTotal:p,availableQuantityTotal:v,soldQuantityStatisticData:Object(te.a)(f),sellingHistories:Object(te.a)(this.state.sellingHistories),newProducts:Object(te.a)(this.state.newProducts)}),s.a.createElement(Kt,{products:Object(te.a)(i)}))))),s.a.createElement("div",{className:"product-statistic__products__list"},s.a.createElement("div",{className:"product-statistic__products__list__header"},s.a.createElement(M.a,{style:{width:"100%"}},s.a.createElement(q.a,{span:8},s.a.createElement("h1",null,"S\u1ea3n ph\u1ea9m si\xeau th\u1ecb",s.a.createElement("span",{className:"product-statistic__products__list__header__product-total"},this.state.productTotal))),s.a.createElement(q.a,{span:10}),s.a.createElement(q.a,{span:6,align:"center"},s.a.createElement(y.a,{prefix:s.a.createElement(Xe.a,{style:{marginRight:3}}),placeholder:"T\xecm ki\u1ebfm s\u1ea3n ph\u1ea9m...",style:{marginTop:3}})))),s.a.createElement("div",{className:"product-statistic__products__list__wrapper"},s.a.createElement(ie.a,{dataSource:Object(te.a)(r),columns:S,pagination:!!w&&{current:g,pageSize:b,total:v,onChange:function(t){return e.onProductPageChange(t)}}}))))))))}}]),t}(P),sa=Object(C.b)(null,n)(Object(N.a)(ra)),ia=(a(636),a(721)),ca=a(722),la=a(723),oa=a(684),ua=a(718),ma=a(720),pa=(a(637),{MALE:{type:"MALE",name:"Nam"},FEMALE:{type:"FEMALE",name:"N\u1eef"}}),da=Ke.a.Option,_a={labelCol:{span:6},wrapperCol:{span:18}},ha=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).onFinish=function(){var e=Object(f.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(n=Object(U.a)({},t)).password===n.confirmedPassword){e.next=5;break}return g.a.error("Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u kh\xf4ng ch\xednh x\xe1c"),e.abrupt("return");case 5:return n.dateOfBirth=H()(n.dateOfBirth).format("DD-MM-YYYY"),delete n.confirmedPassword,e.next=9,fetch(S.Manager.StaffManagement.addStaff,{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8",token:a.props.cookies.get(A)},signal:a.abortController.signal});case 9:return e.next=11,e.sent.json();case 11:if(200===(r=e.sent).status){e.next=15;break}return g.a.error(r.errors[0]),e.abrupt("return");case 15:a.props.reloadStaffs(r.data.user),a.setDialogVisible(!1),g.a.success(r.messages[0]),e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(0),e.abrupt("return",e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t){return e.apply(this,arguments)}}(),a.state={isVisible:!1},a.formRef=s.a.createRef(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"setDialogVisible",value:function(e){e||this.formRef.current.resetFields(),this.setState({isVisible:e})}},{key:"onOk",value:function(){document.getElementById("add-staff-dialog-btn-submit").click()}},{key:"onCancel",value:function(){this.setDialogVisible(!1)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog"},s.a.createElement(k.a,{placement:"bottom",title:"Th\xeam nh\xe2n vi\xean"},s.a.createElement(E.a,{className:"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__btn-open animated bounceIn",style:{animationDelay:"0.8s"},shape:"circle",type:"link",icon:s.a.createElement(it.a,null),onClick:function(){return e.setDialogVisible(!0)}})),s.a.createElement(z.a,{className:"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__content",title:s.a.createElement("div",null,s.a.createElement(ua.a,{style:{color:"#ff8220",marginRight:10}}),s.a.createElement("span",{style:{color:"#ff8220",fontWeight:"bold"}},"Th\xeam nh\xe2n vi\xean m\u1edbi")),centered:!0,visible:this.state.isVisible,onOk:function(){return e.onOk()},onCancel:function(){return e.onCancel()},okText:"Ho\xe0n t\u1ea5t",cancelText:"H\u1ee7y b\u1ecf",okButtonProps:{style:{background:"#ff8220",border:0,fontWeight:"bold"}}},s.a.createElement(b.a,Object.assign({},_a,{ref:function(t){e.formRef.current=t},className:"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__form",onFinish:function(t){return e.onFinish(t)},onFinishFailed:function(){g.a.error("Vui l\xf2ng ki\u1ec3m tra l\u1ea1i th\xf4ng tin")}}),s.a.createElement(b.a.Item,{style:{display:"none"}},s.a.createElement(E.a,{type:"primary",htmlType:"submit",id:"add-staff-dialog-btn-submit"})),s.a.createElement(M.a,{gutter:10},s.a.createElement(q.a,{span:10},s.a.createElement("h3",{className:"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__form__title"},s.a.createElement("span",{className:"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__form__title__icon"},s.a.createElement(v.a,null)),s.a.createElement("span",null,"Th\xf4ng tin c\xe1 nh\xe2n")),s.a.createElement("div",{className:"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__form__img-uploader"},s.a.createElement(st,{width:100,height:100,isAvatar:!0,onFinish:function(t){e.formRef.current&&e.formRef.current.setFieldsValue({avatar:t})},clearImage:!this.state.isVisible})),s.a.createElement(b.a.Item,{label:"H\u1ecd v\xe0 t\xean",name:"fullname",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp h\u1ecd v\xe0 t\xean"}]},s.a.createElement(y.a,{placeholder:"T\u1ed1i \u0111a 30 k\xed t\u1ef1",autoFocus:!0})),s.a.createElement(b.a.Item,{label:"Ch\u1ee9c v\u1ee5",name:"role",rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn ch\u1ee9c v\u1ee5"}]},s.a.createElement(Ke.a,{placeholder:"Ch\u1ecdn ch\u1ee9c v\u1ee5",allowClear:!0},s.a.createElement(da,{value:R.CASHIER.type},R.CASHIER.name),s.a.createElement(da,{value:R.IMPORTER.type},R.IMPORTER.name),s.a.createElement(da,{value:R.MANAGER.type},R.MANAGER.name))),s.a.createElement(b.a.Item,{label:"Gi\u1edbi t\xednh",name:"sex",rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn gi\u1edbi t\xednh"}]},s.a.createElement(Ke.a,{placeholder:"Ch\u1ecdn gi\u1edbi t\xednh",allowClear:!0},s.a.createElement(da,{value:pa.MALE.type},pa.MALE.name),s.a.createElement(da,{value:pa.FEMALE.type},pa.FEMALE.name))),s.a.createElement(b.a.Item,{label:"Ng\xe0y sinh",name:"dateOfBirth",rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn ng\xe0y sinh"}]},s.a.createElement(Lt.a,{placeholder:"Ch\u1ecdn ng\xe0y sinh",format:"DD-MM-YYYY"})),s.a.createElement(b.a.Item,{label:"E-mail",name:"email",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp \u0111\u1ecba ch\u1ec9 email"},{type:"email",message:"\u0110\u1ecba ch\u1ec9 email kh\xf4ng h\u1ee3p l\u1ec7"}]},s.a.createElement(y.a,{placeholder:"abc@gmail.com"})),s.a.createElement(b.a.Item,{label:"\u0110i\u1ec7n tho\u1ea1i",name:"phone"},s.a.createElement(y.a,{maxLength:11,placeholder:"G\u1ed3m 10 ho\u1eb7c 11 s\u1ed1"})),s.a.createElement(b.a.Item,{label:"\u0110\u1ecba ch\u1ec9",name:"address"},s.a.createElement(y.a.TextArea,{placeholder:"227 Nguy\u1ec5n V\u0103n C\u1eeb, Qu\u1eadn 5"})),s.a.createElement(b.a.Item,{label:"\u1ea2nh \u0111\u1ea1i di\u1ec7n",name:"avatar",style:{display:"none"}},s.a.createElement(y.a,{placeholder:"D\xe1n \u0111\u01b0\u1eddng d\u1eabn \u1ea3nh v\xe0o \u0111\xe2y"}))),s.a.createElement(q.a,{span:2,style:{textAlign:"center"}},s.a.createElement(ve.a,{type:"vertical"})),s.a.createElement(q.a,{span:12},s.a.createElement("h3",{className:"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__form__title"},s.a.createElement("span",{className:"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__form__title__icon"},s.a.createElement(ma.a,null)),s.a.createElement("span",null,"T\xe0i kho\u1ea3n \u0111\u0103ng nh\u1eadp")),s.a.createElement(b.a.Item,{label:"T\xean t\xe0i kho\u1ea3n",name:"username",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp t\xean t\xe0i kho\u1ea3n"}]},s.a.createElement(y.a,{placeholder:"T\u1ed1i \u0111a 30 k\xed t\u1ef1"})),s.a.createElement(b.a.Item,{label:"M\u1eadt kh\u1ea9u",name:"password",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u"}]},s.a.createElement(y.a.Password,{placeholder:"Bao g\u1ed3m s\u1ed1, k\xed t\u1ef1 \u0111\u1eb7c bi\u1ec7t, hoa v\xe0 th\u01b0\u1eddng"})),s.a.createElement(b.a.Item,{label:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",name:"confirmedPassword",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u"}]},s.a.createElement(y.a.Password,{placeholder:"Bao g\u1ed3m s\u1ed1, k\xed t\u1ef1 \u0111\u1eb7c bi\u1ec7t, hoa v\xe0 th\u01b0\u1eddng"})))))))}}]),t}(P),fa=Object(N.a)(ha),ga=(a(638),Ke.a.Option),ba={labelCol:{span:6},wrapperCol:{span:18}},ya=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).onFinish=function(){var e=Object(f.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=Object(U.a)({},t)).dateOfBirth=H()(n.dateOfBirth).format("DD-MM-YYYY"),n.sex=Ce.find(pa,(function(e){return e.name===n.sex})).type,e.next=6,fetch(S.Manager.StaffManagement.updateStaffProfile.replace("{updatedUserID}",a.props.selectedStaff._id),{method:"PUT",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8",token:a.props.cookies.get(A)},signal:a.abortController.signal});case 6:return e.next=8,e.sent.json();case 8:if(200===(r=e.sent).status){e.next=12;break}return g.a.error(r.errors[0]),e.abrupt("return");case 12:a.props.reloadStaffs(r.data.user),a.setDialogVisible(!1),g.a.success(r.messages[0]),e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}(),a.state={isVisible:!1},a.formRef=s.a.createRef(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"setDialogVisible",value:function(e){this.setState({isVisible:e})}},{key:"loadSelectedStaffProfile",value:function(){var e=this.props.selectedStaff,t={};if(e){var a=Object.keys(e).filter((function(e){return["fullname","role","sex","dateOfBirth","username","email","phone","address","avatar"].includes(e)})),n=!0,r=!1,s=void 0;try{for(var i,c=a[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var l=i.value,o=e[l];if("dateOfBirth"===l){o=o.split("-");var u=new Date(Number(o[2]),Number(o[1])-1,Number(o[0]));o=H()(u)}t[l]=o}}catch(m){r=!0,s=m}finally{try{n||null==c.return||c.return()}finally{if(r)throw s}}}this.formRef.current&&this.formRef.current.setFieldsValue(Object(U.a)({},t))}},{key:"onOk",value:function(){document.getElementById("update-staff-dialog-btn-submit").click()}},{key:"onCancel",value:function(){this.setDialogVisible(!1)}},{key:"render",value:function(){var e=this,t=this.props.selectedStaff;return t?s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(M.a,{align:"middle"},s.a.createElement(q.a,{span:2},s.a.createElement($e.a,{className:"staff-management__body__staffs__sidebar__staff-features__feature__icon"})),s.a.createElement(q.a,{span:22,className:"staff-management__body__staffs__sidebar__staff-features__feature__info",onClick:function(){return e.setDialogVisible(!0)}},s.a.createElement("span",{className:"staff-management__body__staffs__sidebar__staff-features__feature__info__name"},"Ch\u1ec9nh s\u1eeda th\xf4ng tin"))),s.a.createElement(z.a,{className:"staff-management__body__staffs__content__list-staffs__header__dialogs__update-staff-dialog__content",title:s.a.createElement("span",{style:{color:"#ff8220",fontWeight:"bold"}},t.fullname," | Th\xf4ng tin c\xe1 nh\xe2n"),centered:!0,visible:this.state.isVisible,onOk:function(){return e.onOk()},onCancel:function(){return e.onCancel()},okText:"L\u01b0u thay \u0111\u1ed5i",cancelText:"H\u1ee7y b\u1ecf",okButtonProps:{style:{background:"#ff8220",border:0,fontWeight:"bold"}}},s.a.createElement(b.a,Object.assign({},ba,{ref:function(t){e.formRef.current=t,e.loadSelectedStaffProfile()},className:"staff-management__body__staffs__content__list-staffs__header__dialogs__update-staff-dialog__form",onFinish:function(t){return e.onFinish(t)},onFinishFailed:function(){g.a.error("Vui l\xf2ng ki\u1ec3m tra l\u1ea1i th\xf4ng tin")}}),s.a.createElement(b.a.Item,{style:{display:"none"}},s.a.createElement(E.a,{type:"primary",htmlType:"submit",id:"update-staff-dialog-btn-submit"})),s.a.createElement("div",{className:"staff-management__body__staffs__content__list-staffs__header__dialogs__update-staff-dialog__form__img-uploader"},s.a.createElement(st,{width:100,height:100,isAvatar:!0,onFinish:function(t){e.formRef.current&&e.formRef.current.setFieldsValue({avatar:t})},defaultImageUrl:t.avatar,tooltipTitle:"Nh\u1ea5p \u0111\u1ec3 t\u1ea3i \u1ea3nh l\xean",tooltipPlacement:"bottom",clearImage:!this.state.isVisible})),s.a.createElement(b.a.Item,{label:"H\u1ecd v\xe0 t\xean",name:"fullname",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp h\u1ecd v\xe0 t\xean"}]},s.a.createElement(y.a,{placeholder:"T\u1ed1i \u0111a 30 k\xed t\u1ef1"})),s.a.createElement(b.a.Item,{label:"T\xean t\xe0i kho\u1ea3n",name:"username",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp t\xean t\xe0i kho\u1ea3n"}]},s.a.createElement(y.a,{placeholder:"T\u1ed1i \u0111a 30 k\xed t\u1ef1"})),s.a.createElement(b.a.Item,{label:"Ch\u1ee9c v\u1ee5",name:"role",rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn ch\u1ee9c v\u1ee5"}]},s.a.createElement(Ke.a,{placeholder:"Ch\u1ecdn ch\u1ee9c v\u1ee5",allowClear:!0},s.a.createElement(ga,{value:R.CASHIER.type},R.CASHIER.name),s.a.createElement(ga,{value:R.IMPORTER.type},R.IMPORTER.name),s.a.createElement(ga,{value:R.MANAGER.type},R.MANAGER.name))),s.a.createElement(b.a.Item,{label:"Gi\u1edbi t\xednh",name:"sex",rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn gi\u1edbi t\xednh"}]},s.a.createElement(Ke.a,{placeholder:"Ch\u1ecdn gi\u1edbi t\xednh",allowClear:!0},s.a.createElement(ga,{value:pa.MALE.name},pa.MALE.name),s.a.createElement(ga,{value:pa.FEMALE.name},pa.FEMALE.name))),s.a.createElement(b.a.Item,{label:"Ng\xe0y sinh",name:"dateOfBirth",rules:[{required:!0,message:"Vui l\xf2ng ch\u1ecdn ng\xe0y sinh"}]},s.a.createElement(Lt.a,{placeholder:"Ch\u1ecdn ng\xe0y sinh",format:"DD-MM-YYYY"})),s.a.createElement(b.a.Item,{label:"E-mail",name:"email",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp \u0111\u1ecba ch\u1ec9 email"},{type:"email",message:"\u0110\u1ecba ch\u1ec9 email kh\xf4ng h\u1ee3p l\u1ec7"}]},s.a.createElement(y.a,{placeholder:"abc@gmail.com"})),s.a.createElement(b.a.Item,{label:"\u0110i\u1ec7n tho\u1ea1i",name:"phone"},s.a.createElement(y.a,{maxLength:11,placeholder:"G\u1ed3m 10 ho\u1eb7c 11 s\u1ed1"})),s.a.createElement(b.a.Item,{label:"\u0110\u1ecba ch\u1ec9",name:"address"},s.a.createElement(y.a.TextArea,{placeholder:"227 Nguy\u1ec5n V\u0103n C\u1eeb, Qu\u1eadn 5"})),s.a.createElement(b.a.Item,{label:"\u1ea2nh \u0111\u1ea1i di\u1ec7n",name:"avatar",style:{display:"none"}},s.a.createElement(y.a,{placeholder:"D\xe1n \u0111\u01b0\u1eddng d\u1eabn \u1ea3nh v\xe0o \u0111\xe2y"})))))):s.a.createElement(s.a.Fragment,null)}}]),t}(P),ka=Object(N.a)(ya),Ea=(a(639),["Th\u1ee9 2","Th\u1ee9 3","Th\u1ee9 4","Th\u1ee9 5","Th\u1ee9 6","Th\u1ee9 7","Ch\u1ee7 nh\u1eadt"]),va=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.cookies.get(x),t=this.props.staff;if(!t)return s.a.createElement(se.a,{description:"Kh\xf4ng t\xecm th\u1ea5y l\u1ecbch l\xe0m vi\u1ec7c",className:"work-schedule-report-to-print__empty"});var n=[{key:"0",workShifts:[[],[],[],[],[],[],[]]}],r=!0,i=!1,c=void 0;try{for(var l,o=t.workAssignments[Symbol.iterator]();!(r=(l=o.next()).done);r=!0){var u=l.value,m=H()(u.startTime).isoWeekday()-1;n[0].workShifts[m].push(u)}}catch(k){i=!0,c=k}finally{try{r||null==o.return||o.return()}finally{if(i)throw c}}for(var p=[{title:"",dataIndex:"workShifts",key:"workShifts",render:function(e,t){return s.a.createElement("ul",null,t.workShifts[0].map((function(e,t){return s.a.createElement("li",{key:"".concat(t,"_0")},"".concat(H()(e.startTime).format("HH:mm")," - ").concat(H()(e.endTime).format("HH:mm")))})))}},{title:"",dataIndex:"workShifts",key:"workShifts",render:function(e,t){return s.a.createElement("ul",null,t.workShifts[1].map((function(e,t){return s.a.createElement("li",{key:"".concat(t,"_1")},"".concat(H()(e.startTime).format("HH:mm")," - ").concat(H()(e.endTime).format("HH:mm")))})))}},{title:"",dataIndex:"workShifts",key:"workShifts",render:function(e,t){return s.a.createElement("ul",null,t.workShifts[2].map((function(e,t){return s.a.createElement("li",{key:"".concat(t,"_2")},"".concat(H()(e.startTime).format("HH:mm")," - ").concat(H()(e.endTime).format("HH:mm")))})))}},{title:"",dataIndex:"workShifts",key:"workShifts",render:function(e,t){return s.a.createElement("ul",null,t.workShifts[3].map((function(e,t){return s.a.createElement("li",{key:"".concat(t,"_3")},"".concat(H()(e.startTime).format("HH:mm")," - ").concat(H()(e.endTime).format("HH:mm")))})))}},{title:"",dataIndex:"workShifts",key:"workShifts",render:function(e,t){return s.a.createElement("ul",null,t.workShifts[4].map((function(e,t){return s.a.createElement("li",{key:"".concat(t,"_4")},"".concat(H()(e.startTime).format("HH:mm")," - ").concat(H()(e.endTime).format("HH:mm")))})))}},{title:"",dataIndex:"workShifts",key:"workShifts",render:function(e,t){return s.a.createElement("ul",null,t.workShifts[5].map((function(e,t){return s.a.createElement("li",{key:"".concat(t,"_5")},"".concat(H()(e.startTime).format("HH:mm")," - ").concat(H()(e.endTime).format("HH:mm")))})))}},{title:"",dataIndex:"workShifts",key:"workShifts",render:function(e,t){return s.a.createElement("ul",null,t.workShifts[6].map((function(e,t){return s.a.createElement("li",{key:"".concat(t,"_6")},"".concat(H()(e.startTime).format("HH:mm")," - ").concat(H()(e.endTime).format("HH:mm")))})))}}],d=H()().startOf("day").subtract(H()().isoWeekday()-1,"days"),_=H()().endOf("day").add(7-H()().isoWeekday(),"days"),h=[],f=0;f<7;f++){var g=H()(d).add(f,"days").format("DD/MM");h.push(g)}for(var b in p){var y=Ea[b];p[b].title="".concat(y," (").concat(h[b],")")}return s.a.createElement("div",{className:"work-schedule-report-to-print"},s.a.createElement("div",{className:"work-schedule-report-to-print__header"},s.a.createElement("div",{className:"work-schedule-report-to-print__header__company"},s.a.createElement("img",{className:"work-schedule-report-to-print__header__company__logo",src:a(102),alt:"logo"}),s.a.createElement("div",{className:"work-schedule-report-to-print__header__company__brand"},s.a.createElement("div",{className:"work-schedule-report-to-print__header__company__brand__name"},s.a.createElement("span",null,"Mini Mart")),s.a.createElement("div",{className:"work-schedule-report-to-print__header__company__brand__slogan"},s.a.createElement("span",null,"Ti\u1ec7n L\u1ee3i m\xe0 Ch\u1ea5t L\u01b0\u1ee3ng")))),s.a.createElement("div",{className:"work-schedule-report-to-print__header__created-date"},s.a.createElement("span",null,H()().format("DD/MM/YYYY HH:mm"))),s.a.createElement("div",{className:"work-schedule-report-to-print__header__title"},s.a.createElement("h2",null,"L\u1ecbch l\xe0m vi\u1ec7c trong tu\u1ea7n"),s.a.createElement("span",{className:"work-schedule-report-to-print__header__title__date-range"},"(T\u1eeb ng\xe0y ",d.format("DD/MM/YYYY")," \u0111\u1ebfn ng\xe0y ",_.format("DD/MM/YYYY"),")"))),s.a.createElement("div",{className:"work-schedule-report-to-print__content"},s.a.createElement("div",{className:"work-schedule-report-to-print__content__staff-info"},s.a.createElement("h3",null,"Th\xf4ng tin nh\xe2n vi\xean"),s.a.createElement(M.a,{style:{width:"100%"},gutter:10,className:"work-schedule-report-to-print__content__staff-info__item"},s.a.createElement(q.a,{span:7,style:{fontWeight:"bold"}},"H\u1ecd v\xe0 t\xean"),s.a.createElement(q.a,{span:17,style:{fontWeight:"bold",fontSize:14}},t.fullname)),s.a.createElement(M.a,{style:{width:"100%"},gutter:10,className:"work-schedule-report-to-print__content__staff-info__item"},s.a.createElement(q.a,{span:7,style:{fontWeight:"bold"}},"Ng\xe0y sinh"),s.a.createElement(q.a,{span:17},t.dateOfBirth)),s.a.createElement(M.a,{style:{width:"100%"},gutter:10,className:"work-schedule-report-to-print__content__staff-info__item"},s.a.createElement(q.a,{span:7,style:{fontWeight:"bold"}},"Ch\u1ee9c v\u1ee5"),s.a.createElement(q.a,{span:17},R[t.role].name))),s.a.createElement("div",{className:"work-schedule-report-to-print__content__work-schedule"},s.a.createElement("h3",null,"Ca \u0111\u01b0\u1ee3c ph\xe2n c\xf4ng"),s.a.createElement(ie.a,{bordered:!0,dataSource:n,columns:p,pagination:!1,className:"work-schedule-report-to-print__content__work-schedule__table"})),s.a.createElement(M.a,{justify:"center",align:"middle",className:"work-schedule-report-to-print__content__manager-confirm"},s.a.createElement(q.a,{span:14}),s.a.createElement(q.a,{span:10,align:"middle"},s.a.createElement("span",{className:"work-schedule-report-to-print__content__manager-confirm__stand-for"},"TM. Ng\u01b0\u1eddi qu\u1ea3n l\xfd"),s.a.createElement("div",{className:"work-schedule-report-to-print__content__manager-confirm__signature"},s.a.createElement("img",{src:"https://files.slack.com/files-pri/THXMMTH2T-F0110T0NABG/signature__1_.png",alt:"signature"})),s.a.createElement("span",{className:"work-schedule-report-to-print__content__manager-confirm__fullname"},e.fullname)))))}}]),t}(r.Component),wa=Object(N.a)(va),Sa={type:"WORK_SCHEDULE",title:"L\u1ecbch l\xe0m vi\u1ec7c trong tu\u1ea7n"},Aa=Ke.a.Option,xa=z.a.confirm,Na=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).loadStaffs=function(){var e=Object(f.a)(h.a.mark((function e(t,n){var r,s,i,c,l,o,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.props.setAppLoading(!0),r=S.Manager.StaffManagement.getListStaffs,t&&(r+="?role=".concat(t)),e.next=6,fetch(r,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",token:a.props.cookies.get(A)},signal:a.abortController.signal});case 6:return e.next=8,e.sent.json();case 8:if(s=e.sent,a.props.setAppLoading(!1),a.setState({isLoading:!1}),200===s.status){e.next=14;break}return g.a.error(s.errors[0]),e.abrupt("return");case 14:i=s.data.users,c=a.state,l=c.filteredStaffs,o=c.selectedStaff,(l=t?i.filter((function(e){return e.role===t})):Object(te.a)(i)).length>0?n?o.workAssignments&&(u=o.workAssignments,o=Object(U.a)({},n,{workAssignments:u})):o=l[0]:o=null,a.setState({staffs:i,filteredStaffs:l,selectedStaff:o}),e.next=24;break;case 21:return e.prev=21,e.t0=e.catch(0),e.abrupt("return",e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t,a){return e.apply(this,arguments)}}(),a.state={staffs:[],filteredStaffs:[],selectedStaff:null,searchStaffText:"",filteredStaffRole:null,isLoading:!0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadStaffs(null,null)}},{key:"onClickListStaffsRow",value:function(e){this.setState({selectedStaff:e})}},{key:"filterListStaffsByRole",value:function(e){var t=this.state,a=t.filteredStaffs,n=t.staffs,r=t.selectedStaff;r=(a=e?n.filter((function(t){return t.role===e})):Object(te.a)(n)).length>0?a[0]:null,this.setState({filteredStaffs:a,filteredStaffRole:e,selectedStaff:r})}},{key:"openRemoveStaffConfirm",value:function(e){var t=this;xa({title:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a ".concat(e.fullname," kh\u1ecfi h\u1ec7 th\u1ed1ng?"),icon:s.a.createElement(ee.a,null),content:"",okText:"\u0110\u1ed3ng \xfd",okType:"danger",cancelText:"Kh\xf4ng, c\u1ea3m \u01a1n",onOk:function(){return Object(f.a)(h.a.mark((function a(){var n,r,s,i,c,l,o;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t.props.setAppLoading(!0),n=e._id,a.next=5,fetch(S.Manager.StaffManagement.removeStaff.replace("{deletedUserID}",n),{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8",token:t.props.cookies.get(A)},signal:t.abortController.signal});case 5:return a.next=7,a.sent.json();case 7:if(r=a.sent,t.props.setAppLoading(!1),200===r.status){a.next=12;break}return g.a.error(r.errors[0]),a.abrupt("return");case 12:s=t.state,i=s.staffs,c=s.filteredStaffRole,s.filteredStaffs,o=s.selectedStaff,(i=i.filter((function(e){return e._id!==n}))).sort((function(e,t){var a=new Date(e.createdAt).getTime();return new Date(t.createdAt).getTime()-a})),l=i.filter((function(e){return!c||e.role===c})),o=l.length>0?l[0]:null,t.setState({staffs:i,selectedStaff:o,filteredStaffs:l}),g.a.success(r.messages[0]),a.next=24;break;case 21:return a.prev=21,a.t0=a.catch(0),a.abrupt("return",a.t0);case 24:case"end":return a.stop()}}),a,null,[[0,21]])})))()},onCancel:function(){}})}},{key:"onChangeSearchStaffInput",value:function(e){if(this.setState({searchStaffText:e}),e){var t=this.state.filteredStaffs;t=t.filter((function(t){var a=Object(te.a)(Object.keys(t)).filter((function(e){return"string"===typeof t[e]})),n=!0,r=!1,s=void 0;try{for(var i,c=a[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var l=i.value;if(t[l].toLowerCase().includes(e.toLowerCase()))return!0}}catch(o){r=!0,s=o}finally{try{n||null==c.return||c.return()}finally{if(r)throw s}}return!1})),this.setState({filteredStaffs:t})}else this.filterListStaffsByRole(this.state.filteredStaffRole)}},{key:"render",value:function(){var e,t=this,a=this.state,n=a.filteredStaffs,r=a.selectedStaff,i=a.isLoading;return 0===(n=n.map((function(e,t){var a=JSON.parse(JSON.stringify(e));return a.key=t,a}))).length?(e=[],r=null):(r||(r=n[0]),(e=(e=Object.keys(n[0]).filter((function(e){return!["_id","avatar","updatedAt","__v","key","workAssignments"].includes(e)}))).map((function(e){var t,a;switch(e){case"fullname":t="Nh\xe2n vi\xean",a=0;break;case"username":t="T\xean TK",a=1;break;case"role":t="Ch\u1ee9c v\u1ee5",a=2;break;case"dateOfBirth":t="Ng\xe0y sinh",a=3;break;case"sex":t="Gi\u1edbi t\xednh",a=4;break;case"email":t="Email",a=5;break;case"phone":t="\u0110i\u1ec7n tho\u1ea1i",a=6;break;case"address":t="\u0110\u1ecba ch\u1ec9",a=7;break;case"salaryRate":t="HS l\u01b0\u01a1ng",a=8;break;case"createdAt":t="Ng\xe0y tham gia",a=9}var n={title:t,colIndex:a,dataIndex:e,width:100};return"fullname"===e&&(n.render=function(e,t){return s.a.createElement(M.a,{align:"middle",style:{width:"100%"}},s.a.createElement(q.a,{span:6},s.a.createElement(L.a,{src:t.avatar,style:{width:"1.375rem",height:"1.375rem"}})),s.a.createElement(q.a,{span:18},s.a.createElement("span",{style:{fontWeight:"bold"}},e)))},n.width=160),"role"===e&&(n.render=function(e,t){var a;return e===R.MANAGER.type&&(a="staff-management__role-badge staff-management__role-badge--manager"),e===R.CASHIER.type&&(a="staff-management__role-badge staff-management__role-badge--cashier"),e===R.IMPORTER.type&&(a="staff-management__role-badge staff-management__role-badge--importer"),s.a.createElement("span",{className:a},R[e].name)},n.width=120),"address"===e&&(n.width=180),"email"!==e&&"createdAt"!==e||(n.width=140),"salaryRate"!==e&&"dateOfBirth"!==e&&"phone"!==e||(n.width=100),"sex"===e&&(n.width=80),"createdAt"===e&&(n.render=function(e){return H()(e).format("DD-MM-YYYY HH:mm")}),n}))).sort((function(e,t){return e.colIndex-t.colIndex}))),s.a.createElement("div",{className:"staff-management"},s.a.createElement("div",{className:"staff-management__body"},s.a.createElement(M.a,{className:"staff-management__body__staffs animated fadeInUp"},s.a.createElement(q.a,{span:4},s.a.createElement("div",{className:"staff-management__body__staffs__sidebar"},s.a.createElement("div",{className:"staff-management__body__staffs__sidebar__staff-details"},r?s.a.createElement(L.a,{className:"staff-management__body__staffs__sidebar__staff-details__avatar",size:50,src:r?r.avatar:"https://cdn.wrytin.com/images/avatar/s/256/default.jpeg"}):s.a.createElement("div",{className:"staff-management__body__staffs__sidebar__staff-details__avatar"},s.a.createElement(oa.a.Avatar,{active:!0,size:50,shape:"circle"})),s.a.createElement("div",{className:"staff-management__body__staffs__sidebar__staff-details__basic-info"},s.a.createElement("div",{className:"staff-management__body__staffs__sidebar__staff-details__basic-info__name"},s.a.createElement("span",null,r?r.fullname:s.a.createElement(oa.a.Input,{style:{width:100,height:20},active:!0,size:"small"}))),s.a.createElement("div",{className:"staff-management__body__staffs__sidebar__staff-details__basic-info__role"},s.a.createElement("span",null,r?R[r.role].name:"")))),s.a.createElement("ul",{className:"staff-management__body__staffs__sidebar__staff-features"},s.a.createElement("li",{className:"staff-management__body__staffs__sidebar__staff-features__feature"},r?s.a.createElement(ka,{selectedStaff:Object(U.a)({},r),reloadStaffs:function(e){return t.loadStaffs(t.state.filteredStaffRole,e)}}):s.a.createElement(oa.a.Input,{style:{width:"100%",height:30,borderRadius:3},active:!0,size:"small"})),s.a.createElement("li",{className:"staff-management__body__staffs__sidebar__staff-features__feature"},r?s.a.createElement("div",null,s.a.createElement(Oe.a,{trigger:function(){return s.a.createElement(M.a,{align:"middle"},s.a.createElement(q.a,{span:2},s.a.createElement(ia.a,{className:"staff-management__body__staffs__sidebar__staff-features__feature__icon"})),s.a.createElement(q.a,{span:22,className:"staff-management__body__staffs__sidebar__staff-features__feature__info"},s.a.createElement("span",{className:"staff-management__body__staffs__sidebar__staff-features__feature__info__name"},"L\u1ecbch l\xe0m vi\u1ec7c trong tu\u1ea7n")))},content:function(){return t.componentToPrintRef}}),s.a.createElement("div",{style:{display:"none"}},s.a.createElement(wa,{ref:function(e){return t.componentToPrintRef=e},staff:Object(U.a)({},r),basicInfo:{title:Sa.title,type:Sa.type,cover:"work-schedule.jpg",description:"B\xe1o c\xe1o l\u1ecbch l\xe0m vi\u1ec7c trong tu\u1ea7n c\u1ee7a m\u1ed9t nh\xe2n vi\xean."}}))):s.a.createElement(oa.a.Input,{style:{width:"100%",height:30,borderRadius:3},active:!0,size:"small"})),s.a.createElement("li",{className:"staff-management__body__staffs__sidebar__staff-features__feature",onClick:function(){return t.openRemoveStaffConfirm(r)}},r?s.a.createElement(M.a,{align:"middle"},s.a.createElement(q.a,{span:2},s.a.createElement(ca.a,{className:"staff-management__body__staffs__sidebar__staff-features__feature__icon"})),s.a.createElement(q.a,{span:22,className:"staff-management__body__staffs__sidebar__staff-features__feature__info"},s.a.createElement("span",{className:"staff-management__body__staffs__sidebar__staff-features__feature__info__name"},"X\xf3a kh\u1ecfi h\u1ec7 th\u1ed1ng"))):s.a.createElement(oa.a.Input,{style:{width:"100%",height:30,borderRadius:3},active:!0,size:"small"}))))),s.a.createElement(q.a,{span:20},s.a.createElement("div",{className:"staff-management__body__staffs__content"},s.a.createElement("div",{className:"staff-management__body__staffs__content__toolbar"},s.a.createElement(M.a,{style:{width:"100%"},align:"middle"},s.a.createElement(q.a,{span:7},i?s.a.createElement(oa.a.Input,{style:{width:"100%",height:28,borderRadius:24},active:!0,size:"small"}):s.a.createElement(y.a,{prefix:s.a.createElement(Xe.a,{style:{marginRight:5}}),placeholder:"T\xecm ki\u1ebfm nh\xe2n vi\xean...",onChange:function(e){return t.onChangeSearchStaffInput(e.target.value)}})))),s.a.createElement("div",{className:"staff-management__body__staffs__content__list-staffs"},s.a.createElement("div",{className:"staff-management__body__staffs__content__list-staffs__header"},s.a.createElement("div",{className:"staff-management__body__staffs__content__list-staffs__header__dark-bg"}),s.a.createElement(M.a,null,s.a.createElement(q.a,{span:6},i?s.a.createElement(s.a.Fragment,null):s.a.createElement("div",{className:"staff-management__body__staffs__content__list-staffs__header__role-selection"},s.a.createElement(Ke.a,{defaultValue:null,style:{width:200},onChange:function(e){return t.filterListStaffsByRole(e)}},s.a.createElement(Aa,{value:null},"T\u1ea5t c\u1ea3 nh\xe2n vi\xean"),s.a.createElement(Aa,{value:R.CASHIER.type},R.CASHIER.name),s.a.createElement(Aa,{value:R.IMPORTER.type},R.IMPORTER.name),s.a.createElement(Aa,{value:R.MANAGER.type},R.MANAGER.name)),s.a.createElement("div",{className:"staff-management__body__staffs__content__list-staffs__header__role-selection__staft-total-by-role"},s.a.createElement(la.a,{style:{marginRight:7}}),s.a.createElement("span",null,n.length)))),s.a.createElement(q.a,{span:18},s.a.createElement("div",{className:"staff-management__body__staffs__content__list-staffs__header__dialogs"},i?s.a.createElement(s.a.Fragment,null):s.a.createElement(fa,{reloadStaffs:function(e){return t.loadStaffs(t.state.filteredStaffRole,e)}}))))),s.a.createElement(M.a,{className:"staff-management__body__staffs__content__list-staffs__wrapper"},s.a.createElement(ie.a,{locale:{emptyText:s.a.createElement(se.a,{image:se.a.PRESENTED_IMAGE_SIMPLE,description:"Ch\u01b0a c\xf3 d\u1eef li\u1ec7u"})},columns:e,dataSource:n,pagination:!1,scroll:{y:"27.8125rem"},onRow:function(e){return{onClick:function(){return t.onClickListStaffsRow(e)}}},rowClassName:function(e){return e._id===r._id?"staff-management__body__staffs__content__list-staffs__selected-row":""}}))))))))}}]),t}(P),Oa=Object(C.b)(null,n)(Object(N.a)(Na)),Ca=a(224),Ta=a(726),ja=a(727),Ia=(a(640),"Th\u1ee9 2"),Da="Th\u1ee9 3",Pa="Th\u1ee9 4",Ra="Th\u1ee9 5",La="Th\u1ee9 6",Ma="Th\u1ee9 7",qa="Ch\u1ee7 nh\u1eadt",Wa=a(689),Ha=(a(641),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).onOK=Object(f.a)(h.a.mark((function e(){var t,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=a.state.selectedDate){e.next=5;break}return g.a.error("B\u1ea1n ch\u01b0a ch\u1ecdn th\xe1ng l\xe0m vi\u1ec7c"),e.abrupt("return");case 5:return n=t.getMonth()+1,r=t.getFullYear(),e.next=9,fetch(S.Manager.WorkSchedule.addWorkSchedule,{method:"POST",body:JSON.stringify({month:n,year:r}),headers:{"Content-type":"application/json; charset=UTF-8",token:a.props.cookies.get(A)},signal:a.abortController.signal});case 9:return e.next=11,e.sent.json();case 11:200===(s=e.sent).status?(a.setState({selectedDate:null}),a.props.reloadWorkSchedules(r),a.setModalVisible(!1),g.a.success(s.messages[0])):g.a.error(s.errors[0]),e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),a.state={isVisible:!1,selectedDate:null},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"setModalVisible",value:function(e){e||this.setState({selectedDate:null}),this.setState({isVisible:e})}},{key:"onCancel",value:function(){this.setModalVisible(!1)}},{key:"handleSelectMonth",value:function(e){var t=new Date(e);this.setState({selectedDate:t})}},{key:"monthFullCellRender",value:function(e){var t=this.state.selectedDate,a=new Date(e),n=a.getMonth();return s.a.createElement("span",{className:"\n        add-work-schedule-dialog__calendar__month \n        ".concat(t&&a.getTime()===t.getTime()?"add-work-schedule-dialog__calendar__month--selected":"","\n      ")},Ut[n])}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"add-work-schedule-dialog"},s.a.createElement(E.a,{className:"add-work-schedule-dialog__btn-open",icon:s.a.createElement(ia.a,null),type:"primary",onClick:function(){return e.setModalVisible(!0)}},"Th\xeam l\u1ecbch l\xe0m vi\u1ec7c"),s.a.createElement(z.a,{title:s.a.createElement("span",{style:{color:"#ff8220",fontWeight:"bold"}},"Th\xeam l\u1ecbch l\xe0m vi\u1ec7c"),centered:!0,visible:this.state.isVisible,onOk:function(){return e.onOK()},onCancel:function(){return e.onCancel()},okText:"Th\xeam",cancelText:"H\u1ee7y b\u1ecf",okButtonProps:{style:{background:"#ff8220",border:0,fontWeight:"bold"}}},s.a.createElement("div",{className:"add-work-schedule-dialog__calendar"},s.a.createElement(Wa.a,{mode:"year",monthFullCellRender:function(t){return e.monthFullCellRender(t)},fullscreen:!1,onPanelChange:function(t){return e.handleSelectMonth(t)}}))))}}]),t}(P)),Fa=Object(N.a)(Ha),Va=a(676),Ua=a(724),Ya=(a(651),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).onOK=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(h.a.mark((function e(){var t,n,r,s,i,c,l,o,u,m,p,d,_,f,b,y,k,E,v,w,x,N,O,C;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.startTime,r=t.endTime,n&&r){e.next=4;break}return g.a.error("Vui l\xf2ng ch\u1ecdn \u0111\u1ea7y \u0111\u1ee7 c\xe1c m\u1ed1c th\u1eddi gian"),e.abrupt("return",{v:void 0});case 4:if(!(n>=r)){e.next=7;break}return g.a.error("Kho\u1ea3ng th\u1eddi gian \u0111\xe3 ch\u1ecdn kh\xf4ng h\u1ee3p l\u1ec7"),e.abrupt("return",{v:void 0});case 7:return s=a.props,i=s.workSchedules,c=s.selectedWorkSchedule,l=s.selectedWorkDay,o=s.selectedWorkShift,e.next=10,fetch(S.Manager.WorkShift.addWorkShift,{method:"POST",body:JSON.stringify({workScheduleID:c._id,startTime:n,endTime:r}),headers:{"Content-type":"application/json; charset=UTF-8",token:a.props.cookies.get(A)},signal:a.abortController.signal});case 10:return e.next=12,e.sent.json();case 12:if(200!==(u=e.sent).status){e.next=81;break}a.setModalVisible(!1),g.a.success(u.messages[0]),m=u.data.workShift,l.workShifts.push(m),a.sortWorkShiftsByStartTime(l.workShifts),(p=l.workShifts.findIndex((function(e){return e._id===m._id})))>=0&&((o=l.workShifts[p]).index=p),d=!0,_=!1,f=void 0,e.prev=24,b=c.workDays[Symbol.iterator]();case 26:if(d=(y=b.next()).done){e.next=36;break}if(k=y.value,!(E=Ce.find(k,(function(e){return l.workDayInMonth===e.workDayInMonth})))){e.next=33;break}return E.workShifts.push(m),a.sortWorkShiftsByStartTime(E.workShifts),e.abrupt("break",36);case 33:d=!0,e.next=26;break;case 36:e.next=42;break;case 38:e.prev=38,e.t0=e.catch(24),_=!0,f=e.t0;case 42:e.prev=42,e.prev=43,d||null==b.return||b.return();case 45:if(e.prev=45,!_){e.next=48;break}throw f;case 48:return e.finish(45);case 49:return e.finish(42);case 50:v=!0,w=!1,x=void 0,e.prev=53,N=i[Symbol.iterator]();case 55:if(v=(O=N.next()).done){e.next=64;break}if((C=O.value)._id!==c._id){e.next=61;break}return C.workShifts.push(m),a.sortWorkShiftsByStartTime(C.workShifts),e.abrupt("break",64);case 61:v=!0,e.next=55;break;case 64:e.next=70;break;case 66:e.prev=66,e.t1=e.catch(53),w=!0,x=e.t1;case 70:e.prev=70,e.prev=71,v||null==N.return||N.return();case 73:if(e.prev=73,!w){e.next=76;break}throw x;case 76:return e.finish(73);case 77:return e.finish(70);case 78:a.props.reloadWorkSchedules(i,c,l,o),e.next=82;break;case 81:g.a.error(u.errors[0]);case 82:case"end":return e.stop()}}),e,null,[[24,38,42,50],[43,,45,49],[53,66,70,78],[71,,73,77]])}))(),"t0",2);case 2:if("object"!==typeof(t=e.t0)){e.next=5;break}return e.abrupt("return",t.v);case 5:e.next=10;break;case 7:return e.prev=7,e.t1=e.catch(0),e.abrupt("return",e.t1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),a.state={isVisible:!1,startTime:null,endTime:null},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"setModalVisible",value:function(e){e||this.setState({startTime:null,endTime:null}),this.setState({isVisible:e})}},{key:"sortWorkShiftsByStartTime",value:function(e){e.sort((function(e,t){return new Date(e.startTime).getTime()-new Date(t.startTime).getTime()}))}},{key:"onCancel",value:function(){this.setModalVisible(!1)}},{key:"onChangeTimePicker",value:function(e,t){var a=this.props.selectedWorkDay,n=new Date(t),r=n.getHours(),s=n.getMinutes(),i=a.workDayInMonth,c=a.workMonth,l=a.workYear,o=new Date(l,c-1,i,r,s);switch(e){case"startTime":this.setState({startTime:o.getTime()});break;case"endTime":this.setState({endTime:o.getTime()})}}},{key:"render",value:function(){var e=this,t=this.props.selectedWorkDay,a=this.state,n=a.startTime,r=a.endTime;return s.a.createElement("div",{className:"add-work-shift-dialog"},s.a.createElement(k.a,{placement:"bottom",title:"Th\xeam ca l\xe0m vi\u1ec7c"},s.a.createElement(E.a,{onClick:function(){return e.setModalVisible(!0)},className:"add-work-shift-dialog__btn-open",type:"link",icon:s.a.createElement(Ua.a,null)})),s.a.createElement(z.a,{title:s.a.createElement("span",{style:{color:"#ff8220",fontWeight:"bold"}},"".concat(t.workWeekDay?t.workWeekDay+", ":""," ").concat(t.workYear?H()(new Date(t.workYear,t.workMonth-1,t.workDayInMonth)).format("DD/MM/YYYY")+" | Ca l\xe0m vi\u1ec7c m\u1edbi":"")),centered:!0,visible:this.state.isVisible,onOk:function(){return e.onOK()},onCancel:function(){return e.onCancel()},okText:"Th\xeam",cancelText:"H\u1ee7y b\u1ecf",okButtonProps:{style:{background:"#ff8220",border:0,fontWeight:"bold"}}},s.a.createElement("div",{className:"add-work-shift-dialog__time-picker"},s.a.createElement(M.a,{align:"center",className:"add-work-shift-dialog__time-picker__time-selection"},s.a.createElement(q.a,{span:8,className:"add-work-shift-dialog__time-picker__time-selection__label",align:"center"},s.a.createElement("span",null,"B\u1eaft \u0111\u1ea7u")),s.a.createElement(q.a,{span:16},s.a.createElement(Va.a,{value:n?H()(new Date(n)):null,placeholder:"Ch\u1ecdn m\u1ed1c th\u1eddi gian",format:"HH:mm",onChange:function(t){return e.onChangeTimePicker("startTime",t)}}))),s.a.createElement(M.a,{align:"center",className:"add-work-shift-dialog__time-picker__time-selection"},s.a.createElement(q.a,{span:8,className:"add-work-shift-dialog__time-picker__time-selection__label",align:"center"},s.a.createElement("span",null,"K\u1ebft th\xfac")),s.a.createElement(q.a,{span:16},s.a.createElement(Va.a,{value:r?H()(new Date(r)):null,placeholder:"Ch\u1ecdn m\u1ed1c th\u1eddi gian",format:"HH:mm",onChange:function(t){return e.onChangeTimePicker("endTime",t)}}))))))}}]),t}(P)),Ba=Object(N.a)(Ya),Qa=a(725),Ga=a(131),Ja=(a(652),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).onOK=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.delegateYield(h.a.mark((function e(){var t,n,r,s,i,c,l,o,u,m,p,d,_,f,b,y,k,E,v;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=a.state.assigners).length){e.next=4;break}return g.a.error("Vui l\xf2ng ch\u1ecdn nh\xe2n vi\xean \u0111\u1ec3 ph\xe2n c\xf4ng"),e.abrupt("return",{v:void 0});case 4:return n=a.props,r=n.workSchedules,s=n.selectedWorkSchedule,i=n.selectedWorkDay,c=n.selectedWorkShift,e.next=7,fetch(S.Manager.WorkAssignment.addWorkAssignments,{method:"POST",body:JSON.stringify({workShift:c._id,assigners:t}),headers:{"Content-type":"application/json; charset=UTF-8",token:a.props.cookies.get(A)},signal:a.abortController.signal});case 7:return e.next=9,e.sent.json();case 9:if(200===(l=e.sent).status){e.next=13;break}return g.a.error(l.errors[0]),e.abrupt("return",{v:void 0});case 13:o=l.data.workAssignments,c.workAssignments=o,u=!0,m=!1,p=void 0,e.prev=18,d=i.workShifts[Symbol.iterator]();case 20:if(u=(_=d.next()).done){e.next=28;break}if(_.value._id!==c._id){e.next=25;break}return c,e.abrupt("break",28);case 25:u=!0,e.next=20;break;case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(18),m=!0,p=e.t0;case 34:e.prev=34,e.prev=35,u||null==d.return||d.return();case 37:if(e.prev=37,!m){e.next=40;break}throw p;case 40:return e.finish(37);case 41:return e.finish(34);case 42:f=!0,b=!1,y=void 0,e.prev=45,k=r[Symbol.iterator]();case 47:if(f=(E=k.next()).done){e.next=56;break}if((v=E.value)._id!==s._id){e.next=53;break}return v.workShifts.find((function(e){return e._id===c._id})).workAssignments=o,e.abrupt("break",56);case 53:f=!0,e.next=47;break;case 56:e.next=62;break;case 58:e.prev=58,e.t1=e.catch(45),b=!0,y=e.t1;case 62:e.prev=62,e.prev=63,f||null==k.return||k.return();case 65:if(e.prev=65,!b){e.next=68;break}throw y;case 68:return e.finish(65);case 69:return e.finish(62);case 70:a.props.reloadWorkSchedules(r,s,i,c),a.setModalVisible(!1),g.a.success(l.messages[0]);case 73:case"end":return e.stop()}}),e,null,[[18,30,34,42],[35,,37,41],[45,58,62,70],[63,,65,69]])}))(),"t0",2);case 2:if("object"!==typeof(t=e.t0)){e.next=5;break}return e.abrupt("return",t.v);case 5:e.next=10;break;case 7:return e.prev=7,e.t1=e.catch(0),e.abrupt("return",e.t1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),a.state={isVisible:!1,assigners:[],isAllStaffsChecked:!1,selectedWorkShift:{}},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"isWorkShiftAssigner",value:function(e,t){return(e.workAssignments||[]).find((function(e){return e.assigner._id===t._id}))}},{key:"setModalVisible",value:function(e){e||this.setState({assigners:[],isAllStaffsChecked:!1}),this.setState({isVisible:e})}},{key:"onCancel",value:function(){this.setModalVisible(!1)}},{key:"onCheckStaff",value:function(e,t){var a=this.props.staffs,n=this.state.assigners;e?n.push(t):n=n.filter((function(e){return e!==t})),n.length===a.length?this.setState({isAllStaffsChecked:!0}):this.setState({isAllStaffsChecked:!1}),this.setState({assigners:n})}},{key:"onCheckAllStaffs",value:function(e){var t=this.props.staffs,a=this.state.assigners;a=e?t.map((function(e){return e._id})):[],this.setState({assigners:a,isAllStaffsChecked:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.selectedWorkShift,n=t.selectedWorkDay,r=t.staffs,i=this.state.assigners;return s.a.createElement("div",{className:"add-work-shift-assigner"},s.a.createElement(k.a,{placement:"bottom",title:"Th\xeam nh\xe2n vi\xean"},s.a.createElement(E.a,{onClick:function(){return e.setModalVisible(!0)},className:"add-work-shift-assigner__btn-open",type:"link",icon:s.a.createElement(Qa.a,null),disabled:Object.keys(a).length<=1})),s.a.createElement(z.a,{title:s.a.createElement("span",{style:{color:"#ff8220",fontWeight:"bold"}},"".concat(n.workWeekDay?n.workWeekDay+", ":""," ").concat(n.workYear?H()(new Date(n.workYear,n.workMonth-1,n.workDayInMonth)).format("DD/MM/YYYY")+" ("+H()(a.startTime).format("HH:mm")+" - "+H()(a.endTime).format("HH:mm")+") | Ph\xe2n ca l\xe0m vi\u1ec7c":"")),centered:!0,visible:this.state.isVisible,onOk:function(){return e.onOK()},onCancel:function(){return e.onCancel()},okText:"Ph\xe2n c\xf4ng",cancelText:"H\u1ee7y b\u1ecf",okButtonProps:{style:{background:"#ff8220",border:0,fontWeight:"bold"}}},s.a.createElement("h3",null,"Nh\xe2n vi\xean ch\u01b0a ph\xe2n c\xf4ng (",r.length,")"),s.a.createElement("div",{className:"add-work-shift-assigner__list-staffs"},s.a.createElement(M.a,{className:"add-work-shift-assigner__list-staffs__header"},s.a.createElement(q.a,{span:21,className:"add-work-shift-assigner__list-staffs__header__col-1"},r.length>0?s.a.createElement("span",null,"Ch\u1ecdn t\u1ea5t c\u1ea3"):s.a.createElement(s.a.Fragment,null)),s.a.createElement(q.a,{span:3,className:"add-work-shift-assigner__list-staffs__header__col-2"},r.length>0?s.a.createElement(Ga.a,{onChange:function(t){return e.onCheckAllStaffs(t.target.checked)},checked:this.state.isAllStaffsChecked}):s.a.createElement(s.a.Fragment,null))),s.a.createElement(Je.a,{itemLayout:"horizontal",dataSource:r,renderItem:function(t){return s.a.createElement(Je.a.Item,null,s.a.createElement(M.a,{style:{width:"100%"},className:"animated fadeIn"},s.a.createElement(q.a,{span:21},s.a.createElement(Je.a.Item.Meta,{avatar:s.a.createElement(L.a,{src:t.avatar}),title:t.fullname,description:R[t.role].name})),s.a.createElement(q.a,{span:3,className:"add-work-shift-assigner__list-staffs__checkbox-wrapper"},s.a.createElement(Ga.a,{onChange:function(a){return e.onCheckStaff(a.target.checked,t._id)},checked:!!i.find((function(e){return e===t._id}))}))))}}))))}}]),t}(P)),za=Object(N.a)(Ja),Ka=Ca.a.TabPane,Za=Ke.a.Option,Xa=z.a.confirm,$a=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).loadStaffs=Object(f.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.props.setAppLoading(!0),e.next=4,fetch(S.Manager.StaffManagement.getListStaffs,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",token:a.props.cookies.get(A)},signal:a.abortController.signal});case 4:return e.next=6,e.sent.json();case 6:200===(t=e.sent).status?(n=t.data.users,a.setState({listStaffs:n})):g.a.error(t.errors[0]),a.props.setAppLoading(!1),e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),a.loadWorkSchedules=function(){var e=Object(f.a)(h.a.mark((function e(t){var n,r,s,i,c,l,o,u,m,p,d,_,f,g;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.props.setAppLoading(!0),a.refreshAllCurrenStates(),n=S.Manager.WorkSchedule.getWorkSchedules,t&&(n+="?year=".concat(t)),e.next=7,fetch(n,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",token:a.props.cookies.get(A)},signal:a.abortController.signal});case 7:return e.next=9,e.sent.json();case 9:r=e.sent,a.props.setAppLoading(!1),a.setState({isLoading:!1}),s=r.data,i=s.workSchedules,c=s.availableYears,l=c.map((function(e){return{text:"N\u0103m "+e,value:e}})),o=a.state.selectedWorkSchedule,o=Object(U.a)({},o,{},i[0]),a.setState({selectedWorkSchedule:o,workSchedules:i,listWorkYears:l,selectedWorkYear:t||l[0].value}),u=!1,m=0;case 19:if(!(m<o.workDays.length)){e.next=36;break}p=0;case 21:if(!(p<o.workDays[m].length)){e.next=33;break}if(!(o.workDays[m][p].staffs.length>0)){e.next=30;break}return d=a.state.selectedWorkShift,_=o.workDays[m][p],(d=_.workShifts[0]).index=0,u=!0,a.setState({selectedWorkDay:_,selectedWorkShift:d}),e.abrupt("break",33);case 30:p++,e.next=21;break;case 33:m++,e.next=19;break;case 36:u||(f=o.workDays[0][0],(g=f.workShifts[0])?g.index=0:g={index:0},a.setState({selectedWorkDay:f,selectedWorkShift:g})),e.next=42;break;case 39:return e.prev=39,e.t0=e.catch(0),e.abrupt("return",e.t0);case 42:case"end":return e.stop()}}),e,null,[[0,39]])})));return function(t){return e.apply(this,arguments)}}(),a.state={selectedWorkSchedule:{index:0,workDays:[]},selectedWorkDay:{},selectedWorkShift:{},selectedWorkYear:null,workSchedules:[],listWorkYears:[],listStaffs:[],isLoading:!0},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadStaffs(),this.loadWorkSchedules(null)}},{key:"refreshAllCurrenStates",value:function(){this.setState({selectedWorkSchedule:{index:0,workDays:[]},selectedWorkDay:{},selectedWorkShift:{},selectedWorkYear:null,workSchedules:[],listWorkYears:[]})}},{key:"reloadWorkSchedules",value:function(e,t,a,n){this.setState({workSchedules:e,selectedWorkSchedule:t,selectedWorkDay:a,selectedWorkShift:n})}},{key:"toggleTaskWorkDayPanel",value:function(){var e=this.state.isTaskWorkDayPanelShown;this.setState({isTaskWorkDayPanelShown:!e})}},{key:"filterWorkShiftsByDay",value:function(e,t){return e.filter((function(e){var a=new Date(e.startTime).getDate();return t===a}))}},{key:"generateWorkDays",value:function(e){for(var t=e.month,a=e.year,n=e.workShifts,r=W("".concat(t,"-").concat(a),"M-YYYY").daysInMonth(),s=[],i=[],c=[],l=1;l<=r;l++){c.length=0,c=[];var o=this.filterWorkShiftsByDay(n,l),u=!0,m=!1,p=void 0;try{for(var d,_=o[Symbol.iterator]();!(u=(d=_.next()).done);u=!0){var h=d.value,f=!0,g=!1,b=void 0;try{for(var y,k=h.workAssignments[Symbol.iterator]();!(f=(y=k.next()).done);f=!0){var E=y.value;c.push(E.assigner)}}catch(L){g=!0,b=L}finally{try{f||null==k.return||k.return()}finally{if(g)throw b}}}}catch(L){m=!0,p=L}finally{try{u||null==_.return||_.return()}finally{if(m)throw p}}c=Ce.uniqBy(c,(function(e){return e._id})),i.push({workWeekDay:this.getWeekDay(l,t,a),workDayInMonth:l,workMonth:t,workYear:a,staffs:Object(te.a)(c),workShifts:Object(te.a)(o)}),l%7===0&&(s.push(Object(te.a)(i)),i.length=0)}i.length=0,i=[];for(var v=29;v<=r;v++){c=[];var w=this.filterWorkShiftsByDay(n,v),S=!0,A=!1,x=void 0;try{for(var N,O=w[Symbol.iterator]();!(S=(N=O.next()).done);S=!0){var C=N.value,T=!0,j=!1,I=void 0;try{for(var D,P=C.workAssignments[Symbol.iterator]();!(T=(D=P.next()).done);T=!0){var R=D.value;c.push(R.assigner)}}catch(L){j=!0,I=L}finally{try{T||null==P.return||P.return()}finally{if(j)throw I}}}}catch(L){A=!0,x=L}finally{try{S||null==O.return||O.return()}finally{if(A)throw x}}c=Ce.uniqBy(c,(function(e){return e._id})),i.push({workWeekDay:this.getWeekDay(v,t,a),workDayInMonth:v,workMonth:t,workYear:a,staffs:Object(te.a)(c),workShifts:Object(te.a)(w)})}return s.push(Object(te.a)(i)),s}},{key:"getWeekDay",value:function(e,t,a){switch(W("".concat(e,"-").concat(t,"-").concat(a),"DD-MM-YYYY").day()){case 1:return Ia;case 2:return Da;case 3:return Pa;case 4:return Ra;case 5:return La;case 6:return Ma;case 0:return qa;default:return null}}},{key:"handleSelectWorkSchedule",value:function(e,t){e.index=t,e.workDays=this.generateWorkDays(e);for(var a=!1,n=0;n<e.workDays.length;n++)for(var r=0;r<e.workDays[n].length;r++)if(e.workDays[n][r].staffs.length>0){var s=this.state.selectedWorkShift,i=e.workDays[n][r];(s=i.workShifts[0]).index=0,a=!0,this.setState({selectedWorkDay:i,selectedWorkShift:s});break}if(!a){var c=e.workDays[0][0],l=c.workShifts[0];l?l.index=0:l={index:0},this.setState({selectedWorkDay:c,selectedWorkShift:l})}this.setState({selectedWorkSchedule:e})}},{key:"handleSelectWorkDay",value:function(e,t){var a=this.state.selectedWorkSchedule,n=this.state.selectedWorkShift,r=a.workDays[e][t];r.workShifts.length>0?(n=r.workShifts[0]).index=0:n={},this.setState({selectedWorkDay:r,selectedWorkShift:n})}},{key:"handleSelectWorkShift",value:function(e,t){e.index=t,this.setState({selectedWorkShift:e})}},{key:"openRemoveWorkShiftConfirm",value:function(e){var t=this;Xa({title:"B\u1ea1n c\xf3 mu\u1ed1n h\u1ee7y ca l\xe0m vi\u1ec7c n\xe0y?",icon:s.a.createElement(ee.a,null),content:"Ca l\xe0m vi\u1ec7c ch\u1ec9 c\xf3 th\u1ec3 h\u1ee7y khi kh\xf4ng c\xf2n nh\xe2n vi\xean n\xe0o \u0111\u01b0\u1ee3c ph\xe2n c\xf4ng.",okText:"\u0110\u1ed3ng \xfd",okType:"danger",cancelText:"Kh\xf4ng, c\u1ea3m \u01a1n",onOk:function(){return Object(f.a)(h.a.mark((function a(){var n,r,s,i,c,l,o,u,m,p,d,_,f,b,y,k,E,v;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t.props.setAppLoading(!0),a.next=4,fetch(S.Manager.WorkShift.removeWorkShift.replace("{workShiftID}",e),{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8",token:t.props.cookies.get(A)},signal:t.abortController.signal});case 4:return a.next=6,a.sent.json();case 6:if(200===(n=a.sent).status){a.next=11;break}return t.props.setAppLoading(!1),g.a.error(n.errors[0]),a.abrupt("return");case 11:r=t.state,s=r.selectedWorkShift,i=r.selectedWorkDay,c=r.selectedWorkSchedule,l=r.workSchedules,i.workShifts=i.workShifts.filter((function(t){return t._id!==e})),i.workShifts.length>0?(s=i.workShifts[0]).index=0:s={index:0},o=!0,u=!1,m=void 0,a.prev=17,p=c.workDays[Symbol.iterator]();case 19:if(o=(d=p.next()).done){a.next=51;break}_=d.value,f=!0,b=!1,y=void 0,a.prev=24,k=_[Symbol.iterator]();case 26:if(f=(E=k.next()).done){a.next=34;break}if(E.value.workDayInMonth!==i.workDayInMonth){a.next=31;break}return i,a.abrupt("break",34);case 31:f=!0,a.next=26;break;case 34:a.next=40;break;case 36:a.prev=36,a.t0=a.catch(24),b=!0,y=a.t0;case 40:a.prev=40,a.prev=41,f||null==k.return||k.return();case 43:if(a.prev=43,!b){a.next=46;break}throw y;case 46:return a.finish(43);case 47:return a.finish(40);case 48:o=!0,a.next=19;break;case 51:a.next=57;break;case 53:a.prev=53,a.t1=a.catch(17),u=!0,m=a.t1;case 57:a.prev=57,a.prev=58,o||null==p.return||p.return();case 60:if(a.prev=60,!u){a.next=63;break}throw m;case 63:return a.finish(60);case 64:return a.finish(57);case 65:c.workShifts=c.workShifts.filter((function(t){return t._id!==e})),v=0;case 67:if(!(v<l.length)){a.next=74;break}if(l[v]._id!==c._id){a.next=71;break}return l[v]=c,a.abrupt("break",74);case 71:v++,a.next=67;break;case 74:t.reloadWorkSchedules(l,c,i,s),g.a.success(n.messages[0]),t.props.setAppLoading(!1),a.next=82;break;case 79:return a.prev=79,a.t2=a.catch(0),a.abrupt("return",a.t2);case 82:case"end":return a.stop()}}),a,null,[[0,79],[17,53,57,65],[24,36,40,48],[41,,43,47],[58,,60,64]])})))()},onCancel:function(){}})}},{key:"openRemoveWorkScheduleConfirm",value:function(e){var t=this;Xa({title:"B\u1ea1n c\xf3 mu\u1ed1n h\u1ee7y l\u1ecbch l\xe0m vi\u1ec7c n\xe0y?",icon:s.a.createElement(ee.a,null),content:"L\u1ecbch l\xe0m vi\u1ec7c ch\u1ec9 c\xf3 th\u1ec3 h\u1ee7y khi t\u1ea5t c\u1ea3 c\xe1c ng\xe0y trong th\xe1ng \u0111\u1ec1u ch\u01b0a c\xf3 ca l\xe0m vi\u1ec7c.",okText:"\u0110\u1ed3ng \xfd",okType:"danger",cancelText:"Kh\xf4ng, c\u1ea3m \u01a1n",onOk:function(){return Object(f.a)(h.a.mark((function a(){var n,r,s,i,c,l,o,u,m,p,d,_,f;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t.props.setAppLoading(!0),a.next=4,fetch(S.Manager.WorkSchedule.removeWorkSchedule.replace("{workScheduleID}",e),{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8",token:t.props.cookies.get(A)},signal:t.abortController.signal});case 4:return a.next=6,a.sent.json();case 6:if(200===(n=a.sent).status){a.next=11;break}return t.props.setAppLoading(!1),g.a.error(n.errors[0]),a.abrupt("return");case 11:if(r=t.state,s=r.workSchedules,i=r.selectedWorkSchedule,c=r.selectedWorkDay,l=r.selectedWorkShift,0!==(s=s.filter((function(t){return t._id!==e}))).length){a.next=19;break}return o=t.state,u=o.listWorkYears,m=o.selectedWorkYear,u=u.filter((function(e){return e!==m})),t.loadWorkSchedules(u[0].value),g.a.success(n.messages[0]),a.abrupt("return");case 19:s.sort((function(e,t){return e.month-t.month})),(i=s[0]).index=0,i.workDays=t.generateWorkDays(i),p=!1,d=0;case 25:if(!(d<i.workDays.length)){a.next=40;break}_=0;case 27:if(!(_<i.workDays[d].length)){a.next=37;break}if(!(i.workDays[d][_].staffs.length>0)){a.next=34;break}return c=i.workDays[d][_],(l=c.workShifts[0]).index=0,p=!0,a.abrupt("break",37);case 34:_++,a.next=27;break;case 37:d++,a.next=25;break;case 40:p||(c=i.workDays[0][0],(f=c.workShifts[0])?f.index=0:f={index:0}),t.reloadWorkSchedules(s,i,c,l),g.a.success(n.messages[0]),t.props.setAppLoading(!1),a.next=49;break;case 46:return a.prev=46,a.t0=a.catch(0),a.abrupt("return",a.t0);case 49:case"end":return a.stop()}}),a,null,[[0,46]])})))()},onCancel:function(){}})}},{key:"openRemoveWorkShiftAssignerConfirm",value:function(e){var t=this;Xa({title:"B\u1ea1n c\xf3 mu\u1ed1n h\u1ee7y ph\xe2n c\xf4ng ".concat(e.fullname," trong ca l\xe0m vi\u1ec7c n\xe0y?"),icon:s.a.createElement(ee.a,null),okText:"\u0110\u1ed3ng \xfd",okType:"danger",cancelText:"Kh\xf4ng, c\u1ea3m \u01a1n",onOk:function(){return Object(f.a)(h.a.mark((function a(){var n,r,s,i,c,l,o,u,m,p,d,_,f,b,y,k,E,v,w,x,N,O,C,T,j,I,D,P,R,L,M;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t.props.setAppLoading(!0),n=t.state,r=n.selectedWorkShift,s=n.selectedWorkDay,i=n.selectedWorkSchedule,c=n.workSchedules,l=r.workAssignments,o=l.find((function(t){return t.assigner._id===e._id})),u=o._id,a.next=8,fetch(S.Manager.WorkAssignment.removeWorkAssignment.replace("{workAssignmentID}",u),{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8",token:t.props.cookies.get(A)},signal:t.abortController.signal});case 8:return a.next=10,a.sent.json();case 10:if(200===(m=a.sent).status){a.next=15;break}return t.props.setAppLoading(!1),g.a.error(m.errors[0]),a.abrupt("return");case 15:r.workAssignments=r.workAssignments.filter((function(e){return e._id!==u})),p=!0,d=!1,_=void 0,a.prev=19,f=s.workShifts[Symbol.iterator]();case 21:if(p=(b=f.next()).done){a.next=29;break}if((y=b.value)._id!==r._id){a.next=26;break}return y.workAssignments=r.workAssignments,a.abrupt("break",29);case 26:p=!0,a.next=21;break;case 29:a.next=35;break;case 31:a.prev=31,a.t0=a.catch(19),d=!0,_=a.t0;case 35:a.prev=35,a.prev=36,p||null==f.return||f.return();case 38:if(a.prev=38,!d){a.next=41;break}throw _;case 41:return a.finish(38);case 42:return a.finish(35);case 43:k=!0,E=!1,v=void 0,a.prev=46,w=i.workDays[Symbol.iterator]();case 48:if(k=(x=w.next()).done){a.next=80;break}N=x.value,O=!0,C=!1,T=void 0,a.prev=53,j=N[Symbol.iterator]();case 55:if(O=(I=j.next()).done){a.next=63;break}if(I.value.workDayInMonth!==s.workDayInMonth){a.next=60;break}return s,a.abrupt("break",63);case 60:O=!0,a.next=55;break;case 63:a.next=69;break;case 65:a.prev=65,a.t1=a.catch(53),C=!0,T=a.t1;case 69:a.prev=69,a.prev=70,O||null==j.return||j.return();case 72:if(a.prev=72,!C){a.next=75;break}throw T;case 75:return a.finish(72);case 76:return a.finish(69);case 77:k=!0,a.next=48;break;case 80:a.next=86;break;case 82:a.prev=82,a.t2=a.catch(46),E=!0,v=a.t2;case 86:a.prev=86,a.prev=87,k||null==w.return||w.return();case 89:if(a.prev=89,!E){a.next=92;break}throw v;case 92:return a.finish(89);case 93:return a.finish(86);case 94:D=!0,P=!1,R=void 0,a.prev=97,L=c[Symbol.iterator]();case 99:if(D=(M=L.next()).done){a.next=107;break}if(M.value._id!==i._id){a.next=104;break}return i,a.abrupt("break",107);case 104:D=!0,a.next=99;break;case 107:a.next=113;break;case 109:a.prev=109,a.t3=a.catch(97),P=!0,R=a.t3;case 113:a.prev=113,a.prev=114,D||null==L.return||L.return();case 116:if(a.prev=116,!P){a.next=119;break}throw R;case 119:return a.finish(116);case 120:return a.finish(113);case 121:t.reloadWorkSchedules(c,i,s,r),g.a.success(m.messages[0]),t.props.setAppLoading(!1),a.next=129;break;case 126:return a.prev=126,a.t4=a.catch(0),a.abrupt("return",a.t4);case 129:case"end":return a.stop()}}),a,null,[[0,126],[19,31,35,43],[36,,38,42],[46,82,86,94],[53,65,69,77],[70,,72,76],[87,,89,93],[97,109,113,121],[114,,116,120]])})))()},onCancel:function(){}})}},{key:"handleSelectYear",value:function(e){this.setState({selectedWorkYear:e}),this.loadWorkSchedules(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.workSchedules,n=t.selectedWorkSchedule,r=t.selectedWorkDay,i=t.selectedWorkShift,c=t.listWorkYears,l=t.selectedWorkYear,o=t.listStaffs;return n.workDays=this.generateWorkDays(n),s.a.createElement("div",{className:"work-assignment"},s.a.createElement(M.a,null,s.a.createElement(q.a,{className:"work-assignment__left-sidebar animated slideInLeft",span:4},s.a.createElement(Fa,{reloadWorkSchedules:function(t){return e.loadWorkSchedules(t)}}),s.a.createElement("div",{className:"work-assignment__left-sidebar__year-selection"},s.a.createElement("div",{className:"work-assignment__left-sidebar__title"},s.a.createElement("span",null,"N\u0103m l\xe0m vi\u1ec7c")),s.a.createElement("div",{style:{minHeight:37}},(c||[]).length>0?s.a.createElement(Ke.a,{className:"animated fadeIn",defaultValue:l,onChange:function(t){return e.handleSelectYear(t)}},c.map((function(e,t){return s.a.createElement(Za,{key:t,value:e.value},e.text)}))):s.a.createElement(oa.a.Input,{style:{width:"100%",height:30,borderRadius:3,background:"rgba(0,0,0,0.15)"},active:!0,size:"small"}))),s.a.createElement("div",{className:"work-assignment__left-sidebar__list-tasks"},s.a.createElement("div",{className:"work-assignment__left-sidebar__title"},s.a.createElement("span",null,"Th\xe1ng l\xe0m vi\u1ec7c")),s.a.createElement("div",{className:"work-assignment__left-sidebar__list-tasks__wrapper"},s.a.createElement(Je.a,{locale:{emptyText:s.a.createElement(se.a,{image:se.a.PRESENTED_IMAGE_SIMPLE,description:"Ch\u01b0a c\xf3 d\u1eef li\u1ec7u"})},size:"small",dataSource:a,renderItem:function(t,a){return s.a.createElement(Je.a.Item,{className:"work-assignment__left-sidebar__list-tasks__item animated fadeIn\n                          ".concat(a===n.index?"work-assignment__left-sidebar__list-tasks__item--selected":""),onClick:function(){return e.handleSelectWorkSchedule(t,a)}},s.a.createElement(M.a,{style:{width:"90%"}},s.a.createElement(q.a,{span:22},s.a.createElement("span",{className:"work-assignment__left-sidebar__list-tasks__item__task-name"},"Th\xe1ng ",t.month)),s.a.createElement(q.a,{span:2},s.a.createElement(E.a,{onClick:function(){return e.openRemoveWorkScheduleConfirm(t._id)},className:"work-assignment__left-sidebar__list-tasks__item__btn-remove",type:"link",icon:s.a.createElement(Ta.a,null)}))))}})))),s.a.createElement(q.a,{className:"work-assignment__content",span:20},s.a.createElement("div",{className:"work-assignment__content__task-work-day-panel"},s.a.createElement("div",{className:"work-assignment__content__task-work-day-panel__panel animated slideInRight"},s.a.createElement("div",{className:"work-assignment__content__task-work-day-panel__panel__main"},s.a.createElement("h3",null,"".concat(r.workWeekDay?r.workWeekDay+", ":""," ").concat(r.workYear?W(new Date(r.workYear,r.workMonth-1,r.workDayInMonth)).format("DD/MM/YYYY"):"")),s.a.createElement("div",{className:"work-assignment__content__task-work-day-panel__panel__main__list-staffs work-assignment__content__task-work-day-panel__panel__main__list-work-shifts"},s.a.createElement(M.a,null,s.a.createElement(q.a,{span:21},s.a.createElement("span",{className:"work-assignment__content__task-work-day-panel__panel__main__title"},"Ca l\xe0m vi\u1ec7c trong ng\xe0y")),s.a.createElement(q.a,{span:3},s.a.createElement(Ba,{workSchedules:Object(te.a)(a),selectedWorkSchedule:Object(U.a)({},n),selectedWorkDay:Object(U.a)({},r),selectedWorkShift:Object(U.a)({},i),reloadWorkSchedules:function(t,a,n,r){e.reloadWorkSchedules(t,a,n,r)}}))),s.a.createElement("div",{className:"work-assignment__content__task-work-day-panel__panel__main__list-work-shifts__wrapper"},s.a.createElement(Je.a,{locale:{emptyText:s.a.createElement(se.a,{image:se.a.PRESENTED_IMAGE_SIMPLE,description:"Ch\u01b0a c\xf3 d\u1eef li\u1ec7u"})},itemLayout:"horizontal",dataSource:r.workShifts,renderItem:function(t,a){return s.a.createElement(Je.a.Item,{onClick:function(){return e.handleSelectWorkShift(t,a)}},s.a.createElement(M.a,{className:"\n                                animated fadeIn\n                                ".concat(a===i.index?"work-assignment__content__task-work-day-panel__panel__main__list-work-shifts__item--selected":"work-assignment__content__task-work-day-panel__panel__main__list-work-shifts__item")},s.a.createElement(q.a,{span:22},s.a.createElement("span",null,"T\u1eeb ",W(t.startTime).format("HH:mm")," \u0111\u1ebfn ",W(t.endTime).format("HH:mm"))),s.a.createElement(q.a,{span:2},s.a.createElement(E.a,{className:"work-assignment__content__task-work-day-panel__panel__main__list-staffs__btn-close",type:"link",onClick:function(){return e.openRemoveWorkShiftConfirm(t._id)},icon:s.a.createElement(Ta.a,null)}))))}}))),s.a.createElement("div",{className:"work-assignment__content__task-work-day-panel__panel__main__list-work-shifts__details"},s.a.createElement("h3",null,"Chi ti\u1ebft ca l\xe0m vi\u1ec7c"),s.a.createElement(M.a,null,s.a.createElement(q.a,{span:8},s.a.createElement("ul",{className:"work-assignment__content__task-work-day-panel__panel__main__list-work-shifts__time--label"},s.a.createElement("li",null,"B\u1eaft \u0111\u1ea7u"),s.a.createElement("li",null,"K\u1ebft th\xfac"))),s.a.createElement(q.a,{span:16},s.a.createElement("ul",{className:"work-assignment__content__task-work-day-panel__panel__main__list-work-shifts__time--value"},s.a.createElement("li",null,i.startTime?W(i.startTime).format("HH:mm"):""),s.a.createElement("li",null,i.endTime?W(i.endTime).format("HH:mm"):"")))),s.a.createElement("div",{className:"work-assignment__content__task-work-day-panel__panel__main__list-staffs"},s.a.createElement(M.a,null,s.a.createElement(q.a,{span:21},s.a.createElement("span",{className:"work-assignment__content__task-work-day-panel__panel__main__title"},"Nh\xe2n vi\xean ph\u1ee5 tr\xe1ch (",i.workAssignments?i.workAssignments.length:0,")")),s.a.createElement(q.a,{span:3},s.a.createElement(za,{workSchedules:Object(te.a)(a),selectedWorkSchedule:Object(U.a)({},n),selectedWorkDay:Object(U.a)({},r),selectedWorkShift:Object(U.a)({},i),staffs:o.filter((function(e){return!(i.workAssignments||[]).find((function(t){return t.assigner._id===e._id}))&&e.role!==R.MANAGER.type})),reloadWorkSchedules:function(t,a,n,r){e.reloadWorkSchedules(t,a,n,r)}}))),s.a.createElement("div",{className:"work-assignment__content__task-work-day-panel__panel__main__list-staffs__wrapper"},s.a.createElement(Je.a,{locale:{emptyText:s.a.createElement(se.a,{image:se.a.PRESENTED_IMAGE_SIMPLE,description:"Ch\u01b0a c\xf3 d\u1eef li\u1ec7u"})},itemLayout:"horizontal",dataSource:i.workAssignments,renderItem:function(t){return s.a.createElement(Je.a.Item,null,s.a.createElement("div",{className:"work-assignment__content__task-work-day-panel__panel__main__list-staffs__staff animated fadeIn"},s.a.createElement(M.a,{style:{width:"100%"}},s.a.createElement(q.a,{span:22},s.a.createElement(Je.a.Item.Meta,{avatar:s.a.createElement(L.a,{src:t.assigner.avatar}),title:s.a.createElement("span",null,t.assigner.fullname),description:R[t.assigner.role].name})),s.a.createElement(q.a,{span:2},s.a.createElement(k.a,{placement:"bottom",title:"H\u1ee7y ph\xe2n c\xf4ng"},s.a.createElement(E.a,{className:"work-assignment__content__task-work-day-panel__panel__main__list-staffs__btn-unassign",type:"link",icon:s.a.createElement(ja.a,null),onClick:function(){return e.openRemoveWorkShiftAssignerConfirm(t.assigner)}}))))))}}))))))),s.a.createElement("div",{className:"work-assignment__content__header"},s.a.createElement("div",{className:"work-assignment__content__header__dark-bg"}),s.a.createElement("div",{className:"work-assignment__content__header__task-name"},s.a.createElement("h3",null,"Th\xe1ng ",n.month," n\u0103m ",n.year))),s.a.createElement("div",{className:"work-assignment__content__body"},s.a.createElement(Ca.a,{defaultActiveKey:"1",tabBarGutter:50,className:"work-assignment__content__body__tabs",onChange:function(e){return console.log(e)}},s.a.createElement(Ka,{tab:"L\u1ecbch l\xe0m vi\u1ec7c",key:"1",className:"work-assignment__content__body__tabs__work-schedule"},n.workDays.map((function(t,a){return s.a.createElement(M.a,{key:a+1},t.map((function(t,n){return s.a.createElement(q.a,{key:"".concat(a+1,"_").concat(n),span:2,className:"\n                            animated zoomIn \n                            work-assignment__content__body__tabs__work-schedule__work-day \n                            ".concat(t.workDayInMonth===r.workDayInMonth?"work-assignment__content__body__tabs__work-schedule__work-day--selected":"","\n                          "),style:{animationDelay:"".concat(.03*a*n,"s")},onClick:function(){return e.handleSelectWorkDay(a,n)}},s.a.createElement("span",{className:"\n                              work-assignment__content__body__tabs__work-schedule__work-day__day-in-month\n                              ".concat(t.workWeekDay===qa?"work-assignment__content__body__tabs__work-schedule__work-day__day-in-month--sunday":"","\n                            ")},t.workDayInMonth),s.a.createElement("span",{className:"\n                              work-assignment__content__body__tabs__work-schedule__work-day__week-day\n                              ".concat(t.workWeekDay===qa?"work-assignment__content__body__tabs__work-schedule__work-day__week-day--sunday":"","\n                            ")},t.workWeekDay),s.a.createElement("div",{className:"work-assignment__content__body__tabs__work-schedule__work-day__staffs"},t.staffs.slice(0,2).map((function(e){return s.a.createElement(k.a,{key:e._id,placement:"bottom",title:e.fullname},s.a.createElement(L.a,{key:e._id,size:16,className:"work-assignment__content__body__tabs__work-schedule__work-day__staffs__avatar",src:e.avatar}))})),t.staffs.length>2?s.a.createElement(k.a,{placement:"bottom",title:t.staffs.slice(2).map((function(e){return s.a.createElement(M.a,{gutter:7,key:e._id},s.a.createElement(q.a,null,s.a.createElement(L.a,{style:{marginTop:-3},key:e._id,size:16,src:e.avatar})),s.a.createElement(q.a,null,s.a.createElement("span",null,e.fullname)))}))},s.a.createElement("div",{className:"work-assignment__content__body__tabs__work-schedule__work-day__staffs__avatar--plus"},s.a.createElement("span",null,"+",t.staffs.slice(2).length))):s.a.createElement(s.a.Fragment,null)))})))}))))))))}}]),t}(P),en=Object(C.b)(null,n)(Object(N.a)($a)),tn=(a(653),a(728)),an=(a(654),a(655),a(171)),nn=(a(657),a(658),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).inputRef=s.a.createRef(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleSelectPlace",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.description,e.next=4,Object(an.b)(a);case 4:n=e.sent,r={address:a,location:{lat:n[0].geometry.location.lat(),lng:n[0].geometry.location.lng()}},this.props.setAddress(r),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"google-places-autocomplete"},s.a.createElement(an.a,{placeholder:"T\u1ed1i \u0111a 100 k\xed t\u1ef1",suggestionsClassNames:{suggestion:"google-places-autocomplete__suggestions"},onSelect:function(t){return e.handleSelectPlace(t)},initialValue:this.props.initialValue,renderInput:function(e){return s.a.createElement(y.a,Object.assign({},e,{maxLength:150}))}}))}}]),t}(r.Component)),rn={labelCol:{span:6},wrapperCol:{span:18}},sn=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={isVisible:!1},a.formRef=s.a.createRef(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"setDialogVisible",value:function(e){this.setState({isVisible:e})}},{key:"onOk",value:function(){this.formRef.current&&this.formRef.current.submit()}},{key:"onFinish",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.setAppLoading(!0),e.next=4,fetch(S.Manager.SupplierManagment.addSupplier,{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 4:return e.next=6,e.sent.json();case 6:if(a=e.sent,this.props.setAppLoading(!1),200===a.status){e.next=11;break}return g.a.error(a.errors[0]),e.abrupt("return");case 11:this.formRef.current&&this.formRef.current.resetFields(),this.props.addToSuppliersDataSource(a.data.supplier),this.setDialogVisible(!1),g.a.success(a.messages[0]),e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(0),e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setAddress",value:function(e){this.formRef.current&&this.formRef.current.setFieldsValue({address:e.address})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"importing-request__container__suppliers__toolbar__add-supplier-dialog"},s.a.createElement(E.a,{icon:s.a.createElement(it.a,null),className:"importing-request__container__suppliers__toolbar__add-supplier-dialog__btn-open",onClick:function(){return e.setDialogVisible(!0)}}),s.a.createElement(z.a,{className:"importing-request__container__suppliers__toolbar__add-supplier-dialog__content",title:s.a.createElement("span",{style:{color:"#ff8220",fontWeight:"bold"}},"Nh\xe0 cung c\u1ea5p m\u1edbi"),centered:!0,visible:this.state.isVisible,onOk:function(){return e.onOk()},onCancel:function(){return e.setDialogVisible(!1)},okText:"Th\xeam",cancelText:"H\u1ee7y b\u1ecf",okButtonProps:{style:{background:"#ff8220",border:0,fontWeight:"bold"}}},s.a.createElement(b.a,Object.assign({},rn,{ref:function(t){return e.formRef.current=t},onFinish:function(t){return e.onFinish(t)},onFinishFailed:function(){return g.a.error("Ch\u01b0a \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin, vui l\xf2ng ki\u1ec3m tra l\u1ea1i")}}),s.a.createElement(b.a.Item,{name:"name",label:"Th\u01b0\u01a1ng thi\u1ec7u",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp th\u01b0\u01a1ng hi\u1ec7u"}]},s.a.createElement(y.a,{maxLength:50,placeholder:"T\u1ed1i \u0111a 50 k\xed t\u1ef1",autoFocus:!0})),s.a.createElement(b.a.Item,{name:"phone",label:"\u0110i\u1ec7n tho\u1ea1i",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}]},s.a.createElement(y.a,{maxLength:11,placeholder:"Bao g\u1ed3m 10 ho\u1eb7c 11 s\u1ed1"})),s.a.createElement(b.a.Item,{name:"address",label:"\u0110\u1ecba ch\u1ec9",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp v\xe0o ch\u1ecdn \u0111\u1ecba ch\u1ec9"}]},s.a.createElement(nn,{setAddress:function(t){return e.setAddress(t)}})),s.a.createElement(b.a.Item,{style:{display:"none"}},s.a.createElement(E.a,{htmlType:"submit"})))))}}]),t}(P),cn=Object(C.b)(null,n)(Object(N.a)(sn)),ln=(a(659),{labelCol:{span:6},wrapperCol:{span:18}}),on=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={isVisible:!1},a.formRef=s.a.createRef(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"setDialogVisible",value:function(e){this.setState({isVisible:e})}},{key:"onOk",value:function(){this.formRef.current&&this.formRef.current.submit()}},{key:"onFinish",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.setAppLoading(!0),e.next=4,fetch(S.Manager.SupplierManagment.updateSupplier.replace("{supplierID}",this.props.supplier._id),{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 4:return e.next=6,e.sent.json();case 6:if(a=e.sent,this.props.setAppLoading(!1),200===a.status){e.next=11;break}return g.a.error(a.errors[0]),e.abrupt("return");case 11:this.props.updateSuppliersDataSource(a.data.supplier),this.setDialogVisible(!1),g.a.success(a.messages[0]),e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",e.t0);case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setAddress",value:function(e){this.formRef.current&&this.formRef.current.setFieldsValue({address:e.address})}},{key:"render",value:function(){var e=this,t=this.props.supplier;return t?s.a.createElement("div",{className:"importing-request__container__suppliers__details__header__toolbar__edit-supplier-dialog"},s.a.createElement(E.a,{icon:s.a.createElement($e.a,null),shape:"circle",className:"importing-request__container__suppliers__details__header__toolbar__edit-supplier-dialog__btn-open",onClick:function(){return e.setDialogVisible(!0)}}),s.a.createElement(z.a,{className:"importing-request__container__suppliers__details__header__toolbar__edit-supplier-dialog__content",title:s.a.createElement("span",{style:{color:"#ff8220",fontWeight:"bold"}},t.name),centered:!0,visible:this.state.isVisible,onOk:function(){return e.onOk()},onCancel:function(){return e.setDialogVisible(!1)},okText:"L\u01b0u thay \u0111\u1ed5i",cancelText:"H\u1ee7y b\u1ecf",okButtonProps:{style:{background:"#ff8220",border:0,fontWeight:"bold"}}},s.a.createElement(b.a,Object.assign({},ln,{ref:function(a){e.formRef.current=a,e.formRef.current&&e.formRef.current.setFieldsValue({name:t.name,phone:t.phone,address:t.address})},onFinish:function(t){return e.onFinish(t)},onFinishFailed:function(){return g.a.error("Ch\u01b0a \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin, vui l\xf2ng ki\u1ec3m tra l\u1ea1i")}}),s.a.createElement(b.a.Item,{name:"name",label:"Th\u01b0\u01a1ng thi\u1ec7u",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp th\u01b0\u01a1ng hi\u1ec7u"}]},s.a.createElement(y.a,{maxLength:50,placeholder:"T\u1ed1i \u0111a 50 k\xed t\u1ef1",autoFocus:!0})),s.a.createElement(b.a.Item,{name:"phone",label:"\u0110i\u1ec7n tho\u1ea1i",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}]},s.a.createElement(y.a,{maxLength:11,placeholder:"Bao g\u1ed3m 10 ho\u1eb7c 11 s\u1ed1"})),s.a.createElement(b.a.Item,{name:"address",label:"\u0110\u1ecba ch\u1ec9",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp v\xe0o ch\u1ecdn \u0111\u1ecba ch\u1ec9"}]},s.a.createElement(nn,{setAddress:function(t){return e.setAddress(t)},initialValue:t.address})),s.a.createElement(b.a.Item,{style:{display:"none"}},s.a.createElement(E.a,{htmlType:"submit"}))))):s.a.createElement(s.a.Fragment,null)}}]),t}(P),un=Object(C.b)(null,n)(Object(N.a)(on)),mn=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={suppliersDataSource:[],filteredSuppliers:[],selectedSupplier:{},supplierSearchText:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.loadSuppliers()}},{key:"openRemoveSupplierConfirmDialog",value:function(e){var t=this,a=this.state.suppliersDataSource,n=a.find((function(t){return t._id===e}));z.a.confirm({title:"B\u1ea1n mu\u1ed1n x\xf3a nh\xe0 cung c\u1ea5p ".concat(n.name,"?"),icon:s.a.createElement(ee.a,null),content:"",okText:"\u0110\u1ed3ng \xfd",okType:"danger",cancelText:"Kh\xf4ng, c\u1ea3m \u01a1n",onOk:function(){return Object(f.a)(h.a.mark((function n(){var r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t.props.setAppLoading(!0),n.next=4,fetch(S.Manager.SupplierManagment.removeSupplier.replace("{supplierID}",e),{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8",token:t.props.cookies.get(A)},signal:t.abortController.signal});case 4:return n.next=6,n.sent.json();case 6:if(r=n.sent,t.props.setAppLoading(!1),200===r.status){n.next=11;break}return g.a.error(r.errors[0]),n.abrupt("return");case 11:a=a.filter((function(t){return t._id!==e})),t.onSupplierSearchInputChange(t.state.supplierSearchText,a),t.setState({suppliersDataSource:a}),g.a.success(r.messages[0]),n.next=20;break;case 17:return n.prev=17,n.t0=n.catch(0),n.abrupt("return",n.t0);case 20:case"end":return n.stop()}}),n,null,[[0,17]])})))()}})}},{key:"loadSuppliers",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(S.Manager.SupplierManagment.getSuppliers,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 3:return e.next=5,e.sent.json();case 5:if(200===(t=e.sent).status){e.next=9;break}return g.a.error(t.errors[0]),e.abrupt("return");case 9:a=t.data.suppliers,this.onSupplierSearchInputChange(this.state.supplierSearchText,a),this.setState({suppliersDataSource:a}),e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,this,[[0,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"onSupplierSearchInputChange",value:function(e,t,a){var n=this.state.filteredSuppliers;n=e?t.filter((function(t){var a=Object.keys(t).filter((function(e){return["name"].includes(e)})),n=!0,r=!1,s=void 0;try{for(var i,c=a[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){if(t[i.value].toLowerCase().includes(e.toLowerCase()))return!0}}catch(l){r=!0,s=l}finally{try{n||null==c.return||c.return()}finally{if(r)throw s}}return!1})):Object(te.a)(t),this.setState({filteredSuppliers:n,selectedSupplier:a||(n.length>0?n[0]:{}),supplierSearchText:e})}},{key:"handleSelectSupplier",value:function(e){var t=Ce.find(this.state.suppliersDataSource,(function(t){return t._id===e}));this.setState({selectedSupplier:t})}},{key:"addToSuppliersDataSource",value:function(e){var t=this.state.suppliersDataSource;t.push(e),this.onSupplierSearchInputChange(this.state.supplierSearchText,t),this.setState({suppliersDataSource:t})}},{key:"updateSuppliersDataSource",value:function(e){var t=this.state.suppliersDataSource,a=Ce.findIndex(t,(function(t){return t._id===e._id}));a<0||(t[a]=Object(U.a)({},e),this.onSupplierSearchInputChange(this.state.supplierSearchText,t,Object(U.a)({},e)),this.setState({suppliersDataSource:t}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.filteredSuppliers,n=t.selectedSupplier;return s.a.createElement("div",{className:"importing-request__container__suppliers animated fadeInRight",style:{animationDelay:"0.8s"}},s.a.createElement("div",{className:"importing-request__container__suppliers__header"},s.a.createElement("span",{className:"importing-request__container__suppliers__header__title"},"Nh\xe0 cung c\u1ea5p s\u1ea3n ph\u1ea9m (",a.length,")")),s.a.createElement("div",{className:"importing-request__container__suppliers__toolbar"},s.a.createElement(M.a,{style:{width:"100%"}},s.a.createElement(q.a,{span:21},s.a.createElement(y.a,{prefix:s.a.createElement(Xe.a,{style:{marginRight:5}}),placeholder:"T\xecm ki\u1ebfm theo t\xean, \u0111\u1ecba ch\u1ec9, \u0111i\u1ec7n tho\u1ea1i...",onChange:function(t){return e.onSupplierSearchInputChange(t.target.value,e.state.suppliersDataSource)}})),s.a.createElement(q.a,{span:3,align:"center"},s.a.createElement(cn,{addToSuppliersDataSource:function(t){return e.addToSuppliersDataSource(t)}})))),s.a.createElement("div",{className:"importing-request__container__suppliers__list"},s.a.createElement(Je.a,{size:"small",dataSource:a,renderItem:function(t){return s.a.createElement(Je.a.Item,{onClick:function(){return e.handleSelectSupplier(t._id)},className:"importing-request__container__suppliers__list__item animated fadeIn \n                  ".concat(n._id===t._id?"--selected":"","\n                "),key:t._id},t.name)},locale:{emptyText:s.a.createElement(se.a,{image:se.a.PRESENTED_IMAGE_SIMPLE,description:"Ch\u01b0a c\xf3 d\u1eef li\u1ec7u"})}})),s.a.createElement("div",{className:"importing-request__container__suppliers__details"},s.a.createElement("div",{className:"importing-request__container__suppliers__details__header"},s.a.createElement("span",{className:"importing-request__container__suppliers__details__header__title"},"Th\xf4ng tin li\xean h\u1ec7"),s.a.createElement("div",{className:"importing-request__container__suppliers__details__header__toolbar"},s.a.createElement(un,{supplier:Object(U.a)({},n),updateSuppliersDataSource:function(t){return e.updateSuppliersDataSource(t)}}),s.a.createElement(E.a,{shape:"circle",icon:s.a.createElement(tn.a,null),className:"importing-request__container__suppliers__details__header__toolbar__btn",onClick:function(){return e.openRemoveSupplierConfirmDialog(n._id)}}))),s.a.createElement(ve.a,null),s.a.createElement("div",{className:"importing-request__container__suppliers__details__content"},s.a.createElement(M.a,{style:{width:"100%"}},s.a.createElement(q.a,{span:6},s.a.createElement("span",{className:"importing-request__container__suppliers__details__content__label"},"Th\u01b0\u01a1ng hi\u1ec7u")),s.a.createElement(q.a,{span:18},n.name)),s.a.createElement(M.a,{style:{width:"100%"}},s.a.createElement(q.a,{span:6},s.a.createElement("span",{className:"importing-request__container__suppliers__details__content__label"},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i")),s.a.createElement(q.a,{span:18},n.phone)),s.a.createElement(M.a,{style:{width:"100%"}},s.a.createElement(q.a,{span:6},s.a.createElement("span",{className:"importing-request__container__suppliers__details__content__label"},"\u0110\u1ecba ch\u1ec9")),s.a.createElement(q.a,{span:18},s.a.createElement("p",{style:{minHeight:35,maxHeight:35}},n.address))),s.a.createElement("div",{className:"importing-request__container__suppliers__details__content__map"},n.address?s.a.createElement(At,{width:"100%",height:"14rem",address:n.address,locationIcon:s.a.createElement(xt.a,{twoToneColor:"#ff8220",style:{fontSize:24}})}):s.a.createElement(s.a.Fragment,null)))))}}]),t}(P),pn=Object(C.b)(null,n)(Object(N.a)(mn)),dn=(a(660),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={isVisible:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"setDialogVisible",value:function(e){this.setState({isVisible:e})}},{key:"openCancelRequestConfirmDialog",value:function(){var e=this;z.a.confirm({title:"T\u1eeb ch\u1ed1i y\xeau c\u1ea7u t\u1eeb ".concat(this.props.details.sender.fullname,"?"),icon:s.a.createElement(ee.a,null),content:"",okText:"\u0110\u1ed3ng \xfd",okType:"danger",cancelText:"Kh\xf4ng, c\u1ea3m \u01a1n",onOk:function(){return Object(f.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.props.setAppLoading(!0),t.next=4,fetch(S.Manager.ImportingRequestManagement.cancelImportingRequest.replace("{importingRequestID}",e.props.details._id),{method:"DELETE",headers:{"Content-type":"application/json; charset=UTF-8",token:e.props.cookies.get(A)},signal:e.abortController.signal});case 4:return t.next=6,t.sent.json();case 6:if(a=t.sent,e.props.setAppLoading(!1),200===a.status){t.next=11;break}return g.a.error(a.errors[0]),t.abrupt("return");case 11:e.props.onUpdateImportingRequests(a.data.importingRequests),e.setDialogVisible(!1),g.a.success(a.messages[0]),t.next=19;break;case 16:return t.prev=16,t.t0=t.catch(0),t.abrupt("return",t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))()}})}},{key:"render",value:function(){var e=this,t=this.props.details,a=[{title:"S\u1ea3n ph\u1ea9m",dataIndex:"product",key:"product",width:200,render:function(e,t){return s.a.createElement("div",null,s.a.createElement("img",{src:t.product.image,alt:"product",style:{width:20,margin:15}}),s.a.createElement("span",null,t.product.name))}},{title:"Nh\xe0 cung c\u1ea5p",dataIndex:"supplier",key:"supplier",width:200,render:function(e,t){return s.a.createElement(Nt,{supplier:Object(U.a)({},t.product.supplier),buttonText:t.product.supplier.name,buttonStyle:{fontSize:"0.6875rem"},placement:"right"})}},{title:"Gi\xe1 b\xe1n",dataIndex:"price",key:"price",width:100,render:function(e,t){return s.a.createElement(de.a,{value:t.product.price,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",style:{fontWeight:"bold"}})}}];return s.a.createElement("div",{className:"pending-importing-request"},s.a.createElement("div",{className:"pending-importing-request__summary animated fadeIn"},s.a.createElement(M.a,{gutter:10,style:{width:"100%",height:"100%"},onClick:function(){return e.setDialogVisible(!0)}},s.a.createElement(q.a,{span:4},s.a.createElement(L.a,{className:"pending-importing-request__summary__avatar",src:t.sender.avatar,size:24})),s.a.createElement(q.a,{span:20},s.a.createElement("div",{className:"pending-importing-request__summary__details"},s.a.createElement("span",{className:"pending-importing-request__summary__details__title"},t.sender.fullname),s.a.createElement("span",{className:"pending-importing-request__summary__details__time"},"Y\xeau c\u1ea7u l\xfac ",H()(t.createdAt).format("HH:mm DD-MM-YYYY")),s.a.createElement("p",{className:"pending-importing-request__summary__details__products"},t.requiredProducts.map((function(e){return e.product.name})).join(", "),".")))),s.a.createElement(tt.a,{className:"pending-importing-request__summary__btn-cancel",onClick:function(){return e.openCancelRequestConfirmDialog()}})),s.a.createElement(z.a,{className:"pending-importing-request__content",title:s.a.createElement("span",{style:{color:"#ff8220",fontWeight:"bold"}},"Th\xf4ng tin y\xeau c\u1ea7u"),visible:this.state.isVisible,footer:null,onCancel:function(){return e.setDialogVisible(!1)}},s.a.createElement(M.a,{style:{width:"100%"}},s.a.createElement(q.a,{span:7},s.a.createElement("ul",{className:"pending-importing-request__content__labels"},s.a.createElement("li",null,"Ng\u01b0\u1eddi y\xeau c\u1ea7u"),s.a.createElement("li",null,"V\xe0o l\xfac"),s.a.createElement("li",null,"Tr\u1ea1ng th\xe1i"),s.a.createElement("li",null,"S\u1ea3n ph\u1ea9m y\xeau c\u1ea7u (",t.requiredProducts.length,")"))),s.a.createElement(q.a,{span:17},s.a.createElement("ul",{className:"pending-importing-request__content__values"},s.a.createElement("li",null,s.a.createElement("strong",null,t.sender.fullname)),s.a.createElement("li",null,H()(t.createdAt).format("HH:mm DD-MM-YYYY")),s.a.createElement("li",null,s.a.createElement("span",{className:"pending-importing-request__content__values__status"},We.STATUS.PENDING.name))))),s.a.createElement("div",{className:"pending-importing-request__content__products"},s.a.createElement(ie.a,{dataSource:Object(te.a)(t.requiredProducts),columns:a,pagination:!1,scroll:{y:250}})),s.a.createElement("div",{className:"pending-importing-request__content__btn-cancel-wrapper"},s.a.createElement(E.a,{className:"pending-importing-request__content__btn-cancel-wrapper__btn",onClick:function(){return e.openCancelRequestConfirmDialog()},type:"primary",shape:"round"},"T\u1eeb ch\u1ed1i y\xeau c\u1ea7u"))))}}]),t}(P)),_n=Object(C.b)(null,n)(Object(N.a)(dn)),hn=a(729),fn=(a(661),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={isVisible:!1,requiredProducts:[],executor:{},priceTotal:0},a.formRef=s.a.createRef(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.pendingRequests,a=[],n=!0,r=!1,s=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var l=i.value,o=!0,u=!1,m=void 0;try{for(var p,d=l.requiredProducts[Symbol.iterator]();!(o=(p=d.next()).done);o=!0){var _=p.value;a.push(_)}}catch(h){u=!0,m=h}finally{try{o||null==d.return||d.return()}finally{if(u)throw m}}}}catch(h){r=!0,s=h}finally{try{n||null==c.return||c.return()}finally{if(r)throw s}}a=a.map((function(e,t){return Object(U.a)({},e,{key:t})})),a=Ce.uniqBy(a,(function(e){return e.product._id})),this.setState({requiredProducts:a,priceTotal:a.reduce((function(e,t){return e+t.product.price}),0)})}},{key:"setDialogVisible",value:function(e){this.setState({isVisible:e})}},{key:"onRequiredProductQuantityInputChanged",value:function(e,t){var a=this.state.requiredProducts;a[Ce.findIndex(a,(function(t){return t._id===e}))].requiredQuantity=t,this.setState({requiredProducts:a,priceTotal:a.reduce((function(e,t){return e+t.requiredQuantity*t.product.price}),0)})}},{key:"acceptRequests",value:function(){var e=Object(f.a)(h.a.mark((function e(t){var a,n,r,s,i,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.executor){e.next=4;break}return g.a.error("Th\xf4ng tin b\xe0n giao ch\u01b0a \u0111\u1ea7y \u0111\u1ee7, vui l\xf2ng ki\u1ec3m tra l\u1ea1i"),e.abrupt("return");case 4:return this.props.setAppLoading(!0),a=this.state,n=a.requiredProducts,r=a.priceTotal,s=this.props.pendingRequests,i=Object(U.a)({},t,{priceTotal:r,requests:s.map((function(e){return{_id:e._id}})),importedProducts:n.map((function(e){return{productID:e.product._id,requiredQuantity:e.requiredQuantity}}))}),e.next=10,fetch(S.Manager.ImportingRequestManagement.acceptImportingRequests,{method:"PUT",body:JSON.stringify(i),headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 10:return e.next=12,e.sent.json();case 12:if(c=e.sent,this.props.setAppLoading(!1),200===c.status){e.next=17;break}return g.a.error(c.errors[0]),e.abrupt("return");case 17:this.props.onAcceptRequests(),this.setDialogVisible(!1),e.next=24;break;case 21:return e.prev=21,e.t0=e.catch(0),e.abrupt("return",e.t0);case 24:case"end":return e.stop()}}),e,this,[[0,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSelectExcecutor",value:function(e){var t=JSON.parse(e);this.formRef.current&&this.formRef.current.setFieldsValue({executor:t._id}),this.setState({executor:t})}},{key:"render",value:function(){var e=this,t=this.props.importers,a=this.state,n=a.requiredProducts,r=a.executor,i=a.priceTotal,c=[{title:"S\u1ea3n ph\u1ea9m",dataIndex:"product",key:"product",width:220,render:function(e,t){return s.a.createElement("div",null,s.a.createElement("img",{src:t.product.image,alt:"product",style:{width:20,margin:15}}),s.a.createElement("span",null,t.product.name))}},{title:"Nh\xe0 cung c\u1ea5p",dataIndex:"supplier",key:"supplier",width:220,render:function(e,t){return s.a.createElement(Nt,{supplier:Object(U.a)({},t.product.supplier),buttonText:t.product.supplier.name,buttonStyle:{fontSize:"0.6875rem"},placement:"right"})}},{title:"Gi\xe1 b\xe1n",dataIndex:"price",key:"price",width:100,render:function(e,t){return s.a.createElement(de.a,{value:t.product.price,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",style:{fontWeight:"bold"}})}},{title:s.a.createElement("center",null,s.a.createElement("span",{style:{marginLeft:15}},"SL y\xeau c\u1ea7u")),dataIndex:"quantity",key:"quantity",render:function(t,a){return s.a.createElement("center",null,s.a.createElement(Ze.a,{min:1,max:999,defaultValue:1,onChange:function(t){return e.onRequiredProductQuantityInputChanged(a._id,t)}}))}}],l=s.a.createElement(K.a,{onClick:function(t){return e.handleSelectExcecutor(t.key)}},t.map((function(e){return s.a.createElement(K.a.Item,{key:JSON.stringify(e)},s.a.createElement(L.a,{src:e.avatar,size:20,style:{marginRight:10}}),e.fullname)})));return s.a.createElement("div",{className:"statistic-pending-request-dialog"},s.a.createElement("div",{className:"statistic-pending-request-dialog__btn-open-wrapper"},s.a.createElement(E.a,{shape:"round",className:"statistic-pending-request-dialog__btn-open-wrapper__btn",onClick:function(){return e.setDialogVisible(!0)},disabled:0===n.length},"Th\u1ed1ng k\xea s\u1ea3n ph\u1ea9m y\xeau c\u1ea7u",s.a.createElement(ke.a,null))),s.a.createElement(z.a,{className:"statistic-pending-request-dialog__content",title:s.a.createElement("span",{style:{color:"#ff8220",fontWeight:"bold"}},"S\u1ea3n ph\u1ea9m y\xeau c\u1ea7u (",n.length,")"),visible:this.state.isVisible,footer:null,onCancel:function(){return e.setDialogVisible(!1)}},s.a.createElement("div",{className:"statistic-pending-request-dialog__content__products"},s.a.createElement(ie.a,{dataSource:n,columns:c,pagination:!1,scroll:{y:250}})),s.a.createElement(M.a,{align:"middle",className:"statistic-pending-request-dialog__content__price-total"},s.a.createElement(q.a,{span:19},"T\u1ed5ng ti\u1ec1n"),s.a.createElement(q.a,{span:5,align:"center"},s.a.createElement(de.a,{value:i,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",style:{fontWeight:"bold"}}))),s.a.createElement("div",{className:"statistic-pending-request-dialog__content__executor"},s.a.createElement(M.a,{align:"middle"},s.a.createElement(q.a,{span:19},s.a.createElement("div",{className:"statistic-pending-request-dialog__content__executor__title"},s.a.createElement("span",null,"B\xe0n giao th\u1ef1c hi\u1ec7n"))),s.a.createElement(q.a,{span:5},s.a.createElement(E.a,{shape:"round",type:"primary",className:"statistic-pending-request-dialog__content__executor__btn-submit",onClick:function(){e.formRef.current&&e.formRef.current.submit()}},s.a.createElement("span",null,"B\xe0n giao"),s.a.createElement(ke.a,null)))),s.a.createElement(ve.a,null),s.a.createElement(b.a,{ref:function(t){return e.formRef.current=t},onFinish:function(t){return e.acceptRequests(t)}},s.a.createElement(M.a,{style:{width:"100%"}},s.a.createElement(q.a,{span:5},s.a.createElement("ul",{className:"statistic-pending-request-dialog__content__labels"},s.a.createElement("li",null,"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n"),s.a.createElement("li",null,"Ghi ch\xfa"))),s.a.createElement(q.a,{span:19},s.a.createElement("ul",{className:"statistic-pending-request-dialog__content__values"},s.a.createElement("li",null,s.a.createElement(b.a.Item,{name:"executor"},s.a.createElement(ze.a,{overlay:l},s.a.createElement(E.a,null,s.a.createElement(M.a,{style:{width:200},align:"middle"},s.a.createElement(q.a,{span:22,align:"left"},r.fullname||"Ch\u1ecdn nh\xe2n vi\xean..."),s.a.createElement(q.a,{span:2},s.a.createElement(hn.a,null))))))),s.a.createElement("li",null,s.a.createElement(b.a.Item,{name:"note"},s.a.createElement(y.a.TextArea,{placeholder:"Nh\u1eadp ghi ch\xfa..."}))))))))))}}]),t}(P)),gn=Object(C.b)(null,n)(Object(N.a)(fn)),bn=(a(662),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={isVisible:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"setDialogVisible",value:function(e){this.setState({isVisible:e})}},{key:"render",value:function(){var e=this,t=this.props.data,a=t.importedProducts.map((function(e,t){return Object(U.a)({},e,{key:t})})),n=[{title:"S\u1ea3n ph\u1ea9m",dataIndex:"product",key:"product",width:200,render:function(e,t){return s.a.createElement("div",null,s.a.createElement("img",{src:t.product.image,alt:"product",style:{width:20,margin:15}}),s.a.createElement("span",null,t.product.name))}},{title:"Nh\xe0 cung c\u1ea5p",dataIndex:"supplier",key:"supplier",width:200,render:function(e,t){return s.a.createElement(Nt,{supplier:Object(U.a)({},t.product.supplier),buttonText:t.product.supplier.name,buttonStyle:{fontSize:"0.6875rem"},placement:"right"})}},{title:"Gi\xe1 b\xe1n",dataIndex:"price",key:"price",width:100,render:function(e,t){return s.a.createElement(de.a,{value:t.product.price,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",style:{fontWeight:"bold"}})}},{title:s.a.createElement("center",null,"SL y\xeau c\u1ea7u"),dataIndex:"requiredQuantity",key:"requiredQuantity",width:100,render:function(e,t){return s.a.createElement("center",null,t.requiredQuantity)}},{title:s.a.createElement("center",null,"SL \u0111\xe3 nh\u1eadp"),dataIndex:"importedQuantity",key:"importedQuantity",width:100,render:function(e,t){return s.a.createElement("center",null,t.importedQuantity)}}],r=a.reduce((function(e,t){return e+t.importedQuantity}),0),i=a.reduce((function(e,t){return e+t.requiredQuantity}),0),c=a.reduce((function(e,t){return e+t.importedQuantity*t.product.price}),0);return s.a.createElement("div",{className:"importer-assignment"},s.a.createElement("div",{className:"importer-assignment__summary animated fadeIn",onClick:function(){return e.setDialogVisible(!0)}},s.a.createElement(M.a,{gutter:10,style:{width:"100%",height:"100%"}},s.a.createElement(q.a,{span:4},s.a.createElement(L.a,{className:"importer-assignment__summary__avatar",src:t.importer.avatar,size:24})),s.a.createElement(q.a,{span:20},s.a.createElement("div",{className:"importer-assignment__summary__details"},s.a.createElement("span",{className:"importer-assignment__summary__details__title"},t.importer.fullname),s.a.createElement("span",{className:"importer-assignment__summary__details__time"},t.finishedAt?s.a.createElement("span",null,"Ho\xe0n t\u1ea5t l\xfac ",H()(t.finishedAt).format("HH:mm DD-MM-YYYY")):s.a.createElement("span",null,"B\xe0n giao l\xfac ",H()(t.createdAt).format("HH:mm DD-MM-YYYY"))),s.a.createElement("p",{className:"importer-assignment__summary__details__products"},t.importedProducts.map((function(e,a){return a<t.importedProducts.length-1?s.a.createElement("span",{key:a},"".concat(e.product.name," x").concat(e.requiredQuantity,", ")):s.a.createElement("span",{key:a},"".concat(e.product.name," x").concat(e.requiredQuantity,"."))}))))))),s.a.createElement(z.a,{className:"importer-assignment__content",title:s.a.createElement("span",{style:{color:"#ff8220",fontWeight:"bold"}},"Th\xf4ng tin y\xeau c\u1ea7u"),visible:this.state.isVisible,footer:null,onCancel:function(){return e.setDialogVisible(!1)}},s.a.createElement(M.a,{style:{width:"100%"}},s.a.createElement(q.a,{span:7},s.a.createElement("ul",{className:"importer-assignment__content__labels"},s.a.createElement("li",null,"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n"),s.a.createElement("li",null,"B\xe0n giao l\xfac"),s.a.createElement("li",null,"Tr\u1ea1ng th\xe1i"),t.finishedAt?s.a.createElement(s.a.Fragment,null):s.a.createElement("li",null,"M\u1ee9c \u0111\u1ed9 ho\xe0n th\xe0nh"),t.finishedAt?s.a.createElement("li",null,"Ho\xe0n t\u1ea5t l\xfac"):s.a.createElement(s.a.Fragment,null),s.a.createElement("li",null,"T\u1ed5ng chi ph\xed nh\u1eadp h\xe0ng"),s.a.createElement("li",null,"T\u1ed5ng s\u1ea3n ph\u1ea9m c\u1ea7n nh\u1eadp"))),s.a.createElement(q.a,{span:17},s.a.createElement("ul",{className:"importer-assignment__content__values"},s.a.createElement("li",null,s.a.createElement("strong",null,t.importer.fullname)),s.a.createElement("li",null,H()(t.createdAt).format("HH:mm DD-MM-YYYY")),s.a.createElement("li",null,s.a.createElement("span",{className:"importer-assignment__content__values__status"},t.finishedAt?s.a.createElement("span",null,We.STATUS.FINISHED.name):s.a.createElement("span",null,We.STATUS.ACCEPTED.name))),s.a.createElement("li",null,t.finishedAt?s.a.createElement(s.a.Fragment,null):s.a.createElement(ft.a,{strokeColor:"#ff8220",percent:Ce.round(r/i*100,0),status:"active"})),t.finishedAt?s.a.createElement("li",null,H()(t.finishedAt).format("HH:mm DD-MM-YYYY")):s.a.createElement(s.a.Fragment,null),s.a.createElement("li",null,s.a.createElement("strong",null,s.a.createElement(de.a,{value:c,displayType:"text",thousandSeparator:!0,style:{marginRight:3}}),"/",s.a.createElement(de.a,{value:t.priceTotal,displayType:"text",thousandSeparator:!0,suffix:" \u0111\u0332",style:{marginLeft:3}}))),s.a.createElement("li",null,s.a.createElement("span",{style:{marginRight:3}},r),"/",s.a.createElement("span",{style:{marginLeft:3}},i))))),s.a.createElement("div",{className:"importer-assignment__content__products"},s.a.createElement(ie.a,{dataSource:a,columns:n,pagination:!1,scroll:{y:250}}))))}}]),t}(P)),yn=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={staffs:[],importingRequests:[],importerAssignments:[]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([this.loadStaffs(),this.loadImportingRequests(),this.loadImporterAssignments()]);case 3:t=e.sent,a=t[0],n=t[1],r=t[2],this.setState({staffs:a,importingRequests:n,importerAssignments:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),"string"===typeof e.t0&&g.a.error(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadStaffs",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.setAppLoading(!0),e.next=4,fetch(S.Manager.StaffManagement.getListStaffs,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 4:return e.next=6,e.sent.json();case 6:if(t=e.sent,this.props.setAppLoading(!1),200===t.status){e.next=10;break}return e.abrupt("return",Promise.reject(t.errors[0]));case 10:return e.abrupt("return",Promise.resolve(t.data.users));case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadImportingRequests",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.setAppLoading(!0),e.next=4,fetch(S.Manager.ImportingRequestManagement.getImportingRequest,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 4:return e.next=6,e.sent.json();case 6:if(t=e.sent,this.props.setAppLoading(!1),200===t.status){e.next=10;break}return e.abrupt("return",Promise.reject(t.errors[0]));case 10:return e.abrupt("return",Promise.resolve(t.data.importingRequests));case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadImporterAssignments",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.props.setAppLoading(!0),e.next=4,fetch(S.Manager.ImportingRequestManagement.getImporterAssignments,{method:"GET",headers:{"Content-type":"application/json; charset=UTF-8",token:this.props.cookies.get(A)},signal:this.abortController.signal});case 4:return e.next=6,e.sent.json();case 6:if(t=e.sent,this.props.setAppLoading(!1),200===t.status){e.next=10;break}return e.abrupt("return",Promise.reject(t.errors[0]));case 10:return e.abrupt("return",Promise.resolve(t.data.importerAssignments));case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"getStaffByID",value:function(e){return Object(U.a)({},this.state.staffs.find((function(t){return t._id===e})))}},{key:"onAcceptRequests",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadImporterAssignments();case 2:t=e.sent,this.setState({importingRequests:[],importerAssignments:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setImportingRequests",value:function(e){this.setState({importingRequests:e})}},{key:"reloadImportingRequests",value:function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.loadImportingRequests();case 3:t=e.sent,this.setState({importingRequests:t}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.importingRequests,n=t.staffs,r=t.importerAssignments,i=a.filter((function(e){return e.status===We.STATUS.PENDING.type})),c=r.filter((function(e){return null===e.finishedAt})),l=r.filter((function(e){return null!==e.finishedAt}));return s.a.createElement("div",{className:"importing-request"},s.a.createElement("div",{className:"importing-request__container"},s.a.createElement(M.a,{gutter:10,style:{width:"100%",height:"100%",margin:0}},s.a.createElement(q.a,{span:5},s.a.createElement("div",{className:"importing-request__container__block animated fadeInUp",style:{animationDelay:"0.2s"}},s.a.createElement("div",{className:"importing-request__container__block__header"},s.a.createElement("span",{className:"importing-request__container__block__header__title --pending"},"\u0110ang ch\u1edd duy\u1ec7t"),s.a.createElement(E.a,{type:"primary",shape:"circle",icon:s.a.createElement(me.a,null),className:"importing-request__container__block__header__btn-update",onClick:function(){return e.reloadImportingRequests()}}),s.a.createElement("span",{className:"importing-request__container__block__header__number --pending"},i.length)),s.a.createElement(gn,{pendingRequests:Object(te.a)(i),importers:n.filter((function(e){return e.role===R.IMPORTER.type&&e.isImporterAssignmentFinished})),onAcceptRequests:function(){return e.onAcceptRequests()}}),s.a.createElement("div",{className:"importing-request__container__block__body --pending"},i.map((function(t){return s.a.createElement(_n,{key:t._id,details:Object(U.a)({},t),importers:n.filter((function(e){return e.role===R.IMPORTER.type})),onUpdateImportingRequests:function(t){return e.setImportingRequests(t)}})}))))),s.a.createElement(q.a,{span:5},s.a.createElement("div",{className:"importing-request__container__block animated fadeInUp",style:{animationDelay:"0.4s"}},s.a.createElement("div",{className:"importing-request__container__block__header"},s.a.createElement("span",{className:"importing-request__container__block__header__title --accepted"},"\u0110ang th\u1ef1c hi\u1ec7n"),s.a.createElement("span",{className:"importing-request__container__block__header__number --accepted"},c.length)),s.a.createElement("div",{className:"importing-request__container__block__body"},c.map((function(e){return s.a.createElement(bn,{data:Object(U.a)({},e),key:e._id})}))))),s.a.createElement(q.a,{span:5},s.a.createElement("div",{className:"importing-request__container__block animated fadeInUp",style:{animationDelay:"0.6s"}},s.a.createElement("div",{className:"importing-request__container__block__header"},s.a.createElement("span",{className:"importing-request__container__block__header__title --finished"},"\u0110\xe3 ho\xe0n t\u1ea5t"),s.a.createElement("span",{className:"importing-request__container__block__header__number --finished"},l.length)),s.a.createElement("div",{className:"importing-request__container__block__body"},l.map((function(e){return s.a.createElement(bn,{data:Object(U.a)({},e),key:e._id})}))))),s.a.createElement(q.a,{span:9},s.a.createElement(pn,null)))))}}]),t}(P),kn=Object(C.b)(null,n)(Object(N.a)(yn)),En=a(731),vn=a(732),wn=a(733),Sn=a(734),An=[{role:"USER",pages:[{title:"Th\xf4ng tin c\xe1 nh\xe2n",path:"/profile",icon:v.a,component:V,key:"PROFILE"},{title:"\u0110\u1ed5i m\u1eadt kh\u1ea9u",path:"/change-password",icon:w.a,component:J,key:"CHANGE_PASSWORD"}]},{role:"CASHIER",pages:[{title:"Qu\u1ea7y thu ng\xe2n",path:"/checkout",icon:En.a,component:Ge}]},{role:"IMPORTER",pages:[{title:"Kho ch\u1ee9a s\u1ea3n ph\u1ea9m",path:"/products",icon:vn.a,component:Rt}]},{role:"MANAGER",pages:[{title:"B\xe1o c\xe1o - Th\u1ed1ng k\xea",path:"/reports",icon:wn.a,component:sa},{title:"T\u1ed5 ch\u1ee9c nh\xe2n s\u1ef1",path:"/staffs",icon:la.a,component:Oa},{title:"Ph\xe2n ca l\xe0m vi\u1ec7c",path:"/work-assignments",icon:Sn.a,component:en},{title:"Y\xeau c\u1ea7u nh\u1eadp h\xe0ng",path:"/importing-requests",icon:X.a,component:kn}]}],xn={labelCol:{span:8},wrapperCol:{span:16}},Nn={wrapperCol:{offset:8,span:16}},On=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).login=function(){var e=Object(f.a)(h.a.mark((function e(t){var n,r,s,i,c,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.props.setAppLoading(!0),n={username:t.username,password:t.password},e.next=5,fetch(S.User.login,{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8",token:a.props.cookies.get(A)},signal:a.abortController.signal});case 5:return e.next=7,e.sent.json();case 7:if(r=e.sent,a.props.setAppLoading(!1),200===r.status){e.next=12;break}return g.a.error(r.errors[0]),e.abrupt("return");case 12:s=r.data.user,i=r.data.meta.token,a.props.login(s,i),(c=a.props.cookies).set(x,s,{path:"/"}),c.set(A,i,{path:"/"}),s.role===R.CASHIER.type&&(l=An[1].pages[0].path),s.role===R.IMPORTER.type&&(l=An[2].pages[0].path),s.role===R.MANAGER.type&&(l=An[3].pages[0].path),a.props.history.length=0,a.props.history.push(l),e.next=28;break;case 25:return e.prev=25,e.t0=e.catch(0),e.abrupt("return",e.t0);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.cookies,t=e.get(x),a=e.get(A);t&&a&&this.props.history.push("/")}},{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"dark-bg"}),s.a.createElement("div",{className:"__header"},s.a.createElement("img",{className:"__company-logo",src:a(102),alt:"logo"}),s.a.createElement("div",{className:"__company-brand"},s.a.createElement("div",{className:"__name"},s.a.createElement("span",null,"Mini Mart")),s.a.createElement("div",{className:"__slogan"},s.a.createElement("span",null,"Ti\u1ec7n L\u1ee3i m\xe0 Ch\u1ea5t L\u01b0\u1ee3ng")))),s.a.createElement("div",{className:"login animated bounceInDown"},s.a.createElement("h2",{className:"__main-title"},"STAFF ONLY"),s.a.createElement("div",{className:"__cover-img"}),s.a.createElement(b.a,Object.assign({className:"__form"},xn,{name:"basic",initialValues:{remember:!0},onFinish:this.login,onFinishFailed:function(){g.a.error("Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin")}}),s.a.createElement(b.a.Item,{name:"username",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp t\xe0i kho\u1ea3n"}]},s.a.createElement(y.a,{prefix:s.a.createElement(v.a,{className:"__form__icon"}),placeholder:"T\xe0i kho\u1ea3n",autoFocus:!0})),s.a.createElement(b.a.Item,{name:"password",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u"}]},s.a.createElement(y.a.Password,{prefix:s.a.createElement(w.a,{className:"__form__icon"}),placeholder:"M\u1eadt kh\u1ea9u"})),s.a.createElement("div",{className:"__form__forgot-password"},s.a.createElement(k.a,{title:"Y\xeau c\u1ea7u kh\xf4i ph\u1ee5c m\u1eadt kh\u1ea9u"},s.a.createElement("a",{href:"/login",style:{marginLeft:8}},"Qu\xean m\u1eadt kh\u1ea9u?"))),s.a.createElement(b.a.Item,Nn,s.a.createElement(E.a,{className:"__form__btn-submit",type:"primary",htmlType:"submit"},"\u0110\u0102NG NH\u1eacP")))),s.a.createElement("svg",{className:"wave",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"},s.a.createElement("path",{fillOpacity:1,d:"M0,0L1440,192L1440,320L0,320Z"})),s.a.createElement("svg",{className:"wave2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320"},s.a.createElement("path",{fillOpacity:"1",d:"M0,64L1440,320L1440,0L0,0Z"})),s.a.createElement("p",{className:"__footer"},"Mini Mart \xa92020 All right reserved."))}}]),t}(P),Cn=Object(C.b)(null,n)(Object(N.a)(Object(O.g)(On))),Tn=a(90),jn=a(678),In=a(104),Dn=Object(In.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!1,currentPageTitle:"",currentPageIcon:v.a,sidebarSelectedIndex:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP_LOADING":return Object(U.a)({},e,{isLoading:t.isLoading});case"CURRENT_PAGE_TITLE":return Object(U.a)({},e,{currentPageTitle:t.title,currentPageIcon:t.icon});case"SET_SIDEBAR_SELECTED_INDEX":return Object(U.a)({},e,{sidebarSelectedIndex:t.sidebarSelectedIndex});default:return e}},loggedInUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{username:null,token:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return{user:t.user,token:t.token};default:return e}}}),Pn=Object(In.c)(Dn,{}),Rn=a(323),Ln=a(677),Mn=(a(664),a(735)),qn=(a(665),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSelectMenuItem=function(e){var t=e.split("***"),n=t[0],r=t[1];"LOGOUT"!==n?a.props.history.push(r):a.logout()},a.logout=function(){var e=a.props.cookies;e.remove(A,{path:"/"}),e.remove(x,{path:"/"}),a.props.history.length=0,a.props.history.push("/login")},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=t.avatarMenuItems,r=this.props.app,i=r.currentPageTitle,c={Icon:r.currentPageIcon};return s.a.createElement(M.a,{className:"toolbar",justify:"start",align:"middle"},s.a.createElement(q.a,{className:"__page-title",span:16},s.a.createElement(M.a,{align:"center"},s.a.createElement(q.a,{span:1},s.a.createElement("div",{className:"__page-title__icon"},s.a.createElement(c.Icon,null))),s.a.createElement(q.a,{span:23},s.a.createElement("span",{className:"__page-title__text"},i)))),s.a.createElement(q.a,{span:8},s.a.createElement(M.a,{className:"__account",justify:"end",align:"middle"},s.a.createElement(q.a,{span:14}),s.a.createElement(q.a,{span:10},s.a.createElement(ze.a,{overlay:s.a.createElement(K.a,{onClick:function(t){return e.handleSelectMenuItem(t.key)}},(n||[]).map((function(t){return s.a.createElement(K.a.Item,{key:t.key+"***"+t.path,onClick:function(){e.props.setCurrentPageTitle(t.title,t.icon),e.props.setSidebarSelectedIndex(t.sidebarIndex)}},s.a.createElement(t.icon,null),t.title)})),s.a.createElement(K.a.Item,{key:"LOGOUT"},s.a.createElement(ja.a,null),"\u0110\u0103ng xu\u1ea5t")),className:"__account__avatar-menu"},s.a.createElement(M.a,{align:"middle",gutter:5},s.a.createElement(q.a,{span:4},s.a.createElement(L.a,{src:a.avatar})),s.a.createElement(q.a,{span:20},s.a.createElement("span",{className:"__account__avatar-menu__name"},a.fullname||""),s.a.createElement(Mn.a,{style:{color:"white"}}))))))))}}]),t}(r.Component)),Wn=Object(C.b)((function(e){return{app:e.app}}),n)(Object(N.a)(Object(O.g)(qn))),Hn=(a(666),a(667),function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t=this.props.user,a=R[t.role].name;switch(t.role){case R.CASHIER.type:e="__wallpaper__role--cashier";break;case R.IMPORTER.type:e="__wallpaper__role--importer";break;case R.MANAGER.type:e="__wallpaper__role--manager"}return s.a.createElement("div",{className:"user-info"},s.a.createElement("div",{className:"__wallpaper",style:{backgroundImage:"url(".concat(t.avatar,")")}},s.a.createElement("div",{className:"__wallpaper__dark-bg"}),s.a.createElement("div",{className:"__wallpaper__role ".concat(e)},s.a.createElement("span",null,a)),s.a.createElement("div",{className:"__wallpaper__info"},s.a.createElement("div",{className:"__wallpaper__info__fullname"},s.a.createElement("span",null,t.fullname||"")),s.a.createElement("span",{className:"__wallpaper__info__email"},t.email||""))),s.a.createElement("div",{className:"__avatar"},s.a.createElement(L.a,{style:{width:"3.625rem",height:"3.625rem"},src:t.avatar,className:"__avatar__image"})))}}]),t}(r.Component)),Fn=Ln.a.Sider,Vn=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.pagesByUserRole,a=window.location.href.split("?")[0].split("/"),n=a[a.length-1];if(n)t.forEach((function(a,r){if(a.path==="/".concat(n)){var s=t[r];e.props.setSidebarSelectedIndex(r),e.props.setCurrentPageTitle(s.title,s.icon)}}));else{var r=this.props.cookies.get(x),s={};r.role===R.CASHIER.type&&(s=An[1].pages[0]),r.role===R.IMPORTER.type&&(s=An[2].pages[0]),r.role===R.MANAGER.type&&(s=An[3].pages[0]),this.props.setSidebarSelectedIndex(0),this.props.setCurrentPageTitle(s.title,s.icon),this.props.history.length=0,this.props.history.push(s.path)}}},{key:"isCommonPage",value:function(e){return!!An.find((function(e){return e.role===R.USER.type})).pages.find((function(t){return t.path===e}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.user,r=t.pagesByUserRole,i=this.props.app.sidebarSelectedIndex;return s.a.createElement(Fn,{className:"sidebar"},s.a.createElement("div",{className:"sidebar__header"},s.a.createElement("img",{className:"sidebar__header__company-logo",src:a(102),alt:"logo"}),s.a.createElement("div",{className:"sidebar__header__company-brand"},s.a.createElement("div",{className:"sidebar__header__company-brand__name"},s.a.createElement("span",null,"Mini Mart")),s.a.createElement("div",{className:"sidebar__header__company-brand__slogan"},s.a.createElement("span",null,"Ti\u1ec7n L\u1ee3i m\xe0 Ch\u1ea5t L\u01b0\u1ee3ng")))),s.a.createElement(Hn,{user:n}),s.a.createElement(K.a,{theme:"light",mode:"inline",selectedKeys:[i?i.toString():"0"]},r.map((function(t,a){var n={Icon:t.icon};return s.a.createElement(K.a.Item,{key:a,onClick:function(){e.props.setCurrentPageTitle(t.title,t.icon),e.props.setSidebarSelectedIndex(a)}},s.a.createElement(n.Icon,{style:{color:"#ff8220"}}),s.a.createElement("span",{className:"sidebar__nav-title"},t.title),s.a.createElement(Tn.b,{to:t.path}))}))))}}]),t}(r.Component),Un=Object(C.b)((function(e){return{app:e.app}}),n)(Object(N.a)(Object(O.g)(Vn))),Yn=Ln.a.Content,Bn=function(e){function t(e){var a;Object(o.a)(this,t);var n=(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).props.cookies.get(x),r=a.props.cookies.get(A);return n&&r?a.isAuthenticated=!0:(a.isAuthenticated=!1,a.props.history.length=0,a.props.history.push("/login")),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){if(!this.isAuthenticated)return null;var e=this.props.cookies.get(x)||this.props.loggedInUser.user,t=An.find((function(t){return t.role===e.role})).pages,a=An.find((function(e){return e.role===R.USER.type})).pages.map((function(e,a){return Object(U.a)({},e,{sidebarIndex:t.length+a})}));t=Object(te.a)(t).concat(a);var n=function(e){var t=e.component,a=Object(Rn.a)(e,["component"]);return s.a.createElement(O.b,Object.assign({},a,{render:function(e){return s.a.createElement(t,e)}}))};return s.a.createElement("div",{className:"main"},s.a.createElement(Ln.a,null,s.a.createElement(Un,{user:e,pagesByUserRole:t}),s.a.createElement(Ln.a,{style:{marginLeft:"12.5rem"}},s.a.createElement("div",{style:{position:"relative"}},s.a.createElement(Wn,{user:e,avatarMenuItems:a})),s.a.createElement(Yn,{className:"main__content"},s.a.createElement("div",null,t.map((function(e,t){return s.a.createElement(n,{key:t,exact:!0,component:e.component,path:e.path})})))))))}}]),t}(r.Component),Qn=Object(C.b)((function(e){return{loggedInUser:e.loggedInUser}}),n)(Object(N.a)(Object(O.g)(Bn))),Gn=(a(668),a(166)),Jn=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.props.app.isLoading?s.a.createElement("div",{className:"app-loading"},s.a.createElement(Gn.a,{size:"large"})):s.a.createElement(s.a.Fragment,null)}}]),t}(r.Component),zn=Object(C.b)((function(e){return{app:e.app}}),n)(Jn),Kn=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement(C.a,{store:Pn},s.a.createElement(jn.a,null,s.a.createElement(Tn.a,null,s.a.createElement(O.d,null,s.a.createElement(O.b,{path:"/login",component:Cn}),s.a.createElement(O.b,{path:"/",component:Qn}),s.a.createElement(O.b,{path:"/**",render:function(){return s.a.createElement(O.a,{to:{pathname:"/"}})}})),s.a.createElement(zn,null))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(Kn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[324,1,2]]]);
//# sourceMappingURL=main.e2c6d4ee.chunk.js.map