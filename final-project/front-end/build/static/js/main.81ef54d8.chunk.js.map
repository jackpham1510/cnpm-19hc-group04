{"version":3,"sources":["assets/images/app-logo.png","assets/sounds/cashing.wav","assets/sounds/rejecting.wav","assets/sounds/warning.wav","config/secret.js","constants/api.constant.js","constants/cookie-name.constant.js","redux/actions/index.js","redux/actions/types.action.js","components/utilities/PageBase/PageBase.js","constants/user-role.constant.js","components/pages/User/Profile/Profile.js","components/pages/User/ChangePassword/ChangePassword.js","components/pages/Cashier/MoneyCounting/SubmitCheckoutSessionDialog/BillToPrint/BillToPrint.js","components/pages/Cashier/MoneyCounting/SubmitCheckoutSessionDialog/SubmitCheckoutSessionDialog.js","components/pages/Cashier/MoneyCounting/ImportingRequestDialog/ImportingRequestDialog.js","components/pages/Cashier/MoneyCounting/MoneyCounting.js","constants/importing-request.constant.js","components/pages/Cashier/ImportingRequestHistory/ImportingRequestHistory.js","components/pages/Cashier/TransactionHistory/TransactionHistory.js","components/pages/Cashier/CheckoutPanel/CheckoutPanel.js","components/utilities/ImageUploader/ImageUploader.js","components/pages/Importer/ProductManagment/AddProductDialog/AddProductDialog.js","components/pages/Importer/ProductManagment/AddCategoryDialog/AddCategoryDialog.js","components/pages/Importer/ProductManagment/EditCategoryDialog/EditCategoryDialog.js","constants/google-maps.constant.js","components/utilities/GoogleMap/GoogleMap.js","components/utilities/SupplierContactPopover/SupplierContactPopover.js","components/pages/Importer/ProductManagment/ImportingAssignmentDialog/ImportingAssignmentDialog.js","constants/product-action-type.constant.js","components/pages/Importer/ProductManagment/ProductActionHistory/ProductActionHistory.js","components/pages/Importer/ProductManagment/ProductManagement.js","services/collection-sorting.service.js","components/pages/Manager/Reporting/RevenueStatistic/RevenueStatistic.js","constants/months.constant.js","components/pages/Manager/Reporting/BestSelling/BestSelling.js","components/pages/Manager/Reporting/ImportingHistory/ImportingHistory.js","components/pages/Manager/Reporting/ImportingStatistic/ImportingStatistic.js","components/pages/Manager/Reporting/SellingHistory/SellingHistory.js","components/pages/Manager/Reporting/NewProductList/NewProductList.js","components/pages/Manager/Reporting/ProductQuantityStatistic/ProductQuantityStatistic.js","components/pages/Manager/Reporting/ReportToPrint/ReportToPrint.js","components/pages/Manager/Reporting/Reporting.js","constants/user-sex.js","components/pages/Manager/StaffManagement/AddStaffDialog/AddStaffDialog.js","components/pages/Manager/StaffManagement/UpdateStaffDialog/UpdateStaffDialog.js","components/pages/Manager/Reporting/WorkScheduleReport/WorkScheduleReportToPrint/WorkScheduleReportToPrint.js","constants/report.constant.js","components/pages/Manager/StaffManagement/StaffManagement.js","constants/week-day.constant.js","components/pages/Manager/WorkAssignment/BtnAddWorkSchedule/BtnAddWorkSchedule.js","components/pages/Manager/WorkAssignment/BtnAddWorkShift/BtnAddWorkShift.js","components/pages/Manager/WorkAssignment/BtnAddWorkShiftAssigner/BtnAddWorkShiftAssigner.js","components/pages/Manager/WorkAssignment/WorkAssignment.js","components/utilities/GooglePlacesAutocomplete/GooglePlacesAutocomplete.js","components/pages/Manager/ImportingRequest/SupplierManagement/AddSupplierDialog/AddSupplierDialog.js","components/pages/Manager/ImportingRequest/SupplierManagement/EditSupplierDialog/EditSupplierDialog.js","components/pages/Manager/ImportingRequest/SupplierManagement/SupplierManagement.js","components/pages/Manager/ImportingRequest/PendingRequest/PendingRequest.js","components/pages/Manager/ImportingRequest/StatisticPendingRequestDialog/StatisticPendingRequestDialog.js","components/pages/Manager/ImportingRequest/ImporterAssignment/ImporterAssignment.js","components/pages/Manager/ImportingRequest/ImportingRequest.js","constants/sidebar.constant.js","components/pages/User/Login/Login.js","redux/reducers/index.js","redux/reducers/app.reducer.js","redux/reducers/logged-in-user.reducer.js","redux/store/index.js","components/layout/Toolbar/Toolbar.js","components/layout/Sidebar/UserInfo/UserInfo.js","components/layout/Sidebar/Sidebar.js","components/layout/Main/Main.js","components/utilities/AppLoading/AppLoading.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","ENV","API_URL","process","GOOGLE_MAPS_API_KEY","API","User","login","secret","changePassword","Cashier","Checkout","getCheckoutSessions","createCheckoutSession","cancelCheckoutSession","submitCheckoutSession","createImportingRequest","getImportingRequests","Manager","Reporting","getProducts","ImportingRequestManagement","getImportingRequest","acceptImportingRequests","cancelImportingRequest","getImporterAssignments","StaffManagement","getListStaffs","addStaff","updateStaffProfile","removeStaff","SupplierManagment","getSuppliers","addSupplier","removeSupplier","updateSupplier","WorkSchedule","getWorkSchedules","addWorkSchedule","removeWorkSchedule","WorkShift","addWorkShift","removeWorkShift","WorkAssignment","addWorkAssignments","removeWorkAssignment","Importer","ProductManagement","addCategory","getCategories","getCategoryProducts","updateCategory","removeCategory","addProduct","updateProduct","removeProduct","getProductActionLogs","ImporterAssignmentManagement","COOKIE_NAMES","user","token","type","setAppLoading","isLoading","setCurrentPageTitle","title","icon","setSidebarSelectedIndex","sidebarSelectedIndex","BasePage","abortController","AbortController","this","abort","React","Component","CASHIER","name","IMPORTER","MANAGER","USER","Profile","props","cookies","get","userFields","Object","keys","filter","k","includes","map","index","value","moment","format","sort","a","b","className","size","src","avatar","fullname","USER_ROLES","role","span","field","key","withCookies","layout","labelCol","wrapperCol","tailLayout","offset","ChangePassword","onFinish","values","params","fetch","method","body","JSON","stringify","headers","signal","json","res","status","message","error","errors","formRef","current","resetFields","success","messages","createRef","SafetyOutlined","ref","onFinishFailed","Item","label","rules","required","Password","autoFocus","shape","htmlType","PageBase","connect","actions","BillToPrint","checkoutSession","require","alt","submittedAt","_id","style","fontWeight","paddingBottom","soldItems","item","product","quantity","Number","price","displayType","thousandSeparator","priceTotal","suffix","fgColor","SubmitCheckoutSessionDialog","openNotification","description","placement","notification","duration","state","isVisible","setState","document","getElementById","click","checkoutSessionID","checkedOutProducts","products","p","replace","data","notExistedProductIDs","notExistedProducts","_","id","notifyNotExistedProducts","loadLackingItems","lackingItems","setLackingItemsDialogVisible","setCheckoutDoneScreenVisible","setMainPanelOnWorking","setDialogVisible","paddingLeft","disabled","length","onClick","marginRight","ArrowRightOutlined","color","visible","onOk","onOK","onCancel","okText","okButtonProps","display","cancelButtonProps","maskClosable","PrinterOutlined","trigger","content","componentToPrintRef","el","ImportingRequestDialog","columns","dataIndex","render","record","image","width","ExclamationCircleFilled","footer","dataSource","pagination","scroll","y","sendImportingRequest","confirm","Modal","MoneyCounting","open","handleScan","availableProducts","productID","ap","playSound","warningSound","openNotExistedProductNotification","clearScannedProduct","checkoutSound","productDetails","push","order","category","supplier","reduce","pre","cur","scannedProduct","handleError","onWorking","sound","isCheckoutDoneScreenVisible","isLackingItemsDialogVisible","soundRef","setOnWorking","setCheckoutPanelCheckoutSessionID","play","setCheckoutPanelOnWorking","that","ExclamationCircleOutlined","okType","cancelText","rejectingSound","clearAllStates","isProductScanned","text","QuestionCircleOutlined","DeleteFilled","openRemoveCheckoutProductConfirm","height","controls","autoPlay","CheckCircleOutlined","continueToCheckout","ArrowLeftOutlined","backToGettingStarted","delay","onError","onScan","align","ReloadOutlined","gutter","Empty","PRESENTED_IMAGE_SIMPLE","ShoppingCartOutlined","items","locale","emptyText","xmlns","viewBox","fill","fillOpacity","d","x2","y2","stopColor","STATUS","PENDING","ACCEPTED","FINISHED","CANCELLED","ImportingRequestHistory","importingRequests","loadImportingRequests","MessageOutlined","mode","r","requiredProducts","createdAt","animationDelay","IMPORTING_REQUEST","TransactionHistory","checkoutSessions","loadCheckoutSessions","HistoryOutlined","cs","navbarMenuItems","QrcodeOutlined","CheckoutPanel","toggleCollapsed","collapsed","selectedMenuItem","e","find","defaultSelectedKeys","theme","inlineCollapsed","handleSelectMenuItem","setCheckoutSessionID","ImageUpload","handleChange","info","file","getBase64","originFileObj","imageUrl","loading","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","isJpgOrPng","isLt2M","clearImage","defaultImageUrl","tooltipTitle","tooltipPlacement","isAvatar","uploadedImage","PictureOutlined","uploadButton","LoadingOutlined","listType","showUploadList","action","beforeUpload","onChange","AddProductDialog","supplierID","categoryID","selectedCategory","availableQuantity","addToListProducts","PlusOutlined","background","border","setFieldsValue","suppliers","placeholder","s","Option","formatter","parser","AddCategoryDialog","addToListCategories","centered","EditCategoryDialog","updateCategoryInList","API_KEY","GEOCODING","LANGUAGE","REGION","defaultLocation","lat","lng","LocationIndicator","GoogleMap","address","location","loadData","getAddressLocation","latitude","longitude","Geocode","fromLatLng","GOOGLE_MAPS","results","formatted_address","fromAddress","geometry","locationIcon","bootstrapURLKeys","center","defaultZoom","SupplierContactPopover","buttonText","buttonStyle","phone","EnvironmentTwoTone","twoToneColor","fontSize","overlayClassName","ImportingAssignmentDialog","importedProducts","i","margin","requiredQuantity","importedQuantity","importedQuantityTotal","acc","requiredQuantityTotal","importedPriceTotal","setImportingAssignmentDialogVisible","manager","strokeColor","percent","marginLeft","ADD","UPDATE","REMOVE","ProductActionHistory","logs","productActionLogs","d1","Date","getTime","l","PRODUCT_ACTION_TYPES","actionType","isProductDetailsPanelShown","selectedProduct","productSearchText","filteredProducts","categories","categorySearchText","filteredCategories","importerAssignments","isImportingAssignmentDialogVisible","productDetailsFormRef","Promise","all","loadCategories","loadSuppliers","loadImporterAssignments","loadCategoryProducts","selectedSupplier","reject","resolve","onProductSearchInputChange","isToggled","toggleProductDetailsPanel","c","toLowerCase","isImporterAssignmentUpdated","reloadImporterAssignments","option","time1","time2","onCategorySearchInputChange","newSupplier","updateSuppliers","updatingProductMessage","prefix","SearchOutlined","target","renderItem","handleSelectCategory","overlay","openRemoveCategoryDialog","EditOutlined","BellFilled","padding","CloseOutlined","openRemoveProductDialog","updateProductDetails","isImportedProduct","onRow","handleSelectProduct","rowClassName","RevenueStatistic","statisticData","revenueTotal","paymentTotal","salaryTotal","importingCostTotal","profitTotal","paymentItems","paymentItemColumns","position","justify","StarFilled","UnorderedListOutlined","TagFilled","ScheduleFilled","canvas","gradient","getContext","createLinearGradient","addColorStop","labels","date","datasets","lineTension","backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","revenue","options","legend","scales","xAxes","gridLines","0","1","2","3","4","5","6","7","8","9","10","11","Meta","Card","responsive","desktop","breakpoint","max","min","paritialVisibilityGutter","tablet","mobile","BestSelling","deviceType","swipeable","draggable","ssr","keyBoardControl","containerClass","removeArrowOnDeviceType","itemClass","details","cover","ImportingHistory","ImportingStatistic","requiredImportingCostTotal","importingCompletedRatio","SellingHistory","sellingHistories","h","sh","cashier","NewProductList","newProducts","ProductQuantityStatistic","soldQuantityTotal","newProductTotal","availableQuantityTotal","soldQuantityStatisticData","soldQuantityStatisticChartData","ticks","yAxes","ReportToPrint","soldProducts","sellingRevenueTotal","month","year","newProduct","sellingRevenue","slice","soldProductColumns","importingCost","importedProductColumns","incomes","incomeColumns","payments","paymentColumns","getMonth","getFullYear","bestSellingProducts","revenueStatisticData","productCurrentPage","productPageLimit","productTotal","loadProducts","loadProductResult","page","statisticStartDate","startOf","statisticEndDate","daysInMonth","endOf","toString","monthIndex","MONTHS","selectedDate","isPaginationShown","Math","ceil","sorter","soldQuantity","PrinterFilled","reportToPrintRef","defaultValue","picker","clearIcon","bordered","monthCellRender","onDatePickerChange","paddingRight","marginTop","pageSize","total","onProductPageChange","Select","AddStaffDialog","password","confirmedPassword","dateOfBirth","reloadStaffs","UserAddOutlined","UserOutlined","allowClear","USER_SEX","MALE","FEMALE","maxLength","TextArea","textAlign","KeyOutlined","UpdateStaffDialog","sex","selectedStaff","formInitialValues","split","loadSelectedStaffProfile","weekDays","WorkScheduleReportToPrint","staff","workShifts","workAssignments","wa","weekday","startTime","isoWeekday","ws","endTime","startDate","subtract","endDate","add","dates","loadStaffs","defaultStaff","url","users","filteredStaffs","u","staffs","searchStaffText","filteredStaffRole","staffID","filterListStaffsByRole","parse","colIndex","column","Avatar","active","Input","updatedStaff","borderRadius","CalendarOutlined","basicInfo","REPORTS","openRemoveStaffConfirm","UserDeleteOutlined","onChangeSearchStaffInput","TeamOutlined","newStaff","onClickListStaffsRow","BtnAddWorkSchedule","reloadWorkSchedules","setModalVisible","_date","monthFullCellRender","fullscreen","onPanelChange","handleSelectMonth","BtnAddWorkShift","workSchedules","selectedWorkSchedule","selectedWorkDay","selectedWorkShift","workScheduleID","workShift","sortWorkShiftsByStartTime","selectedWorkShiftIndex","findIndex","workDays","week","day","workDayInMonth","wsc","fieldName","selectedTime","hours","getHours","mins","getMinutes","workMonth","workYear","workShiftTime","PlusCircleFilled","workWeekDay","onChangeTimePicker","BtnAddWorkShiftAssigner","assigners","isAllStaffsChecked","assigner","checked","UsergroupAddOutlined","onCheckAllStaffs","itemLayout","onCheckStaff","TabPane","Tabs","listStaffs","loadWorkSchedules","refreshAllCurrenStates","availableYears","listWorkYears","selectedWorkYear","isWorkShiftFound","j","isTaskWorkDayPanelShown","wsDay","getDate","workSchedule","workDaysLength","temp","filteredWorkShifts","filterWorkShiftsByDay","getWeekDay","WEEK_DAY","generateWorkDays","row","col","workShiftID","assinger","workAssignment","workAssignmentID","selectedYear","minHeight","handleSelectYear","handleSelectWorkSchedule","openRemoveWorkScheduleConfirm","CloseCircleOutlined","handleSelectWorkShift","openRemoveWorkShiftConfirm","USER_ROLE","LogoutOutlined","openRemoveWorkShiftAssignerConfirm","defaultActiveKey","tabBarGutter","console","log","tab","iRow","iCol","handleSelectWorkDay","PlacesAutocomplete","inputRef","geocodeByAddress","placeInfo","setAddress","suggestionsClassNames","suggestion","onSelect","handleSelectPlace","initialValue","renderInput","AddSupplierDialog","submit","addToSuppliersDataSource","EditSupplierDialog","updateSuppliersDataSource","SupplierManagement","suppliersDataSource","filteredSuppliers","supplierSearchText","onSupplierSearchInputChange","defaultSelectedSupplier","searchKeys","handleSelectSupplier","DeleteOutlined","openRemoveSupplierConfirmDialog","maxHeight","PendingRequest","sender","onUpdateImportingRequests","rp","join","openCancelRequestConfirmDialog","StatisticPendingRequestDialog","executor","pendingRequests","requests","onAcceptRequests","importers","onRequiredProductQuantityInputChanged","executorMenu","handleSelectExcecutor","acceptRequests","DownOutlined","ImporterAssignment","importer","finishedAt","ImportingRequest","CONSTANT","notFinishedAssignments","finishedAssignments","reloadImportingRequests","isImporterAssignmentFinished","setImportingRequests","pages","path","component","LockOutlined","DollarOutlined","InboxOutlined","BarChartOutlined","FileDoneOutlined","Login","username","meta","set","pathToNavigate","SIDEBAR","history","initialValues","remember","href","withRouter","combineReducers","app","currentPageTitle","currentPageIcon","loggedInUser","createStore","reducers","Toolbar","code","logout","remove","avatarMenuItems","CurrentPage","Icon","sidebarIndex","CaretDownFilled","UserInfo","userRoleStyle","userRoleName","backgroundImage","email","Sider","Layout","Sidebar","pagesByUserRole","window","currentPath","forEach","currentPage","links","link","selectedKeys","pageIndex","Page","to","Content","Main","loggedUser","isAuthenticated","commonPages","concat","PrivateRoute","rest","exact","AppLoading","App","store","CookiesProvider","pathname","Boolean","hostname","match","ReactDOM","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.81ef54d8.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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e/IDUBi7J38OFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRPLlntZ5CCgVAmpvTO8Y77B/b/VXm/wGYkli8D/ZHAgAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/cashing.9897c7f7.wav\";","module.exports = __webpack_public_path__ + \"static/media/rejecting.01f737d7.wav\";","module.exports = __webpack_public_path__ + \"static/media/warning.4af9c980.wav\";","const ENV = {\n  API_URL: process.env.REACT_APP_API_URL,\n  GOOGLE_MAPS_API_KEY: process.env.REACT_APP_GOOGLE_MAPS_API_KEY\n}\n\nexport default ENV;","import secret from '../config/secret';\n\nexport const API = {\n  User: {\n    login: `${secret.API_URL}/users/login`,\n    changePassword: `${secret.API_URL}/users/change-password`\n  },\n  Cashier: {\n    Checkout: {\n      getCheckoutSessions: `${secret.API_URL}/checkout-sessions`,\n      createCheckoutSession: `${secret.API_URL}/checkout-sessions`,\n      cancelCheckoutSession: `${secret.API_URL}/checkout-sessions/{checkoutSessionID}`,\n      submitCheckoutSession: `${secret.API_URL}/checkout-sessions/{checkoutSessionID}`,\n\n      createImportingRequest: `${secret.API_URL}/importing-requests`,\n      getImportingRequests: `${secret.API_URL}/users/importing-requests`\n    }\n  },\n  Manager: {\n    Reporting: {\n      getProducts: `${secret.API_URL}/products?page={page}&limit={limit}&statisticStartDate={statisticStartDate}&statisticEndDate={statisticEndDate}`\n    },\n    ImportingRequestManagement: {\n      getImportingRequest: `${secret.API_URL}/importing-requests`,\n      acceptImportingRequests: `${secret.API_URL}/importing-requests`,\n      cancelImportingRequest: `${secret.API_URL}/importing-requests/{importingRequestID}`,\n\n      getImporterAssignments: `${secret.API_URL}/importer-assignments`,\n    },\n    StaffManagement: {\n      getListStaffs: `${secret.API_URL}/users`,\n      addStaff: `${secret.API_URL}/users`,\n      updateStaffProfile: `${secret.API_URL}/users/{updatedUserID}`,\n      removeStaff: `${secret.API_URL}/users/{deletedUserID}`\n    },\n    SupplierManagment: {\n      getSuppliers: `${secret.API_URL}/suppliers`,\n      addSupplier: `${secret.API_URL}/suppliers`,\n      removeSupplier: `${secret.API_URL}/suppliers/{supplierID}`,\n      updateSupplier: `${secret.API_URL}/suppliers/{supplierID}`\n    },\n    WorkSchedule: {\n      getWorkSchedules: `${secret.API_URL}/work-schedules`,\n      addWorkSchedule: `${secret.API_URL}/work-schedules`,\n      removeWorkSchedule: `${secret.API_URL}/work-schedules/{workScheduleID}`\n    },\n    WorkShift: {\n      addWorkShift: `${secret.API_URL}/work-shifts`,\n      removeWorkShift: `${secret.API_URL}/work-shifts/{workShiftID}`\n    },\n    WorkAssignment: {\n      addWorkAssignments: `${secret.API_URL}/work-assignments`,\n      removeWorkAssignment: `${secret.API_URL}/work-assignments/{workAssignmentID}`\n    }\n  },\n  Importer: {\n    ProductManagement: {\n      addCategory: `${secret.API_URL}/categories`,\n      getCategories: `${secret.API_URL}/categories`,\n      getCategoryProducts: `${secret.API_URL}/categories/{categoryID}/products`,\n      updateCategory: `${secret.API_URL}/categories/{categoryID}`,\n      removeCategory: `${secret.API_URL}/categories/{categoryID}`,\n\n      getSuppliers: `${secret.API_URL}/suppliers`,\n      addSupplier: `${secret.API_URL}/suppliers`,\n      removeSupplier: `${secret.API_URL}/suppliers/{supplierID}`,\n      updateSupplier: `${secret.API_URL}/suppliers/{supplierID}`,\n\n      addProduct: `${secret.API_URL}/products`,\n      updateProduct: `${secret.API_URL}/products/{productID}`,\n      removeProduct: `${secret.API_URL}/products/{productID}`,\n\n      getProductActionLogs: `${secret.API_URL}/product-action-logs`\n    },\n    ImporterAssignmentManagement: {\n      getImporterAssignments: `${secret.API_URL}/users/importer-assignments`\n    }\n  }\n}","export const COOKIE_NAMES = {\n  token: 'token',\n  user: 'user'\n}","import { APP_LOADING, LOGIN_SUCCESS, SET_CURRENT_PAGE_TITLE, SET_SIDEBAR_SELECTED_INDEX } from './types.action';\n\n// App authentication\nexport const login = (user, token) => ({ type: LOGIN_SUCCESS, user, token });\n\n// App utilities\nexport const setAppLoading = (isLoading) => ({ type: APP_LOADING, isLoading });\nexport const setCurrentPageTitle = (title, icon) => ({ type: SET_CURRENT_PAGE_TITLE, title, icon });\nexport const setSidebarSelectedIndex = (sidebarSelectedIndex) => ({ type: SET_SIDEBAR_SELECTED_INDEX, sidebarSelectedIndex });","export const APP_LOADING = 'APP_LOADING';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const SET_CURRENT_PAGE_TITLE = 'CURRENT_PAGE_TITLE';\nexport const SET_SIDEBAR_SELECTED_INDEX = 'SET_SIDEBAR_SELECTED_INDEX';","import React from 'react';\n\nexport default class BasePage extends React.Component {\n  abortController = new AbortController();\n\n  componentWillUnmount() {\n    this.abortController.abort();\n  }\n}","export default {\n  CASHIER: {\n    type: 'CASHIER',\n    name: 'NV Thu ngân'\n  },\n  IMPORTER: {\n    type: 'IMPORTER',\n    name: 'NV Nhập hàng'\n  },\n  MANAGER: {\n    type: 'MANAGER',\n    name: 'NV Quản lý'\n  },\n  USER: {\n    type: 'USER',\n    name: 'Người dùng'\n  }\n}","import React, { Component } from 'react';\nimport { Avatar, Row, Col } from 'antd';\nimport { withCookies } from 'react-cookie';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport USER_ROLES from '../../../../constants/user-role.constant';\nimport './Profile.style.scss';\nimport * as moment from 'moment';\n\nclass Profile extends Component {\n  render() {\n    const user = this.props.cookies.get(COOKIE_NAMES.user);\n    const userFields = Object.keys(user)\n      .filter(k => !['fullname', 'avatar', 'role', 'updatedAt', '__v'].includes(k))\n      .map(k => {\n        switch (k) {\n          case '_id': return { index: 0, name: 'ID', value: user[k] };\n          case 'dateOfBirth': return { index: 1, name: 'Ngày sinh', value: user[k] };\n          case 'sex': return { index: 2, name: 'Giới tính', value: user[k] };\n          case 'email': return { index: 3, name: 'Email', value: user[k] };\n          case 'phone': return { index: 4, name: 'Số điện thoại', value: user[k] };\n          case 'address': return { index: 5, name: 'Địa chỉ', value: user[k] };\n          case 'salaryRate': return { index: 6, name: 'Hệ số lương', value: user[k] };\n          case 'createdAt': return { index: 7, name: 'Ngày tham gia', value: moment(user[k]).format('DD-MM-YYYY') };\n          default: return {};\n        }\n      })\n      .sort((a, b) => a.index - b.index);\n\n    return (\n      <div className=\"profile\">\n        <div className=\"profile__main animated fadeInUp\">\n          <div className=\"profile__main__header\">\n            <Avatar\n              className=\"profile__main__header__user-avatar\"\n              size={65}\n              src={user.avatar} />\n            <div className=\"profile__main__header__user-info\">\n              <div className=\"profile__main__header__user-info__name\"><span>{user.fullname}</span></div>\n              <div className=\"profile__main__header__user-info__role\"><span>{USER_ROLES[user.role].name}</span></div>\n            </div>\n          </div>\n          <Row className=\"profile__main__body\">\n            <Col span={8}>\n              <ul className=\"profile__main__body__list-user-fields\">\n                {userFields.map((field, index) => (\n                  <li key={index}>{field.name}</li>\n                ))}\n              </ul>\n            </Col>\n            <Col span={16}>\n              <ul className=\"profile__main__body__list-user-values\">\n                {userFields.map((field, index) => (\n                  <li key={index} className={`${field.name === 'ID' ? '--highline' : ''}`}>{field.value}</li>\n                ))}\n              </ul>\n            </Col>\n          </Row>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withCookies(Profile);\n","import React from 'react';\nimport { Form, Input, Button, message } from 'antd';\nimport { SafetyOutlined } from '@ant-design/icons'\nimport './ChangePassword.style.scss';\nimport { API } from '../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport { withCookies } from 'react-cookie';\nimport * as actions from '../../../../redux/actions';\nimport { connect } from 'react-redux';\nimport PageBase from '../../../utilities/PageBase/PageBase';\n\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 16,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16,\n  },\n};\n\nclass ChangePassword extends PageBase {\n  constructor(props) {\n    super(props);\n    this.formRef = React.createRef();\n  }\n\n  onFinish = async (values) => {\n    try {\n      this.props.setAppLoading(true);\n      const params = { ...values };\n      const res = await (\n        await fetch(\n          API.User.changePassword,\n          {\n            method: 'PUT',\n            body: JSON.stringify(params),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.formRef.current.resetFields();\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"change-password\">\n        <div className=\"change-password__content animated jackInTheBox\">\n          <div className=\"change-password__content__icon-wrapper\">\n            <SafetyOutlined className=\"change-password__content__icon-wrapper__icon\" />\n          </div>\n          <Form\n            {...layout}\n            ref={this.formRef}\n            onFinish={values => this.onFinish(values)}\n            onFinishFailed={() => message.error('Vui lòng kiểm tra lại thông tin')}\n            className=\"change-password__content__form\"\n          >\n            <Form.Item\n              label=\"Mật khẩu hiện tại\"\n              name=\"currentPassword\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập mật khẩu hiện tại',\n                },\n              ]}\n            >\n              <Input.Password autoFocus={true} />\n            </Form.Item>\n\n            <Form.Item\n              label=\"Mật khẩu mới\"\n              name=\"newPassword\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập mật khẩu mới',\n                },\n              ]}\n            >\n              <Input.Password />\n            </Form.Item>\n\n            <Form.Item\n              label=\"Nhập lại mật khẩu\"\n              name=\"confirmedNewPassword\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập lại mật khẩu mới',\n                },\n              ]}\n            >\n              <Input.Password />\n            </Form.Item>\n\n            <Form.Item {...tailLayout}>\n              <Button shape=\"round\" htmlType=\"submit\" className=\"change-password__content__form__btn-submit\">\n                Lưu thay đổi\n              </Button>\n            </Form.Item>\n          </Form>\n        </div>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(ChangePassword));","import React, { Component } from 'react';\nimport { Row, Col, Divider } from 'antd';\nimport NumberFormat from 'react-number-format';\nimport './BillToPrint.style.scss';\nimport moment from 'moment';\nimport QRCode from 'qrcode.react';\nimport { COOKIE_NAMES } from '../../../../../../constants/cookie-name.constant';\nimport { withCookies } from 'react-cookie';\n\nclass BillToPrint extends Component {\n  render() {\n    const { checkoutSession } = this.props;\n    return (\n      <div className=\"money-counting__submit-checkout-session-dialog__bill\">\n        <div className=\"money-counting__submit-checkout-session-dialog__bill__header\">\n          <div className=\"money-counting__submit-checkout-session-dialog__bill__header__company\">\n            <img className=\"money-counting__submit-checkout-session-dialog__bill__header__company__logo\" src={require('../../../../../../assets/images/app-logo.png')} alt=\"logo\" />\n            <div className=\"money-counting__submit-checkout-session-dialog__bill__header__company__brand\">\n              <div className=\"money-counting__submit-checkout-session-dialog__bill__header__company__brand__name\"><span>Mini Mart</span></div>\n              <div className=\"money-counting__submit-checkout-session-dialog__bill__header__company__brand__slogan\"><span>Tiện Lợi mà Chất Lượng</span></div>\n            </div>\n          </div>\n        </div>\n        <div className=\"money-counting__submit-checkout-session-dialog__bill__title\">\n          <span>HÓA ĐƠN THANH TOÁN</span>\n        </div>\n        <div className=\"money-counting__submit-checkout-session-dialog__bill__details\">\n          <Row>\n            <Col span={8}>Địa chỉ:</Col>\n            <Col span={16}>227 Nguyễn Văn Cừ, Quận 5</Col>\n          </Row>\n          <Row>\n            <Col span={8}>Vào lúc:</Col>\n            <Col span={16}>{moment(checkoutSession.submittedAt).format('HH:mm DD-MM-YYYY')}</Col>\n          </Row>\n          <Row>\n            <Col span={8}>Thu ngân:</Col>\n            <Col span={16}>{this.props.cookies.get(COOKIE_NAMES.user)._id}</Col>\n          </Row>\n        </div>\n        <Divider />\n        <ul className=\"money-counting__submit-checkout-session-dialog__bill__list-items\">\n          <li style={{ fontWeight: 'bold', paddingBottom: 10 }}>\n            <Row>\n              <Col span={10}>Sản phẩm</Col>\n              <Col span={7}><center>SL</center></Col>\n              <Col span={7}>Thành tiền</Col>\n            </Row>\n          </li>\n          {checkoutSession.soldItems.map(item => (\n            <li key={item._id}>\n              <Row>\n                <Col span={10}>{item.product.name}</Col>\n                <Col span={7}><center>{item.quantity}</center></Col>\n                <Col span={7}>\n                  <NumberFormat\n                    value={Number(item.product.price * item.quantity)}\n                    displayType=\"text\"\n                    thousandSeparator={true}\n                  />\n                </Col>\n              </Row>\n            </li>\n          ))}\n        </ul>\n        <Divider />\n        <div className=\"money-counting__submit-checkout-session-dialog__bill__price-total\">\n          <Row>\n            <Col span={10}>Tổng tiền</Col>\n            <Col span={7}></Col>\n            <Col span={7}>\n              <NumberFormat\n                value={Number(checkoutSession.priceTotal)}\n                displayType=\"text\"\n                thousandSeparator={true}\n                suffix={' đ̲'}\n              />\n            </Col>\n          </Row>\n        </div>\n        <div className=\"money-counting__submit-checkout-session-dialog__bill__qrcode\">\n          <QRCode\n            value={checkoutSession._id}\n            fgColor={'gray'}\n          />\n        </div>\n      </div>\n    )\n  }\n}\nexport default withCookies(BillToPrint);","import React from 'react';\nimport { Button, Modal, Tooltip, message, notification } from 'antd';\nimport { PrinterOutlined, ArrowRightOutlined } from '@ant-design/icons';\nimport './SubmitCheckoutSessionDialog.style.scss';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport { connect } from 'react-redux';\nimport { withCookies } from 'react-cookie';\nimport * as actions from '../../../../../redux/actions';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport moment from 'moment';\nimport BillToPrint from './BillToPrint/BillToPrint';\nimport ReactToPrint from 'react-to-print';\nimport { API } from '../../../../../constants/api.constant';\nimport * as _ from 'lodash';\n\nclass SubmitCheckoutSessionDialog extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false,\n      checkoutSession: {}\n    }\n  }\n\n  openNotification = (message, description, placement) => {\n    notification['warning']({\n      message,\n      description,\n      placement,\n      duration: null\n    });\n  };\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  onOK() {\n    document.getElementById('money-counting-submit-checkout-session-dialog-btn-print-bill').click();\n  }\n\n  async submitCheckoutSession() {\n    try {\n      const { checkoutSessionID, checkedOutProducts } = this.props;\n      const params = { products: checkedOutProducts.map(p => p._id) };\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Cashier.Checkout.submitCheckoutSession.replace('{checkoutSessionID}', checkoutSessionID),\n          {\n            method: 'PUT',\n            body: JSON.stringify(params),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        if (res.status === 404 && res.data) {\n          const { notExistedProductIDs } = res.data;\n          let notExistedProducts = checkedOutProducts\n            .filter(p => _.findIndex(notExistedProductIDs, id => id === p._id) >= 0);\n          notExistedProducts = _.uniqBy(notExistedProducts, '_id');\n          this.notifyNotExistedProducts(notExistedProducts, res.errors[0]);\n          return;\n        }\n\n        if (res.status === 400 && res.data) {\n          this.props.loadLackingItems(res.data.lackingItems);\n          this.props.setLackingItemsDialogVisible(true);\n          return;\n        }\n\n        message.error(res.errors[0]);\n        return;\n      }\n\n      const { checkoutSession } = res.data;\n      this.setState({ checkoutSession });\n      this.props.setCheckoutDoneScreenVisible(true);\n      this.props.setMainPanelOnWorking(false);\n      this.setDialogVisible(true);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  notifyNotExistedProducts(products, message) {\n    this.openNotification(\n      message,\n      <ul style={{ paddingLeft: 18 }}>\n        {products.map(p => (\n          <li key={p._id}>{p.name}</li>\n        ))}\n      </ul>,\n      'bottomRight'\n    )\n  }\n\n  render() {\n    const { checkedOutProducts } = this.props;\n    const { checkoutSession } = this.state;\n    return (\n      <div className=\"money-counting__submit-checkout-session-dialog\">\n        <Button\n          className=\"money-counting__submit-checkout-session-dialog__btn-open\"\n          type=\"primary\"\n          disabled={checkedOutProducts.length === 0}\n          onClick={() => this.submitCheckoutSession()}\n        >\n          <span style={{ marginRight: 5 }}>Hoàn tất tính tiền</span>\n          <ArrowRightOutlined />\n        </Button>\n\n        <Modal\n          className=\"money-counting__submit-checkout-session-dialog__content\"\n          title={\n            <span style={{ color: '#ff8220', fontWeight: 'bold' }}>\n              Hóa đơn bán hàng | Lúc {moment(checkoutSession.submittedAt).format('HH:mm DD-MM-YYYY')}\n            </span>\n          }\n          visible={this.state.isVisible}\n          onOk={() => this.onOK()}\n          onCancel={() => this.setDialogVisible(false)}\n          okText=\"In hóa đơn\"\n          okButtonProps={{ style: { display: 'none' } }}\n          cancelButtonProps={{ style: { display: 'none' } }}\n          maskClosable={false}\n        >\n          {Object.keys(checkoutSession).length > 0 ? (\n            <div className=\"money-counting__submit-checkout-session-dialog__content__bill\">\n              <div className=\"money-counting__submit-checkout-session-dialog__content__bill__toolbar\">\n                <Tooltip title=\"In hóa đơn\" placement=\"left\">\n                  <Button\n                    className=\"money-counting__submit-checkout-session-dialog__content__bill__toolbar__item\"\n                    shape=\"circle\"\n                    icon={<PrinterOutlined />}\n                    onClick={() => this.onOK()}\n                  />\n                </Tooltip>\n              </div>\n              <div className=\"money-counting__submit-checkout-session-dialog__content__bill__wrapper\">\n                <ReactToPrint\n                  trigger={() => (\n                    <Button style={{ display: 'none' }} id=\"money-counting-submit-checkout-session-dialog-btn-print-bill\" />\n                  )}\n                  content={() => this.componentToPrintRef}\n                />\n                <BillToPrint\n                  ref={el => (this.componentToPrintRef = el)}\n                  checkoutSession={{ ...checkoutSession }}\n                />\n              </div>\n            </div>\n          ) : <></>}\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(SubmitCheckoutSessionDialog));","import React from 'react';\nimport { Modal, Table, Button, message } from 'antd';\nimport { ExclamationCircleFilled } from '@ant-design/icons';\nimport './ImportingRequestDialog.style.scss';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../../redux/actions';\nimport { withCookies } from 'react-cookie';\nimport { API } from '../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\n\nclass ImportingRequestDialog extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false\n    }\n  }\n\n  componentWillReceiveProps(props) {\n    const { isVisible } = props;\n    this.setDialogVisible(isVisible);\n  }\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  async sendImportingRequest() {\n    try {\n      const params = {\n        products: this.props.lackingItems.map(item => item.product._id)\n      }\n\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Cashier.Checkout.createImportingRequest,\n          {\n            method: 'POST',\n            body: JSON.stringify(params),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      message.success(res.messages[0]);\n      this.setDialogVisible(false);\n      this.props.setLackingItemsDialogVisible(false);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    let { lackingItems } = this.props;\n    lackingItems = lackingItems.map(item => ({ ...item, key: item.product._id }));\n    const columns = [\n      {\n        title: 'Sản phẩm',\n        dataIndex: 'productName',\n        key: 'productName',\n        render: (value, record) => (\n          <div>\n            <img src={record.product.image} alt=\"\" />\n            <span>{record.product.name}</span>\n          </div>\n        )\n      },\n      {\n        title: <center>SL yêu cầu</center>,\n        dataIndex: 'requiredQuantity',\n        key: 'requiredQuantity',\n        width: 100,\n        render: value => <center>{value}</center>\n      },\n      {\n        title: <center>SL hiện có</center>,\n        dataIndex: 'availableQuantity',\n        key: 'availableQuantity',\n        width: 100,\n        render: value => <center>{value}</center>\n      },\n    ];\n\n    return (\n      <div className=\"importing-request-dialog\">\n        <Modal\n          className=\"importing-request-dialog__content\"\n          title={\n            <div className=\"importing-request-dialog__content__title\">\n              <ExclamationCircleFilled className=\"importing-request-dialog__content__title__icon\" />\n              <span className=\"importing-request-dialog__content__title__text\">Sản phẩm không đủ</span>\n            </div>\n          }\n          visible={this.state.isVisible}\n          footer={null}\n          onCancel={() => {\n            this.setDialogVisible(false);\n            this.props.setLackingItemsDialogVisible(false);\n          }}\n          maskClosable={false}\n        >\n          <Table\n            dataSource={lackingItems}\n            columns={columns}\n            pagination={false}\n            scroll={{ y: 300 }}\n          />\n          <div className=\"importing-request-dialog__content__btn-send-request\">\n            <Button\n              className=\"importing-request-dialog__content__btn-send-request__btn\"\n              type=\"primary\"\n              shape=\"round\"\n              onClick={() => this.sendImportingRequest()}\n            >\n              Gửi yêu cầu nhập hàng\n            </Button>\n          </div>\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(ImportingRequestDialog));","import React from 'react';\nimport './MoneyCounting.style.scss';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nimport { withCookies } from 'react-cookie';\nimport QrReader from 'react-qr-reader';\nimport { Row, Col, Empty, notification, Button, Tooltip, Table, Modal, message } from 'antd';\nimport { ReloadOutlined, ShoppingCartOutlined, QuestionCircleOutlined, ArrowLeftOutlined, ExclamationCircleOutlined, DeleteFilled, CheckCircleOutlined } from '@ant-design/icons';\nimport NumberFormat from 'react-number-format';\nimport checkoutSound from '../../../../assets/sounds/cashing.wav';\nimport rejectingSound from '../../../../assets/sounds/rejecting.wav';\nimport warningSound from '../../../../assets/sounds/warning.wav';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../redux/actions';\nimport { API } from '../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport SubmitCheckoutSessionDialog from './SubmitCheckoutSessionDialog/SubmitCheckoutSessionDialog';\nimport * as _ from 'lodash';\nimport ImportingRequestDialog from './ImportingRequestDialog/ImportingRequestDialog';\n\nconst { confirm } = Modal;\n\nclass MoneyCounting extends PageBase {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tscannedProduct: {},\n\t\t\tavailableProducts: [],\n\t\t\tcheckedOutProducts: [],\n\t\t\tpriceTotal: 0,\n\t\t\tonWorking: false,\n\t\t\tsound: '',\n\t\t\tcheckoutSessionID: '',\n\t\t\tisCheckoutDoneScreenVisible: false,\n\t\t\tlackingItems: [],\n\t\t\tisLackingItemsDialogVisible: false\n\t\t}\n\t\tthis.soundRef = React.createRef();\n\t}\n\n\tclearAllStates() {\n\t\tthis.setState({\n\t\t\tscannedProduct: {},\n\t\t\tcheckedOutProducts: [],\n\t\t\tpriceTotal: 0,\n\t\t\tonWorking: false,\n\t\t\tsound: '',\n\t\t\tcheckoutSessionID: '',\n\t\t\tisCheckoutDoneScreenVisible: false\n\t\t});\n\t}\n\n\tasync createCheckoutSession() {\n\t\ttry {\n\t\t\tthis.props.setAppLoading(true);\n\t\t\tconst res = await (\n\t\t\t\tawait fetch(\n\t\t\t\t\tAPI.Cashier.Checkout.createCheckoutSession,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-type': 'application/json; charset=UTF-8',\n\t\t\t\t\t\t\t'token': this.props.cookies.get(COOKIE_NAMES.token)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsignal: this.abortController.signal\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t).json();\n\n\t\t\tthis.props.setAppLoading(false);\n\t\t\tif (res.status !== 200) {\n\t\t\t\tmessage.error(res.errors[0]);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { _id } = res.data.checkoutSession;\n\t\t\tconst { availableProducts } = res.data;\n\t\t\tmessage.success(res.messages[0]);\n\n\t\t\tthis.setOnWorking(true);\n\t\t\tthis.props.setCheckoutPanelCheckoutSessionID(_id);\n\t\t\tthis.setState({\n\t\t\t\tcheckoutSessionID: _id,\n\t\t\t\tavailableProducts\n\t\t\t});\n\t\t} catch (error) {\n\t\t\treturn error;\n\t\t}\n\t}\n\n\tasync cancelCheckoutSession() {\n\t\ttry {\n\t\t\tthis.props.setAppLoading(true);\n\t\t\tconst res = await (\n\t\t\t\tawait fetch(\n\t\t\t\t\tAPI.Cashier.Checkout.cancelCheckoutSession.replace('{checkoutSessionID}', this.state.checkoutSessionID),\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-type': 'application/json; charset=UTF-8',\n\t\t\t\t\t\t\t'token': this.props.cookies.get(COOKIE_NAMES.token)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsignal: this.abortController.signal\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t).json();\n\n\t\t\tthis.props.setAppLoading(false);\n\t\t\tif (res.status !== 200) {\n\t\t\t\tmessage.error(res.errors[0]);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.setOnWorking(false);\n\t\t\tmessage.success(res.messages[0]);\n\t\t} catch (error) {\n\t\t\treturn error;\n\t\t}\n\t}\n\n\topenNotification = (message, description, placement) => {\n\t\tnotification.open({\n\t\t\tmessage,\n\t\t\tdescription,\n\t\t\tplacement\n\t\t});\n\t};\n\n\topenNotExistedProductNotification() {\n\t\tnotification['warning']({\n\t\t\tmessage: 'Cảnh báo',\n\t\t\tdescription: 'Sản phẩm này không có trong siêu thị'\n\t\t});\n\t}\n\n\thandleScan = data => {\n\t\tif (data) {\n\t\t\tconst { availableProducts } = this.state;\n\t\t\tconst productID = data;\n\t\t\tconst index = _.findIndex(availableProducts, ap => ap._id === productID);\n\t\t\tif (index < 0) {\n\t\t\t\tthis.playSound(warningSound);\n\t\t\t\tthis.openNotExistedProductNotification();\n\t\t\t\tthis.clearScannedProduct();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.playSound(checkoutSound);\n\t\t\tconst productDetails = { ...availableProducts[index] };\n\t\t\tthis.openNotification(\n\t\t\t\t<span>\n\t\t\t\t\t<span style={{ color: '#44b543', fontWeight: 'bold', marginRight: 10 }}>+1</span>\n\t\t\t\t\t{productDetails.name}\n\t\t\t\t</span>,\n\t\t\t\t`Vừa xong`,\n\t\t\t\t'topRight'\n\t\t\t);\n\n\t\t\tlet { checkedOutProducts, priceTotal } = this.state;\n\t\t\tcheckedOutProducts.push({\n\t\t\t\t_id: productDetails._id,\n\t\t\t\tkey: productDetails._id,\n\t\t\t\torder: checkedOutProducts.length + 1,\n\t\t\t\tname: productDetails.name,\n\t\t\t\tprice: productDetails.price,\n\t\t\t\tcategory: productDetails.category.name,\n\t\t\t\tsupplier: productDetails.supplier.name,\n\t\t\t\timage: productDetails.image\n\t\t\t});\n\n\t\t\tpriceTotal = checkedOutProducts.reduce((pre, cur) => {\n\t\t\t\treturn pre + cur.price;\n\t\t\t}, 0);\n\n\t\t\tthis.setState({\n\t\t\t\tscannedProduct: { ...productDetails },\n\t\t\t\tcheckedOutProducts,\n\t\t\t\tpriceTotal\n\t\t\t});\n\t\t}\n\t}\n\n\thandleError = error => {\n\t\tif (error) {\n\t\t\tmessage.error(error);\n\t\t}\n\t}\n\n\tclearScannedProduct() {\n\t\tthis.setState({ scannedProduct: {} });\n\t}\n\n\tplaySound(sound) {\n\t\tthis.soundRef.src = sound;\n\t\tthis.soundRef.play();\n\t}\n\n\tsetOnWorking(onWorking) {\n\t\tthis.setState({ onWorking });\n\t\tthis.props.setCheckoutPanelOnWorking(onWorking);\n\t}\n\n\tbackToGettingStarted() {\n\t\tconst that = this;\n\t\tconfirm({\n\t\t\ttitle: `Đang thao tác, bạn có muốn rời khỏi?`,\n\t\t\ticon: <ExclamationCircleOutlined />,\n\t\t\tcontent: '',\n\t\t\tokText: 'Đồng ý',\n\t\t\tokType: 'danger',\n\t\t\tcancelText: 'Không, cảm ơn',\n\t\t\tonOk() {\n\t\t\t\tthat.cancelCheckoutSession();\n\t\t\t}\n\t\t});\n\t}\n\n\topenRemoveCheckoutProductConfirm(product) {\n\t\tconst that = this;\n\t\tconfirm({\n\t\t\ttitle: `Bạn muốn loại bỏ 1 ${product.name}?`,\n\t\t\ticon: <ExclamationCircleOutlined />,\n\t\t\tcontent: '',\n\t\t\tokText: 'Đồng ý',\n\t\t\tokType: 'danger',\n\t\t\tcancelText: 'Không, cảm ơn',\n\t\t\tonOk() {\n\t\t\t\tlet { checkedOutProducts, priceTotal } = that.state;\n\t\t\t\tcheckedOutProducts = checkedOutProducts.filter(p => p.order !== product.order);\n\t\t\t\tcheckedOutProducts.sort((a, b) => a.order - b.order);\n\t\t\t\tpriceTotal -= product.price;\n\n\t\t\t\tif (product.order === that.state.scannedProduct.order || checkedOutProducts.length === 0)\n\t\t\t\t\tthat.clearScannedProduct();\n\n\t\t\t\tthat.setState({ checkedOutProducts, priceTotal });\n\n\t\t\t\tthat.playSound(rejectingSound);\n\t\t\t\tthat.openNotification(\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<span style={{ color: 'crimson', fontWeight: 'bold', marginRight: 10 }}>-1</span>\n\t\t\t\t\t\t{product.name}\n\t\t\t\t\t</span>,\n\t\t\t\t\t`Vừa xong`,\n\t\t\t\t\t'topRight'\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}\n\n\tsetCheckoutDoneScreenVisible(isVisible) {\n\t\tthis.setState({ isCheckoutDoneScreenVisible: isVisible });\n\t}\n\n\tcontinueToCheckout() {\n\t\tthis.clearAllStates();\n\t\tthis.createCheckoutSession();\n\t\tthis.props.setMainPanelOnWorking(true);\n\t}\n\n\tloadLackingItems(lackingItems) {\n\t\tthis.setState({ lackingItems });\n\t}\n\n\tsetLackingItemsDialogVisible(isVisible) {\n\t\tthis.setState({ isLackingItemsDialogVisible: isVisible });\n\t}\n\n\trender() {\n\t\tconst { scannedProduct, checkedOutProducts, priceTotal, onWorking, lackingItems } = this.state;\n\t\tconst isProductScanned = Object.keys(scannedProduct).length > 0;\n\n\t\tconst columns = [\n\t\t\t{\n\t\t\t\ttitle: <center>STT</center>,\n\t\t\t\tdataIndex: 'order',\n\t\t\t\tkey: 'order',\n\t\t\t\twidth: 80,\n\t\t\t\trender: order => <center>{order}</center>\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Sản phẩm',\n\t\t\t\tdataIndex: 'name',\n\t\t\t\tkey: 'name',\n\t\t\t\twidth: 250,\n\t\t\t\trender: (text, record) => (\n\t\t\t\t\t<div className=\"money-counting__panel__right__shopping-cart__list-products__item\">\n\t\t\t\t\t\t{record.image ? (<img src={record.image} alt=\"product\" />) : (<QuestionCircleOutlined />)}\n\t\t\t\t\t\t<span className=\"money-counting__panel__right__shopping-cart__list-products__item__name\">{text}</span>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Giá bán',\n\t\t\t\tdataIndex: 'price',\n\t\t\t\tkey: 'price',\n\t\t\t\twidth: 150,\n\t\t\t\trender: (text) => (\n\t\t\t\t\t<NumberFormat\n\t\t\t\t\t\tvalue={Number(text)}\n\t\t\t\t\t\tdisplayType=\"text\"\n\t\t\t\t\t\tthousandSeparator={true}\n\t\t\t\t\t\tsuffix=\" đ̲\"\n\t\t\t\t\t\tstyle={{ fontWeight: 'bold' }}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Danh mục',\n\t\t\t\tdataIndex: 'category',\n\t\t\t\tkey: 'category',\n\t\t\t\twidth: 150\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Nhà cung cấp',\n\t\t\t\tdataIndex: 'supplier',\n\t\t\t\tkey: 'supplier',\n\t\t\t\twidth: 150\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '',\n\t\t\t\tdataIndex: '',\n\t\t\t\tkey: '',\n\t\t\t\trender: (value, record) => (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"money-counting__panel__right__shopping-cart__list-products__btn-remove-item\"\n\t\t\t\t\t\tshape=\"circle\"\n\t\t\t\t\t\ticon={<DeleteFilled />}\n\t\t\t\t\t\tonClick={() => this.openRemoveCheckoutProductConfirm({ ...record })}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t];\n\n\t\treturn (\n\t\t\t<div className=\"money-counting\">\n\t\t\t\t{!onWorking ? (\n\t\t\t\t\t<div className=\"money-counting__getting-started animated fadeIn\">\n\t\t\t\t\t\t<div className=\"money-counting__getting-started__content\">\n\t\t\t\t\t\t\t<div className=\"money-counting__getting-started__content__left animated bounceInLeft\">\n\t\t\t\t\t\t\t\t<h1 className=\"money-counting__getting-started__content__left__title\">\n\t\t\t\t\t\t\t\t\tTính tiền cho khách\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tclassName=\"money-counting__getting-started__content__left__btn-start\"\n\t\t\t\t\t\t\t\t\tonClick={() => this.createCheckoutSession()}\n\t\t\t\t\t\t\t\t>Bắt đầu tính tiền</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"money-counting__getting-started__content__right-cover\">\n\t\t\t\t\t\t\t\t<div className=\"money-counting__getting-started__content__right-cover__img\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"money-counting__getting-started__bottom-wave\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1440 320\">\n\t\t\t\t\t\t\t\t<path fill=\"url(#my-cool-gradient)\" fillOpacity={1}\n\t\t\t\t\t\t\t\t\td=\"M0,256L48,250.7C96,245,192,235,288,197.3C384,160,480,96,576,74.7C672,53,768,75,864,112C960,149,1056,203,1152,192C1248,181,1344,107,1392,69.3L1440,32L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<linearGradient id=\"my-cool-gradient\" x2=\"1\" y2=\"1\">\n\t\t\t\t\t\t\t\t\t<stop offset=\"0%\" stopColor=\"#ff5858\" />\n\t\t\t\t\t\t\t\t\t<stop offset=\"100%\" stopColor=\"#f09819\" />\n\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t\t<div style={{ height: '100%' }}>\n\t\t\t\t\t\t\t<ImportingRequestDialog\n\t\t\t\t\t\t\t\tlackingItems={[...lackingItems]}\n\t\t\t\t\t\t\t\tisVisible={this.state.isLackingItemsDialogVisible}\n\t\t\t\t\t\t\t\tsetLackingItemsDialogVisible={isVisible => this.setLackingItemsDialogVisible(isVisible)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<audio ref={ref => { this.soundRef = ref; }} src=\"\" controls autoPlay style={{ display: 'none' }} />\n\t\t\t\t\t\t\t<div className=\"money-counting__panel\">\n\t\t\t\t\t\t\t\t{this.state.isCheckoutDoneScreenVisible ? (\n\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__checkout-done\">\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"money-counting__panel__checkout-done__title\">\n\t\t\t\t\t\t\t\t\t\t\tPhiên tính tiền đã hoàn tất\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t\t<CheckCircleOutlined className=\"money-counting__panel__checkout-done__icon\" />\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"money-counting__panel__checkout-done__btn-continue\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.continueToCheckout()}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tTiếp tục tính tiền\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : <></>}\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<Col span={6}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__left\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__left__header\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tshape=\"circle\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<ArrowLeftOutlined />}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"money-counting__panel__left__header__btn-back\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.backToGettingStarted()}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__left__header__company\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img className=\"money-counting__panel__left__header__company__logo\" src={require('../../../../assets/images/app-logo.png')} alt=\"logo\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__left__header__company__brand\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__left__header__company__brand__name\"><span>Mini Mart</span></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__left__header__company__brand__slogan\"><span>Tiện Lợi mà Chất Lượng</span></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__left__product-scanning animated fadeIn\">\n\t\t\t\t\t\t\t\t\t\t\t\t<QrReader\n\t\t\t\t\t\t\t\t\t\t\t\t\tdelay={1500}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonError={error => this.handleError(error)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonScan={data => this.handleScan(data)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"money-counting__panel__left__product-scanning__scanner\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__left__product-details\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Row align=\"middle\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col span={21}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"money-counting__panel__left__product-details__title\">Thông tin quét mã</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col span={3} align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Làm sạch\" placement=\"bottom\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshape=\"circle\" icon={<ReloadOutlined />}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"money-counting__panel__left__product-details__btn-clear\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.clearScannedProduct()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t{isProductScanned ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Row gutter={20}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col span={8}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className=\"money-counting__panel__left__product-details__labels\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>Tên sản phẩm</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>Giá bán</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>Thể loại</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>Nhà phân phối</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col span={16}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className=\"money-counting__panel__left__product-details__texts\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>{scannedProduct.name}</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<NumberFormat\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={scannedProduct.price}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayType=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthousandSeparator={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuffix=\" đ̲\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontWeight: 'bold' }} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>{scannedProduct.category.name}</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>{scannedProduct.supplier.name}</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Empty\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\timage={Empty.PRESENTED_IMAGE_SIMPLE}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdescription=\"Chưa tìm thấy\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"money-counting__panel__left__product-details__empty\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col span={18}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__right\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__right__header\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Row align=\"middle\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__right__header__title\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__right__header__title__icon-wrapper\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ShoppingCartOutlined className=\"money-counting__panel__right__header__title__icon-wrapper__icon\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__right__header__title__icon-wrapper__total-item\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{checkedOutProducts.length}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Giỏ hàng của khách</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col span={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__right__header__total-price\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"money-counting__panel__right__header__total-price__label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTổng tiền:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<NumberFormat\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={priceTotal}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayType=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthousandSeparator={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuffix=\" đ̲\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"money-counting__panel__right__header__total-price__price\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col span={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SubmitCheckoutSessionDialog\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckedOutProducts={[...checkedOutProducts]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckoutSessionID={this.state.checkoutSessionID}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetCheckoutDoneScreenVisible={isVisible => this.setCheckoutDoneScreenVisible(isVisible)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetMainPanelOnWorking={onWorking => this.props.setMainPanelOnWorking(onWorking)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloadLackingItems={items => this.loadLackingItems(items)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetLackingItemsDialogVisible={isVisible => this.setLackingItemsDialogVisible(isVisible)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__right__shopping-cart\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__right__shopping-cart__list-products\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataSource={[...checkedOutProducts]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpagination={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscroll={{ y: 500 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocale={{ emptyText: (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"Giỏ hàng trống\" />) }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\nexport default connect(null, actions)(withCookies(MoneyCounting));\n","export default {\n  STATUS: {\n    PENDING: {\n      type: 'PENDING',\n      name: 'Đang chờ duyệt'\n    },\n    ACCEPTED: {\n      type: 'ACCEPTED',\n      name: 'Đang thực hiện'\n    },\n    FINISHED: {\n      type: 'FINISHED',\n      name: 'Đã hoàn tất'\n    },\n    CANCELLED: {\n      type: 'CANCELLED',\n      name: 'Đã bị từ chối'\n    }\n  }\n}","import React from 'react';\nimport './ImportingRequestHistory.style.scss';\nimport { withCookies } from 'react-cookie';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../redux/actions';\nimport { MessageOutlined } from '@ant-design/icons';\nimport { Timeline, Empty, message } from 'antd';\nimport moment from 'moment';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport { API } from '../../../../constants/api.constant';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nimport IMPORTING_REQUEST from '../../../../constants/importing-request.constant';\n\nclass ImportingRequestHistory extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      importingRequests: [],\n      isLoading: true\n    }\n  }\n\n  componentDidMount() {\n    this.loadImportingRequests();\n  }\n\n  async loadImportingRequests() {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Cashier.Checkout.getImportingRequests,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.setState({ importingRequests: res.data.importingRequests, isLoading: false });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    const { importingRequests } = this.state;\n    return (\n      <div className=\"importing-request-history\">\n        <div className=\"importing-request-history__header\">\n          <div className=\"importing-request-history__header__title\">\n            <MessageOutlined className=\"importing-request-history__header__title__icon\" />\n            <span className=\"importing-request-history__header__title__text\">Yêu cầu nhập hàng</span>\n          </div>\n        </div>\n        {!this.state.isLoading ? (\n          <div className=\"importing-request-history__content animated slideInUp\">\n            <div className=\"importing-request-history__content__timeline\">\n              {importingRequests.length === 0 ? (\n                <div className=\"importing-request-history__content__timeline__empty\">\n                  <Empty description=\"Chưa có ghi nhận nào\" />\n                </div>\n              ) : (\n                  <Timeline mode=\"left\">\n                    {importingRequests.map(r => {\n                      return r.requiredProducts.length > 0 ? (\n                        <Timeline.Item\n                          key={r._id}\n                          label={r.createdAt ? moment(r.createdAt).format('DD-MM-YYYY HH:mm') : moment().format('DD-MM-YYYY HH:mm')}\n                          color=\"#ff8220\">\n                          <div className=\"importing-request-history__content__timeline__item animated fadeInRight\" style={{ animationDelay: '0.5s' }}>\n                            <p className=\"importing-request-history__content__timeline__item__list-products\">\n                              {r.requiredProducts.map((item, index) => {\n                                return index < r.requiredProducts.length - 1 ? (\n                                  <span key={index}>{`${item.product.name}, `}</span>\n                                ) : (\n                                    <span key={index}>{`${item.product.name}.`}</span>\n                                  )\n                              })}\n                            </p>\n                            <span style={{ color: 'rgba(0,0,0,0.4)' }}>\n                              Trạng thái:\n                              <span\n                                className={`importing-request-history__content__timeline__item__status --${r.status}`}\n                              >\n                                {IMPORTING_REQUEST.STATUS[r.status].name}\n                              </span>\n                            </span>\n                          </div>\n                        </Timeline.Item>\n                      ) : <></>\n                    })}\n                  </Timeline>\n                )}\n            </div>\n          </div>\n        ) : <></>}\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(ImportingRequestHistory));\n","import React from 'react';\nimport './TransactionHistory.style.scss';\nimport { withCookies } from 'react-cookie';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../redux/actions';\nimport { HistoryOutlined } from '@ant-design/icons';\nimport { Timeline, Empty, message } from 'antd';\nimport moment from 'moment';\nimport NumberFormat from 'react-number-format';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport { API } from '../../../../constants/api.constant';\nimport PageBase from '../../../utilities/PageBase/PageBase';\n\nclass TransactionHistory extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      checkoutSessions: [],\n      isLoading: true\n    }\n  }\n\n  componentDidMount() {\n    this.loadCheckoutSessions();\n  }\n\n  async loadCheckoutSessions() {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Cashier.Checkout.getCheckoutSessions,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.setState({ checkoutSessions: res.data.checkoutSessions, isLoading: false });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    const { checkoutSessions } = this.state;\n    return (\n      <div className=\"transaction-history\">\n        <div className=\"transaction-history__header\">\n          <div className=\"transaction-history__header__title\">\n            <HistoryOutlined className=\"transaction-history__header__title__icon\" />\n            <span className=\"transaction-history__header__title__text\">Lịch sử giao dịch</span>\n          </div>\n        </div>\n        {!this.state.isLoading ? (\n          <div className=\"transaction-history__content animated slideInUp\">\n            <div className=\"transaction-history__content__timeline\">\n              {checkoutSessions.length === 0 ? (\n                <div className=\"transaction-history__content__timeline__empty\">\n                  <Empty description=\"Chưa có ghi nhận nào\" />\n                </div>\n              ) : (\n                  <Timeline mode=\"left\">\n                    {checkoutSessions.map(cs => {\n                      return cs.soldItems.length > 0 ? (\n                        <Timeline.Item\n                          key={cs._id}\n                          label={cs.submittedAt ? moment(cs.submittedAt).format('DD-MM-YYYY HH:mm') : moment().format('DD-MM-YYYY HH:mm')}\n                          color=\"#ff8220\">\n                          <div className=\"transaction-history__content__timeline__item animated fadeInRight\" style={{ animationDelay: '0.5s' }}>\n                            <p className=\"transaction-history__content__timeline__item__list-products\">\n                              {cs.soldItems.map((item, index) => {\n                                return index < cs.soldItems.length - 1 ? (\n                                  <span key={index}>{`${item.product.name} x${item.quantity}, `}</span>\n                                ) : (\n                                    <span key={index}>{`${item.product.name} x${item.quantity}.`}</span>\n                                  )\n                              })}\n                            </p>\n                            <div className=\"transaction-history__content__timeline__item__price-total\">\n                              <span className=\"transaction-history__content__timeline__item__price-total__label\">\n                                Tổng tiền:\n                              </span>\n                              <NumberFormat\n                                className=\"transaction-history__content__timeline__item__price-total__number\"\n                                value={Number(cs.priceTotal)}\n                                displayType=\"text\"\n                                thousandSeparator={true}\n                                suffix=\" đ̲\"\n                                style={{ fontWeight: 'bold' }}\n                              />\n                            </div>\n                          </div>\n                        </Timeline.Item>\n                      ) : <span key={cs._id}></span>\n                    })}\n                  </Timeline>\n                )}\n            </div>\n          </div>\n        ) : <></>}\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(TransactionHistory));","import React from 'react';\nimport './CheckoutPanel.style.scss';\nimport { Menu, Modal, message } from 'antd';\nimport {\n  HistoryOutlined,\n  QrcodeOutlined,\n  ExclamationCircleOutlined,\n  MessageOutlined\n} from '@ant-design/icons';\nimport MoneyCounting from '../MoneyCounting/MoneyCounting';\nimport ImportingRequestHistory from '../ImportingRequestHistory/ImportingRequestHistory';\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\nimport { connect } from 'react-redux';\nimport { API } from '../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport * as actions from '../../../../redux/actions';\nimport { withCookies } from 'react-cookie';\nimport PageBase from '../../../utilities/PageBase/PageBase';\n\nconst navbarMenuItems = [\n  {\n    key: '1',\n    title: 'Tính tiền cho khách',\n    icon: QrcodeOutlined\n  },\n  {\n    key: '2',\n    title: 'Yêu cầu nhập hàng',\n    icon: MessageOutlined\n  },\n  {\n    key: '3',\n    title: 'Lịch sử giao dịch',\n    icon: HistoryOutlined\n  }\n];\n\nconst { confirm } = Modal;\n\nclass CheckoutPanel extends PageBase {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      collapsed: false,\n      selectedMenuItem: { ...navbarMenuItems[0] },\n      onWorking: false,\n      checkoutSessionID: ''\n    }\n  }\n\n  toggleCollapsed = () => {\n    this.setState({\n      collapsed: !this.state.collapsed,\n    });\n  };\n\n  setCheckoutSessionID(id) {\n    this.setState({ checkoutSessionID: id });\n  }\n\n  handleSelectMenuItem(e) {\n    const { key } = e;\n\n    if (key === this.state.selectedMenuItem.key)\n      return;\n\n    if (!this.state.onWorking) {\n      this.setState({ selectedMenuItem: navbarMenuItems.find(item => item.key === key) });\n      return;\n    }\n\n    const that = this;\n    confirm({\n      title: `Đang thao tác, bạn có muốn rời khỏi?`,\n      icon: <ExclamationCircleOutlined />,\n      content: '',\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      onOk() {\n        that.cancelCheckoutSession(key);\n      }\n    });\n  }\n\n  setOnWorking(onWorking) {\n    this.setState({ onWorking });\n  }\n\n  async cancelCheckoutSession(key) {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Cashier.Checkout.cancelCheckoutSession.replace('{checkoutSessionID}', this.state.checkoutSessionID),\n          {\n            method: 'DELETE',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.setState({\n        selectedMenuItem: navbarMenuItems.find(item => item.key === key),\n        onWorking: false,\n        checkoutSessionID: ''\n      });\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    const { selectedMenuItem } = this.state;\n    return (\n      <div className=\"checkout-panel\">\n        <div className=\"checkout-panel__main-board\">\n          <div className=\"checkout-panel__main-board__navbar\">\n            <Menu\n              defaultSelectedKeys={['1']}\n              mode=\"inline\"\n              theme=\"dark\"\n              inlineCollapsed={true}\n              onClick={e => this.handleSelectMenuItem(e)}\n            >\n              {navbarMenuItems.map(item => (\n                <Menu.Item key={item.key}\n                  className={`checkout-panel__main-board__navbar__item animated fadeIn ${selectedMenuItem.key === item.key ?\n                    'checkout-panel__main-board__navbar__item--selected' : ''}`}\n                >\n                  <item.icon className=\"checkout-panel__main-board__navbar__item__icon\" />\n                  <span>{item.title}</span>\n                </Menu.Item>\n              ))}\n            </Menu>\n          </div>\n          <div className=\"checkout-panel__main-board__content\">\n            {selectedMenuItem.key === '1' ? (\n              <MoneyCounting\n                setCheckoutPanelOnWorking={onWorking => this.setOnWorking(onWorking)}\n                setCheckoutPanelCheckoutSessionID={checkoutSessionID => this.setCheckoutSessionID(checkoutSessionID)}\n                setMainPanelOnWorking={onWorking => this.setOnWorking(onWorking)}\n              />\n            ) : <></>}\n\n            {selectedMenuItem.key === '2' ? (\n              <ImportingRequestHistory />\n            ) : <></>}\n\n            {selectedMenuItem.key === '3' ? (\n              <TransactionHistory />\n            ) : <></>}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(CheckoutPanel));","import React, { Component } from 'react';\nimport { Upload, message, Tooltip, Avatar } from 'antd';\nimport { LoadingOutlined, PictureOutlined } from '@ant-design/icons';\nimport './ImageUploader.style.scss'\n\nexport default class ImageUpload extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      imageUrl: ''\n    }\n  }\n\n  getBase64(img, callback) {\n    const reader = new FileReader();\n    reader.addEventListener('load', () => callback(reader.result));\n    reader.readAsDataURL(img);\n  }\n\n  beforeUpload(file) {\n    const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n    if (!isJpgOrPng) {\n      message.error('Chỉ cho phép ảnh có định dạng *.jpeg hoặc *.png');\n    }\n    const isLt2M = file.size / 1024 / 1024 < 2;\n    if (!isLt2M) {\n      message.error('Kích thước ảnh quá lớn');\n    }\n    return isJpgOrPng && isLt2M;\n  }\n\n  handleChange = info => {\n    if (info.file.status === 'uploading') {\n      this.setState({ loading: true });\n      return;\n    }\n    if (info.file.status === 'done') {\n      // Get this url from response in real world.\n      this.getBase64(info.file.originFileObj, imageUrl => {\n        this.props.onFinish(imageUrl);\n        this.setState({\n          imageUrl,\n          loading: false\n        });\n      });\n    }\n  };\n\n  componentWillReceiveProps(props) {\n    this.setState({ imageUrl: props.clearImage ? '' : this.state.imageUrl });\n  }\n\n  render() {\n    let { defaultImageUrl, width, height, tooltipTitle, tooltipPlacement, isAvatar } = this.props;\n    let { imageUrl } = this.state;\n\n    const uploadedImage = (\n      <div>\n        {defaultImageUrl ? (\n          <Tooltip title={tooltipTitle} placement={tooltipPlacement}>\n            <div\n              className=\"image-uploader__default-img\"\n              style={{ width, height }}>\n              {isAvatar ? (\n                <Avatar\n                  src={defaultImageUrl}\n                  size={width}\n                />\n              ) : (\n                  <img src={defaultImageUrl} alt=\"default\" />\n                )}\n            </div>\n          </Tooltip>\n        ) : (\n            <div className=\"image-uploader--empty\" style={{ width, height }}>\n              <PictureOutlined />\n              <span className=\"image-uploader--empty__text\">Tải ảnh lên</span>\n            </div>\n          )}\n      </div>\n    );\n\n    const uploadButton = (\n      <div style={{ width, height }} className=\"image-uploader__btn-upload\">\n        {\n          this.state.loading ? (\n            <LoadingOutlined />\n          ) : uploadedImage\n        }\n      </div>\n    );\n\n    return (\n      <div className=\"image-uploader\" style={{ width, height }}>\n        <Upload\n          name=\"avatar\"\n          listType=\"picture-card\"\n          showUploadList={false}\n          action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n          beforeUpload={e => this.beforeUpload(e)}\n          onChange={e => this.handleChange(e)}\n        >\n          {imageUrl ? (\n            <Tooltip title={tooltipTitle} placement={tooltipPlacement}>\n              <div\n                className=\"image-uploader__uploaded-img\"\n                style={{ width, height }}>\n                {isAvatar ? (\n                  <Avatar\n                    src={imageUrl}\n                    size={width}\n                  />\n                ) : (\n                    <img src={imageUrl} alt=\"uploaded\" />\n                  )}\n              </div>\n            </Tooltip>\n          ) : uploadButton}\n        </Upload>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport './AddProductDialog.style.scss';\nimport { withCookies } from 'react-cookie';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../../redux/actions';\nimport { Button, Modal, Form, Input, InputNumber, message, Select } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport ImageUploader from '../../../../utilities/ImageUploader/ImageUploader';\nimport { API } from '../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\n\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 18 },\n};\n\nclass AddProductDialog extends PageBase {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false\n    }\n\n    this.formRef = React.createRef();\n  }\n\n  setDialogVisible(isVisible) {\n    if (this.formRef.current) {\n      this.formRef.current.resetFields();\n    }\n    this.setState({ isVisible });\n  }\n\n  onOK() {\n    document.getElementById('product-management-add-product-dialog-btn-submit').click();\n  }\n\n  async onFinish(values) {\n    try {\n      this.props.setAppLoading(true);\n      const params = {\n        image: values.image,\n        name: values.name,\n        supplierID: values.supplier,\n        categoryID: this.props.selectedCategory._id,\n        price: values.price,\n        availableQuantity: values.availableQuantity\n      }\n      const res = await (\n        await fetch(\n          API.Importer.ProductManagement.addProduct,\n          {\n            method: 'POST',\n            body: JSON.stringify(params),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      const { product } = res.data;\n      this.setDialogVisible(false);\n      this.props.addToListProducts({ ...product });\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    const { selectedCategory } = this.props;\n    return (\n      <div className=\"product-management__add-product-dialog\">\n        <Button\n          shape=\"circle\"\n          icon={<PlusOutlined />}\n          className=\"product-management__add-product-dialog__btn-open animated bounceIn\"\n          onClick={() => this.setDialogVisible(true)}\n        />\n\n        <Modal\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>{`Danh mục: ${selectedCategory.name} | Sản phẩm mới`}</span>}\n          visible={this.state.isVisible}\n          onOk={() => this.onOK()}\n          onCancel={() => this.setDialogVisible(false)}\n          okText=\"Thêm\"\n          cancelText=\"Hủy bỏ\"\n          okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n        >\n          <div className=\"product-management__add-product-dialog__content\">\n            <div className=\"product-management__add-product-dialog__content__img-uploading\">\n              <ImageUploader\n                width={150}\n                height={150}\n                tooltipTitle=\"Nhấn để thay đổi ảnh\"\n                tooltipPlacement=\"bottom\"\n                onFinish={imageUrl => this.formRef.current.setFieldsValue({ image: imageUrl })}\n                clearImage={!this.state.isVisible}\n              />\n            </div>\n            <Form\n              {...layout}\n              ref={current => {\n                this.formRef.current = current;\n                if (this.formRef.current) {\n                  this.formRef.current.setFieldsValue({ supplier: this.props.suppliers[0]._id })\n                }\n              }}\n              className=\"product-management__add-product-dialog__content__form\"\n              onFinish={values => this.onFinish(values)}\n              onFinishFailed={() => message.error('Thông tin sản phẩm chưa đầy đủ, vui lòng kiểm tra lại.')}\n            >\n              <Form.Item name=\"image\" rules={[{ required: true }]} style={{ display: 'none' }}>\n                <Input />\n              </Form.Item>\n\n              <Form.Item style={{ display: 'none' }}>\n                <Button id=\"product-management-add-product-dialog-btn-submit\" htmlType=\"submit\" />\n              </Form.Item>\n\n              <Form.Item\n                name=\"name\"\n                label=\"Tên sản phẩm\"\n                rules={[{ required: true, message: 'Vui lòng nhập tên sản phẩm' }]}\n              >\n                <Input placeholder=\"Tối đa 50 kí tự\" />\n              </Form.Item>\n\n              <Form.Item\n                name=\"supplier\"\n                label=\"Nhà cung cấp\"\n                rules={[{ required: true }]}\n              >\n                <Select>\n                  {this.props.suppliers.map(s => (\n                    <Select.Option value={s._id} key={s._id}>{s.name}</Select.Option>\n                  ))}\n                </Select>\n              </Form.Item>\n\n              <Form.Item\n                name=\"price\"\n                label=\"Giá bán (đ̲)\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Vui lòng nhập giá bán'\n                  }\n                ]}\n              >\n                <InputNumber\n                  placeholder=\"Tối thiểu là 0\"\n                  formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                  parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\n                />\n              </Form.Item>\n\n              <Form.Item\n                name=\"availableQuantity\"\n                label=\"Số lượng hiện có\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Vui lòng nhập số lượng hiện có'\n                  }\n                ]}\n              >\n                <InputNumber\n                  placeholder=\"Tối thiểu là 0\"\n                  formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                  parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\n                />\n              </Form.Item>\n\n            </Form>\n          </div>\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(AddProductDialog));\n\n\n","import React from 'react';\nimport { withCookies } from 'react-cookie';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../../redux/actions';\nimport './AddCategoryDialog.style.scss';\nimport { Modal, Form, Input, Button, message } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport { API } from '../../../../../constants/api.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\n\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 18 },\n};\n\nclass AddCategoryDialog extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false\n    }\n    this.formRef = React.createRef();\n  }\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  onOk() {\n    document.getElementById('add-category-dialog-btn-submit').click();\n  }\n\n  async onFinish(values) {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Importer.ProductManagement.addCategory,\n          {\n            method: 'POST',\n            body: JSON.stringify(values),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.props.addToListCategories(res.data.category);\n      this.setDialogVisible(false);\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"product-management__add-category-dialog\">\n        <div className=\"product-management__add-category-dialog__btn-open-wrapper\">\n          <Button\n            icon={<PlusOutlined />}\n            className=\"product-management__add-category-dialog__btn-open-wrapper__btn animated fadeIn\"\n            onClick={() => this.setDialogVisible(true)} />\n        </div>\n\n        <Modal\n          className=\"product-management__add-category-dialog__content\"\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>Danh mục mới</span>}\n          centered\n          visible={this.state.isVisible}\n          onOk={() => this.onOk()}\n          onCancel={() => {\n            this.setDialogVisible(false);\n            if (this.formRef.current) {\n              this.formRef.current.resetFields();\n            }\n          }}\n          okText=\"Thêm\"\n          cancelText=\"Hủy bỏ\"\n          okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n        >\n          <Form\n            {...layout}\n            ref={current => this.formRef.current = current}\n            onFinish={values => this.onFinish(values)}\n            onFinishFailed={() => message.error('Chưa nhập đầy đủ thông tin, vui lòng kiểm tra lại.')}\n          >\n            <Form.Item\n              name=\"name\"\n              label=\"Tên danh mục\"\n              rules={[{ required: true, message: 'Vui lòng nhập tên danh mục' }]}\n            >\n              <Input placeholder=\"Tối đa 30 kí tự\" autoFocus={true} />\n            </Form.Item>\n            <Form.Item style={{ display: 'none' }}>\n              <Button id=\"add-category-dialog-btn-submit\" htmlType=\"submit\" />\n            </Form.Item>\n          </Form>\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(AddCategoryDialog));","import React from 'react';\nimport { withCookies } from 'react-cookie';\nimport { connect } from 'react-redux';\nimport { Modal, Form, Input, Button, message } from 'antd';\nimport './EditCategoryDialog.style.scss';\nimport * as actions from '../../../../../redux/actions';\nimport { API } from '../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\n\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 18 },\n};\n\nclass EditCategoryDialog extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false\n    }\n    this.formRef = React.createRef();\n  }\n\n  setDialogVisible(isVisible) {\n    if (!isVisible && this.formRef.current) {\n      this.formRef.current.resetFields();\n    }\n    this.setState({ isVisible });\n  }\n\n  onOk() {\n    document.getElementById('edit-category-dialog-btn-submit').click();\n  }\n\n  async onFinish(values) {\n    try {\n      this.props.setAppLoading(false);\n      const res = await (\n        await fetch(\n          API.Importer.ProductManagement.updateCategory.replace('{categoryID}', this.props.category._id),\n          {\n            method: 'PUT',\n            body: JSON.stringify(values),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      const { category } = this.props;\n      category.name = values.name;\n      this.props.updateCategoryInList(category);\n      this.setDialogVisible(false);\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    const { category } = this.props;\n    return (\n      <div className=\"product-management__edit-category-dialog\">\n        <Button\n          type=\"link\"\n          className=\"product-management__edit-category-dialog__btn-open\"\n          onClick={() => this.setDialogVisible(true)}\n        >Chỉnh sửa</Button>\n        <Modal\n          className=\"product-management__edit-category-dialog__content\"\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>{`Danh mục: ${category.name} | Sửa thông tin`}</span>}\n          centered\n          visible={this.state.isVisible}\n          onOk={() => this.onOk()}\n          onCancel={() => this.setDialogVisible(false)}\n          okText=\"Lưu thay đổi\"\n          cancelText=\"Hủy bỏ\"\n          okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n        >\n          <Form\n            {...layout}\n            ref={current => {\n              this.formRef.current = current;\n              if (this.formRef.current) {\n                this.formRef.current.setFieldsValue({\n                  name: this.props.category.name\n                });\n              }\n            }}\n            onFinish={values => this.onFinish(values)}\n            onFinishFailed={() => message.error('Chưa nhập đầy đủ thông tin, vui lòng kiểm tra lại.')}\n          >\n            <Form.Item\n              name=\"name\"\n              label=\"Tên danh mục\"\n              rules={[{ required: true, message: 'Vui lòng nhập tên danh mục' }]}\n            >\n              <Input placeholder=\"Tối đa 30 kí tự\" autoFocus={true} />\n            </Form.Item>\n            <Form.Item style={{ display: 'none' }}>\n              <Button id=\"edit-category-dialog-btn-submit\" htmlType=\"submit\" />\n            </Form.Item>\n          </Form>\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(EditCategoryDialog));\n","import secret from '../config/secret';\n\nexport default {\n  API_KEY: secret.GOOGLE_MAPS_API_KEY,\n  GEOCODING: {\n    LANGUAGE: 'en',\n    REGION: ''\n  }\n}","import React, { Component } from 'react';\nimport Geocode from \"react-geocode\";\nimport GoogleMapReact from 'google-map-react';\nimport './GoogleMap.style.scss';\nimport { Tooltip } from 'antd';\nimport GOOGLE_MAPS from '../../../constants/google-maps.constant';\n\nconst defaultLocation = { lat: 0, lng: 0 };\nconst defaultAddress = 'Unknown';\n\nconst LocationIndicator = ({ icon, text }) => (\n  <div className=\"google-map__location-icon\">\n    <Tooltip title={text} placement=\"right\">\n      {icon}\n    </Tooltip>\n  </div>\n);\n\n/**\n * REMEMBER: Enable Geocoding API from Google Cloud Flatform\n */\nexport default class GoogleMap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      address: defaultAddress,\n      location: defaultLocation\n    }\n  }\n\n  componentWillMount() {\n    this.loadData({ ...this.props });\n  }\n\n  componentWillReceiveProps(props) {\n    this.loadData({ ...props });\n  }\n\n  async loadData(props) {\n    try {\n      const { address } = props;\n      const location = await this.getAddressLocation(address);\n      this.setState({\n        address: address || defaultAddress,\n        location\n      });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async getAddressText(latitude, longitude) {\n    try {\n      const res = await Geocode.fromLatLng(\n        latitude,\n        longitude,\n        GOOGLE_MAPS.API_KEY,\n        GOOGLE_MAPS.GEOCODING.LANGUAGE,\n        GOOGLE_MAPS.GEOCODING.REGION\n      );\n      return res.results[0].formatted_address;\n    } catch (error) {\n      return defaultAddress;\n    }\n  }\n\n  async getAddressLocation(address) {\n    try {\n      if (!address)\n        return defaultLocation;\n\n      const res = await Geocode.fromAddress(\n        address,\n        GOOGLE_MAPS.API_KEY,\n        GOOGLE_MAPS.GEOCODING.LANGUAGE,\n        GOOGLE_MAPS.GEOCODING.REGION\n      );\n      return res.results[0].geometry.location;\n    } catch (error) {\n      return defaultLocation;\n    }\n  }\n\n  render() {\n    const { width, height, locationIcon } = this.props;\n    const { location, address } = this.state;\n\n    return (\n      <div className=\"google-map\" style={{ width, height }}>\n        <GoogleMapReact\n          bootstrapURLKeys={GOOGLE_MAPS.API_KEY}\n          center={location}\n          defaultZoom={15}\n        >\n          <LocationIndicator\n            lat={location.lat}\n            lng={location.lng}\n            icon={locationIcon}\n            text={address}\n          />\n        </GoogleMapReact>\n      </div>\n    )\n  }\n}","import React, { Component } from 'react';\nimport { Popover, Button, Row, Col } from 'antd';\nimport './SupplierContactPopover.style.scss';\nimport GoogleMap from '../GoogleMap/GoogleMap';\nimport { EnvironmentTwoTone } from '@ant-design/icons';\n\nexport default class SupplierContactPopover extends Component {\n  render() {\n    const { supplier, buttonText, buttonStyle, placement } = this.props;\n    const content = (\n      <div className=\"supplier-contact-popover__content\">\n        <Row style={{ width: '100%' }} gutter={15}>\n          <Col span={8}>Thương hiệu</Col>\n          <Col span={16}><strong>{supplier.name}</strong></Col>\n        </Row>\n        <Row style={{ width: '100%' }} gutter={15}>\n          <Col span={8}>Số điện thoại</Col>\n          <Col span={16}>{supplier.phone}</Col>\n        </Row>\n        <Row style={{ width: '100%' }} gutter={15}>\n          <Col span={8}>Địa chỉ</Col>\n          <Col span={16}>{supplier.address}</Col>\n        </Row>\n        <GoogleMap\n          width={'100%'}\n          height={200}\n          address={supplier.address}\n          locationIcon={\n            <EnvironmentTwoTone\n              twoToneColor=\"#ff8220\"\n              style={{ fontSize: 24 }}\n            />\n          }\n        />\n      </div>\n    )\n    return (\n      <div className=\"supplier-contact-popover\">\n        <Popover\n          placement={placement}\n          title=\"Liên hệ nhà cung cấp\"\n          content={content} trigger=\"click\"\n          overlayClassName=\"supplier-contact-popover__popover\"\n        >\n          <Button\n            type=\"link\"\n            style={{ ...buttonStyle, paddingLeft: 0 }}\n            className=\"supplier-contact-popover__btn\"\n          >\n            {buttonText}\n          </Button>\n        </Popover>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Modal, Row, Col, Table, Progress } from 'antd';\nimport './ImportingAssignmentDialog.style.scss';\nimport moment from 'moment';\nimport NumberFormat from 'react-number-format';\nimport IMPORTING_REQUEST from '../../../../../constants/importing-request.constant';\nimport * as _ from 'lodash';\nimport SupplierContactPopover from '../../../../utilities/SupplierContactPopover/SupplierContactPopover';\n\nexport default class ImportingAssignmentDialog extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false\n    }\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({ isVisible: props.isVisible });\n  }\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  render() {\n    const { data } = this.props;\n    const importedProducts = data.importedProducts.map((p, i) => ({ ...p, key: i }));\n    const columns = [\n      {\n        title: 'Sản phẩm',\n        dataIndex: 'product',\n        key: 'product',\n        width: 200,\n        render: (value, record) => (\n          <div>\n            <img src={record.product.image} alt=\"product\" style={{ width: 20, margin: 15 }} />\n            <span>{record.product.name}</span>\n          </div>\n        )\n      },\n      {\n        title: 'Nhà cung cấp',\n        dataIndex: 'supplier',\n        key: 'supplier',\n        width: 200,\n        render: (value, record) => (\n          <SupplierContactPopover\n            supplier={{ ...record.product.supplier }}\n            buttonText={record.product.supplier.name}\n            buttonStyle={{ fontSize: 11 }}\n            placement=\"right\"\n          />\n        )\n      },\n      {\n        title: 'Giá bán',\n        dataIndex: 'price',\n        key: 'price',\n        width: 100,\n        render: (value, record) => (\n          <NumberFormat\n            value={record.product.price}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n            style={{ fontWeight: 'bold' }}\n          />\n        )\n      },\n      {\n        title: <center>SL yêu cầu</center>,\n        dataIndex: 'requiredQuantity',\n        key: 'requiredQuantity',\n        width: 100,\n        render: (value, record) => <center>{record.requiredQuantity}</center>\n      },\n      {\n        title: <center>SL đã nhập</center>,\n        dataIndex: 'importedQuantity',\n        key: 'importedQuantity',\n        width: 100,\n        render: (value, record) => <center>{record.importedQuantity}</center>\n      }\n    ];\n    const importedQuantityTotal = importedProducts.reduce((acc, cur) => acc + cur.importedQuantity, 0);\n    const requiredQuantityTotal = importedProducts.reduce((acc, cur) => acc + cur.requiredQuantity, 0);\n    const importedPriceTotal = importedProducts.reduce((acc, cur) => acc + (cur.importedQuantity * cur.product.price), 0);\n\n    return (\n      <Modal\n        className=\"importing-assignment-dialog\"\n        title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>Yêu cầu nhập hàng</span>}\n        visible={this.state.isVisible}\n        footer={null}\n        onCancel={() => {\n          this.setDialogVisible(false);\n          this.props.setImportingAssignmentDialogVisible(false);\n        }}\n      >\n        <Row style={{ width: '100%' }}>\n          <Col span={7}>\n            <ul className=\"importing-assignment-dialog__labels\">\n              <li>Người bàn giao</li>\n              <li>Bàn giao lúc</li>\n              <li>Trạng thái</li>\n              <li>Mức độ hoàn thành</li>\n              <li>Tổng chi phí nhập hàng</li>\n              <li>Tổng sản phẩm cần nhập</li>\n            </ul>\n          </Col>\n          <Col span={17}>\n            <ul className=\"importing-assignment-dialog__values\">\n              <li><strong>{data.manager.fullname}</strong></li>\n              <li>{moment(data.createdAt).format('HH:mm DD-MM-YYYY')}</li>\n              <li><span className=\"importing-assignment-dialog__values__status\">{IMPORTING_REQUEST.STATUS.ACCEPTED.name}</span></li>\n              <li>\n                <Progress\n                  strokeColor=\"#ff8220\"\n                  percent={_.round((importedQuantityTotal / requiredQuantityTotal) * 100, 0)} status=\"active\"\n                />\n              </li>\n              <li>\n                <strong>\n                  <span style={{ marginRight: 3 }}>{importedPriceTotal}</span>/\n                    <NumberFormat\n                    value={data.priceTotal}\n                    displayType=\"text\"\n                    thousandSeparator={true}\n                    suffix=\" đ̲\"\n                    style={{ marginLeft: 3 }}\n                  />\n                </strong>\n              </li>\n              <li>\n                <span style={{ marginRight: 3 }}>{importedQuantityTotal}</span>/\n                  <span style={{ marginLeft: 3 }}>{requiredQuantityTotal}</span>\n              </li>\n            </ul>\n          </Col>\n        </Row>\n\n        <div className=\"importing-assignment-dialog__products\">\n          <Table\n            dataSource={importedProducts}\n            columns={columns}\n            pagination={false}\n            scroll={{ y: 250 }}\n          />\n        </div>\n      </Modal>\n    )\n  }\n}\n","export default {\n  ADD: {\n    type: 'ADD',\n    name: 'Thêm sản phẩm'\n  },\n  UPDATE: {\n    type: 'UPDATE',\n    name: 'Cập nhật sản phẩm'\n  },\n  REMOVE: {\n    type: 'REMOVE',\n    name: 'Xóa sản phẩm'\n  }\n}","import React from 'react';\nimport { Popover, Button } from 'antd';\nimport { HistoryOutlined } from '@ant-design/icons';\nimport { withCookies } from 'react-cookie';\nimport { API } from '../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport './ProductActionHistory.style.scss';\nimport PRODUCT_ACTION_TYPES from '../../../../../constants/product-action-type.constant';\nimport moment from 'moment';\n\nclass ProductActionHistory extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      logs: [],\n      isLoading: true\n    }\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  async loadData() {\n    const res = await (\n      await fetch(\n        API.Importer.ProductManagement.getProductActionLogs,\n        {\n          method: 'GET',\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n            'token': this.props.cookies.get(COOKIE_NAMES.token)\n          },\n          signal: this.abortController.signal\n        }\n      )\n    ).json();\n    this.setState({ logs: res.data.productActionLogs, isLoading: false });\n  }\n\n  render() {\n    if (this.state.isLoading)\n      return <></>;\n\n    let { logs } = this.state;\n    logs.sort((a, b) => {\n      const d1 = new Date(a.createdAt).getTime();\n      const d2 = new Date(b.createdAt).getTime();\n      return d2 - d1;\n    });\n    const title = <span>Lịch sử thao tác</span>;\n    const content = (\n      <div className=\"product-action-logs\">\n        {logs.map((l, i) => (\n          <div\n            key={i}\n            className=\"product-action-logs__item\"\n          >\n            <p className=\"product-action-logs__item__content\">\n              {PRODUCT_ACTION_TYPES[l.actionType].name} <strong>{l.product.name}</strong>\n            </p>\n            <span className=\"product-action-logs__item__time\">Vào lúc {moment(l.createdAt).format('HH:mm DD-MM-YYYY')}</span>\n          </div>\n        ))}\n      </div>\n    );\n\n    return (\n      <Popover\n        overlayClassName=\"product-action-logs__content\"\n        placement=\"bottomRight\"\n        title={title}\n        content={content}\n        trigger=\"hover\"\n      >\n        <Button\n          shape=\"circle\"\n          icon={<HistoryOutlined />}\n          className=\"product-management__container__topbar__btn\"\n        />\n      </Popover>\n    )\n  }\n}\nexport default withCookies(ProductActionHistory);","import React from 'react';\nimport './ProductManagement.style.scss';\nimport { Row, Col, Input, List, Button, Table, Form, message, InputNumber, Modal, Empty, Dropdown, Select, Menu } from 'antd';\nimport { SearchOutlined, CloseOutlined, BellFilled, ExclamationCircleOutlined, EditOutlined } from '@ant-design/icons';\nimport moment from 'moment';\nimport ImageUploader from '../../../utilities/ImageUploader/ImageUploader';\nimport * as _ from 'lodash';\nimport { withCookies } from 'react-cookie';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../redux/actions';\nimport AddProductDialog from './AddProductDialog/AddProductDialog';\nimport AddCategoryDialog from './AddCategoryDialog/AddCategoryDialog';\nimport { API } from '../../../../constants/api.constant';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport { sortByCreatedAt } from '../../../../services/collection-sorting.service';\nimport EditCategoryDialog from './EditCategoryDialog/EditCategoryDialog';\nimport QRCode from 'qrcode.react';\nimport NumberFormat from 'react-number-format';\nimport ImportingAssignmentDialog from './ImportingAssignmentDialog/ImportingAssignmentDialog';\nimport ProductActionHistory from './ProductActionHistory/ProductActionHistory';\nimport SupplierContactPopover from '../../../utilities/SupplierContactPopover/SupplierContactPopover';\n\nconst { confirm } = Modal;\n\nconst layout = {\n  labelCol: { span: 9 },\n};\n\nclass ProductManagement extends PageBase {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isProductDetailsPanelShown: false,\n      selectedProduct: {},\n      selectedCategory: {},\n      products: [],\n      productSearchText: '',\n      filteredProducts: [],\n      categories: [],\n      categorySearchText: '',\n      filteredCategories: [],\n      suppliers: [],\n      isLoading: true,\n      importerAssignments: [],\n      isImportingAssignmentDialogVisible: false,\n      importedProducts: []\n    }\n\n    this.productDetailsFormRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  async loadData() {\n    try {\n      this.props.setAppLoading(true);\n      const results = await Promise.all([\n        this.loadCategories(),\n        this.loadSuppliers(),\n        this.loadImporterAssignments()\n      ]);\n      this.props.setAppLoading(false);\n\n      //Category\n      const categories = results[0];\n      let { selectedCategory } = this.state;\n      selectedCategory = categories.length > 0 ? { ...categories[0] } : {};\n      this.loadCategoryProducts(selectedCategory);\n\n      //Supplier\n      const suppliers = results[1];\n\n      //Importer Assignment\n      const importerAssignments = results[2];\n      const importedProducts = importerAssignments.length === 0 ? [] : importerAssignments[0].importedProducts.map(item => item);\n\n      this.setState({\n        categories,\n        filteredCategories: categories,\n        selectedCategory,\n        suppliers,\n        selectedSupplier: suppliers.length > 0 ? { ...suppliers[0] } : {},\n        isLoading: false,\n        importerAssignments,\n        importedProducts\n      });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async loadSuppliers() {\n    try {\n      const res = await (\n        await fetch(\n          API.Importer.ProductManagement.getSuppliers,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status !== 200) {\n        return Promise.reject(res.errors[0]);\n      }\n\n      return Promise.resolve(res.data.suppliers);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async loadCategories() {\n    try {\n      const res = await (\n        await fetch(\n          API.Importer.ProductManagement.getCategories,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status !== 200) {\n        return Promise.reject(res.errors[0]);\n      }\n\n      return Promise.resolve(res.data.categories);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async loadImporterAssignments() {\n    try {\n      const res = await (\n        await fetch(\n          API.Importer.ImporterAssignmentManagement.getImporterAssignments,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status !== 200) {\n        return Promise.reject(res.errors[0]);\n      }\n\n      return Promise.resolve(res.data.importerAssignments);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  loadCategoryProducts(category) {\n    this.onProductSearchInputChange(this.state.productSearchText, category.products);\n    this.setState({ products: category.products, selectedCategory: { ...category } });\n  }\n\n  toggleProductDetailsPanel(isToggled) {\n    this.setState({ isProductDetailsPanelShown: isToggled });\n  }\n\n  handleSelectProduct(product) {\n    this.setState({ selectedProduct: this.state.products.find(p => p._id === product._id) });\n    this.toggleProductDetailsPanel(true);\n  }\n\n  handleSelectCategory(category) {\n    if (category._id !== this.state.selectedCategory._id) {\n      this.loadCategoryProducts(category);\n      this.setState({ selectedCategory: category });\n    }\n  }\n\n  updateCategoryInList(category) {\n    const { categories } = this.state;\n    const index = _.findIndex(categories, p => p._id === category._id);\n    categories[index] = { ...category };\n\n    const text = this.state.categorySearchText;\n    let { filteredCategories, selectedCategory } = this.state;\n    if (!text) {\n      filteredCategories = [...categories];\n    } else {\n      filteredCategories = categories.filter(c => c.name.toLowerCase().includes(text.toLowerCase()));\n    }\n\n    selectedCategory = { ...category }\n    this.loadCategoryProducts(selectedCategory);\n\n    this.setState({\n      filteredCategories,\n      selectedCategory,\n      categories\n    });\n  }\n\n  async updateProductDetails(values) {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Importer.ProductManagement.updateProduct.replace('{productID}', this.state.selectedProduct._id),\n          {\n            method: 'PUT',\n            body: JSON.stringify(values),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      let { products, selectedProduct, selectedCategory } = this.state;\n      selectedProduct = { ...res.data.product };\n\n      const index = _.findIndex(products, p => p._id === selectedProduct._id);\n      if (index >= 0) {\n        products[index] = { ...selectedProduct };\n      }\n\n      selectedCategory.products = products;\n      this.loadCategoryProducts(selectedCategory);\n      this.setState({ selectedProduct });\n\n      if (res.data.isImporterAssignmentUpdated) {\n        this.reloadImporterAssignments(res.messages[0]);\n      } else {\n        message.success(res.messages[0]);\n      }\n    } catch (error) {\n      return error;\n    }\n  }\n\n  openRemoveProductDialog() {\n    const that = this;\n    const { selectedProduct } = this.state;\n    confirm({\n      title: `Bạn muốn xóa sản phẩm ${selectedProduct.name}?`,\n      icon: <ExclamationCircleOutlined />,\n      content: '',\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      async onOk() {\n        try {\n          that.props.setAppLoading(false);\n          const res = await (\n            await fetch(\n              API.Importer.ProductManagement.removeProduct.replace('{productID}', selectedProduct._id),\n              {\n                method: 'DELETE',\n                headers: {\n                  'Content-type': 'application/json; charset=UTF-8',\n                  'token': that.props.cookies.get(COOKIE_NAMES.token)\n                },\n                signal: that.abortController.signal\n              }\n            )\n          ).json();\n\n          that.props.setAppLoading(false);\n          if (res.status !== 200) {\n            message.error(res.errors[0]);\n            return;\n          }\n\n          let { products, selectedCategory } = that.state;\n          products = products.filter(p => p._id !== selectedProduct._id);\n          selectedCategory.products = products;\n          that.loadCategoryProducts(selectedCategory);\n          that.toggleProductDetailsPanel(false);\n          message.success(res.messages[0]);\n        } catch (error) {\n          return error;\n        }\n      },\n      onCancel() { },\n    });\n  }\n\n  addToListProducts(product) {\n    let { products, selectedCategory } = this.state;\n    products.push(product);\n    selectedCategory.products = products;\n    this.loadCategoryProducts(selectedCategory);\n  }\n\n  addToListCategories(category) {\n    let { filteredCategories, selectedCategory } = this.state;\n    filteredCategories.push({ ...category });\n    sortByCreatedAt(filteredCategories);\n    selectedCategory = filteredCategories.length > 0 ? filteredCategories[filteredCategories.length - 1] : {};\n    this.loadCategoryProducts(selectedCategory);\n    this.setState({\n      filteredCategories,\n      selectedCategory\n    });\n  }\n\n  onCategorySearchInputChange(text, categories) {\n    let { filteredCategories, selectedCategory } = this.state;\n    if (!text) {\n      filteredCategories = [...categories];\n    } else {\n      filteredCategories = categories.filter(c => c.name.toLowerCase().includes(text.toLowerCase()));\n    }\n\n    selectedCategory = filteredCategories.length > 0 ? filteredCategories[0] : {};\n    this.loadCategoryProducts(selectedCategory);\n\n    this.setState({\n      filteredCategories,\n      selectedCategory,\n      categorySearchText: text\n    });\n  }\n\n  onProductSearchInputChange(text, products) {\n    let { filteredProducts } = this.state;\n    if (!text) {\n      filteredProducts = [...(products || [])];\n    } else {\n      filteredProducts = (products || []).filter(p => {\n        const keys = [...Object.keys(p)].filter(k => ['name'].includes(k));\n        for (const k of keys) {\n          if (p[k].toLowerCase().includes(text.toLowerCase())) {\n            return true;\n          }\n        }\n        return false;\n      });\n    }\n\n    filteredProducts = (filteredProducts || []).map(p => ({ ...p, key: p._id }));\n\n    this.setState({\n      filteredProducts,\n      selectedProduct: {},\n      productSearchText: text\n    });\n  }\n\n  openRemoveCategoryDialog() {\n    const that = this;\n    const { selectedCategory } = this.state;\n    confirm({\n      title: `Bạn muốn xóa danh mục ${selectedCategory.name}?`,\n      icon: <ExclamationCircleOutlined />,\n      content: '',\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      async onOk() {\n        try {\n          that.props.setAppLoading(true);\n          const res = await (\n            await fetch(\n              API.Importer.ProductManagement.removeCategory.replace('{categoryID}', selectedCategory._id),\n              {\n                method: 'DELETE',\n                headers: {\n                  'Content-type': 'application/json; charset=UTF-8',\n                  'token': that.props.cookies.get(COOKIE_NAMES.token)\n                },\n                signal: that.abortController.signal\n              }\n            )\n          ).json();\n\n          that.props.setAppLoading(false);\n          if (res.status !== 200) {\n            message.error(res.errors[0]);\n            return;\n          }\n\n          let { categories } = that.state;\n          categories = categories.filter(c => c._id !== selectedCategory._id);\n          that.setState({ categories });\n          that.onCategorySearchInputChange(that.state.categorySearchText, categories);\n          message.success(res.messages[0]);\n        } catch (error) {\n          return error;\n        }\n      },\n      onCancel() { },\n    });\n  }\n\n  addToListSuppliers(supplier) {\n    let { suppliers } = this.state;\n    suppliers.push(supplier);\n    this.setState({ suppliers });\n  }\n\n  removeFromListSuppliers(supplier) {\n    let { suppliers } = this.state;\n    suppliers = suppliers.filter(s => s._id !== supplier._id);\n    this.setState({ suppliers });\n  }\n\n  updateProductSupplier(newSupplier) {\n    let { products } = this.state;\n    products = products.map(p => {\n      if (p.supplier._id === newSupplier._id) {\n        for (const key in p.supplier) {\n          if (newSupplier[key]) {\n            p.supplier[key] = newSupplier[key];\n          }\n        }\n      }\n      return p;\n    });\n    this.onProductSearchInputChange(this.state.productSearchText, products);\n    this.updateSuppliers(newSupplier);\n    this.setState({ products });\n  }\n\n  updateSuppliers(newSupplier) {\n    let { suppliers } = this.state;\n    suppliers = suppliers.map(s => {\n      if (s._id === newSupplier._id) {\n        for (const key in s) {\n          if (newSupplier[key]) {\n            s[key] = newSupplier[key];\n          }\n        }\n      }\n      return s;\n    });\n    this.setState({ suppliers });\n  }\n\n  setImportingAssignmentDialogVisible(isVisible) {\n    this.setState({ isImportingAssignmentDialogVisible: isVisible });\n  }\n\n  isImportedProduct(productID) {\n    const { importedProducts } = this.state;\n    const index = _.findIndex(importedProducts, item => item.product._id === productID);\n    if (index < 0)\n      return false;\n\n    if (importedProducts[index].importedQuantity === importedProducts[index].requiredQuantity)\n      return false;\n\n    return true;\n  }\n\n  async reloadImporterAssignments(updatingProductMessage) {\n    try {\n      this.props.setAppLoading(true);\n      const importerAssignments = await this.loadImporterAssignments();\n      const importedProducts = importerAssignments.length === 0 ? [] : importerAssignments[0].importedProducts.map(item => item);\n      this.props.setAppLoading(false);\n      message.success(updatingProductMessage);\n      this.setState({\n        importerAssignments,\n        importedProducts\n      });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    let { selectedProduct, suppliers, importerAssignments } = this.state;\n    const columns = [\n      {\n        title: '',\n        dataIndex: 'image',\n        key: 'image',\n        width: 40,\n        render: (text) => (\n          <img\n            className=\"product-management__container__content__list-products__product-img\"\n            src={text}\n            alt=\"product\" />\n        )\n      },\n      {\n        title: 'Sản phẩm',\n        dataIndex: 'name',\n        key: 'name',\n        width: 180\n      },\n      {\n        title: 'Nhà cung cấp',\n        dataIndex: 'supplier',\n        key: 'supplier',\n        width: 200,\n        render: (value, record) => (\n          <SupplierContactPopover\n            supplier={{ ...record.supplier }}\n            buttonText={record.supplier.name}\n            buttonStyle={{ fontSize: 11 }}\n            placement=\"right\"\n          />\n        )\n      },\n      {\n        title: 'Giá bán',\n        dataIndex: 'price',\n        key: 'price',\n        width: 100,\n        render: (text) => (\n          <NumberFormat\n            value={Number(text)}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n            style={{ fontWeight: 'bold' }}\n          />\n        )\n      },\n      {\n        title: <center>SL hiện có</center>,\n        dataIndex: 'availableQuantity',\n        key: 'availableQuantity',\n        width: 120,\n        render: (text) => (<center>{text}</center>),\n      },\n      {\n        title: 'Cập nhật lần cuối',\n        dataIndex: 'updatedAt',\n        key: 'updatedAt',\n        width: 160,\n        render: (text) => (<span>{moment(text).format('HH:mm DD-MM-YYYY')}</span>)\n      },\n      {\n        title: <center>Trạng thái</center>,\n        dataIndex: 'status',\n        key: 'status',\n        width: 80,\n        render: (text, record) => (<center>\n          {record.availableQuantity === 0 ? (\n            <span style={{ color: 'crimson', fontWeight: 'bold' }}>Hết hàng</span>\n          ) : 'Còn hàng'}\n        </center>)\n      },\n      {\n        title: <center>Mã QR</center>,\n        dataIndex: '',\n        key: 'qrcode',\n        render: (value, record) => (\n          <center>\n            <QRCode\n              value={record._id}\n              style={{ width: 25, height: 25 }}\n            />\n          </center>\n        )\n      }\n    ];\n\n    return (\n      <div className=\"product-management\">\n\n        <div className=\"product-management__container animated fadeInUp\">\n          <Row>\n            <Col span={4}>\n              <div className=\"product-management__container__left-sidebar\">\n                <div className=\"product-management__container__left-sidebar__title\">\n                  <span className=\"product-management__container__left-sidebar__title__text\">\n                    Danh mục sản phẩm ({this.state.filteredCategories.length})\n                  </span>\n                </div>\n\n                <div className=\"product-management__container__left-sidebar__search-box\">\n                  <Row align=\"middle\" style={{ width: '100%' }}>\n                    <Col span={19}>\n                      <Input\n                        prefix={<SearchOutlined style={{ marginRight: 5 }} />}\n                        placeholder=\"Tìm kiếm...\"\n                        onChange={e => this.onCategorySearchInputChange(e.target.value, this.state.categories)}\n                      />\n                    </Col>\n                    <Col span={5}>\n                      {!this.state.isLoading ? (\n                        <AddCategoryDialog\n                          addToListCategories={category => this.addToListCategories(category)}\n                        />\n                      ) : <></>}\n                    </Col>\n                  </Row>\n                </div>\n\n                <div className=\"product-management__container__left-sidebar__categories\">\n                  <div className=\"product-management__container__left-sidebar__categories__wrapper\">\n                    <List\n                      size=\"small\"\n                      dataSource={this.state.filteredCategories}\n                      renderItem={(item) => (\n                        <List.Item onClick={() => this.handleSelectCategory(item)}>\n                          <div className={`\n                            product-management__container__left-sidebar__categories__item \n                            ${item._id === this.state.selectedCategory._id ? 'product-management__container__left-sidebar__categories__item--selected' : ''}\n                          `}>\n                            <Row>\n                              <Col span={22}>{item.name} ({item.products.length})</Col>\n                              <Col span={2}>{item._id === this.state.selectedCategory._id ? (\n                                <Dropdown overlay={\n                                  <Menu className=\"product-management__container__left-sidebar__categories__item__menu\">\n                                    <Menu.Item key=\"EDIT\">\n                                      <EditCategoryDialog\n                                        category={this.state.selectedCategory}\n                                        updateCategoryInList={category => this.updateCategoryInList(category)}\n                                      />\n                                    </Menu.Item>\n                                    <Menu.Item key=\"REMOVE\">\n                                      <Button\n                                        type=\"link\"\n                                        style={{ color: 'rgba(0,0,0,0.65)' }}\n                                        onClick={() => this.openRemoveCategoryDialog()}>\n                                        Xóa</Button>\n                                    </Menu.Item>\n                                  </Menu>\n                                }>\n                                  <EditOutlined />\n                                </Dropdown>\n                              ) : <></>}\n                              </Col>\n                            </Row>\n                          </div>\n                        </List.Item>\n                      )}\n                      locale={{ emptyText: (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"Không tìm thấy\" />) }}\n                    />\n                  </div>\n                </div>\n              </div>\n            </Col>\n            <Col span={20}>\n              <div className=\"product-management__container__topbar\">\n                <Row align=\"middle\" gutter={40}>\n                  <Col span={1}>\n                    {!this.state.isLoading ? (\n                      <AddProductDialog\n                        selectedCategory={{ ...this.state.selectedCategory }}\n                        addToListProducts={product => this.addToListProducts(product)}\n                        suppliers={[...suppliers]}\n                      />\n                    ) : <></>}\n                  </Col>\n                  <Col span={6}>\n                    {this.state.selectedCategory.products ? (\n                      <div className=\"product-management__container__topbar__title\">\n                        <span>{this.state.selectedCategory.name} ({this.state.selectedCategory.products.length})</span>\n                      </div>\n                    ) : <></>}\n                  </Col>\n                  <Col span={8}>\n                    <div className=\"product-management__container__topbar__features\">\n                      <div className=\"product-management__container__topbar__features__feature\">\n                        {this.state.importedProducts.length > 0 ? (\n                          <div>\n                            <Button\n                              className=\"product-management__container__topbar__features__feature__btn-show-assignment --alert\"\n                              icon={<BellFilled className=\"product-management__container__topbar__features__feature__btn-show-assignment__icon --bell animated tada\" />}\n                              type=\"primary\"\n                              shape=\"round\"\n                              onClick={() => this.setImportingAssignmentDialogVisible(true)}\n                            >\n                              Có yêu cầu nhập hàng\n                            </Button>\n                            <ImportingAssignmentDialog\n                              isVisible={this.state.isImportingAssignmentDialogVisible}\n                              setImportingAssignmentDialogVisible={isVisible => this.setImportingAssignmentDialogVisible(isVisible)}\n                              data={{ ...importerAssignments[0] }}\n                            />\n                          </div>\n                        ) : <></>}\n                      </div>\n                    </div>\n                  </Col>\n                  <Col span={7} style={{ padding: 0 }}>\n                    <div className=\"product-management__container__topbar__search-box\">\n                      <Input\n                        prefix={<SearchOutlined style={{ marginRight: 5 }} />}\n                        placeholder=\"Tìm kiếm sản phẩm...\"\n                        onChange={e => this.onProductSearchInputChange(e.target.value, this.state.selectedCategory.products)}\n                      />\n                    </div>\n                  </Col>\n                  <Col span={2}>\n                    <ProductActionHistory />\n                  </Col>\n                </Row>\n              </div>\n              <div className=\"product-management__container__content\">\n                {this.state.isProductDetailsPanelShown && Object.keys(selectedProduct).length > 0 ? (\n                  <div className=\"product-management__container__content__product-details\">\n                    <div className=\"product-management__container__content__product-details__panel animated slideInRight\">\n                      <div className=\"product-management__container__content__product-details__panel__header\">\n                        <Row>\n                          <Col span={4}>\n                            <Button\n                              type=\"primary\"\n                              shape=\"circle\"\n                              icon={<CloseOutlined />}\n                              className=\"product-management__container__content__product-details__panel__header__btn-close\"\n                              onClick={() => this.toggleProductDetailsPanel(false)}\n                            />\n                          </Col>\n                          <Col align=\"end\" span={20}>\n                            <Button\n                              type=\"link\"\n                              className=\"product-management__container__content__product-details__panel__header__btn-remove-product\"\n                              onClick={() => this.openRemoveProductDialog()}\n                            >\n                              Xóa sản phẩm\n                            </Button>\n                          </Col>\n                        </Row>\n                      </div>\n                      <div className=\"product-management__container__content__product-details__panel__product-details\">\n                        <div className=\"product-management__container__content__product-details__panel__product-details__img\">\n                          <ImageUploader\n                            defaultImageUrl={selectedProduct.image}\n                            width={150}\n                            height={150}\n                            tooltipTitle=\"Nhấn để thay đổi ảnh\"\n                            tooltipPlacement=\"bottom\"\n                            onFinish={imageUrl => {\n                              this.productDetailsFormRef.current.setFieldsValue({\n                                image: imageUrl\n                              });\n                            }}\n                          />\n                        </div>\n                        <div className=\"product-management__container__content__product-details__panel__product-details__info\">\n                          <Form\n                            {...layout}\n                            ref={current => {\n                              this.productDetailsFormRef.current = current;\n                              if (this.productDetailsFormRef.current) {\n                                this.productDetailsFormRef.current.setFieldsValue({\n                                  image: selectedProduct.image,\n                                  name: selectedProduct.name,\n                                  supplier: selectedProduct.supplier._id,\n                                  price: selectedProduct.price,\n                                  availableQuantity: selectedProduct.availableQuantity\n                                });\n                              }\n                            }}\n                            onFinish={values => this.updateProductDetails(values)}\n                            onFinishFailed={() => message.error('Thông tin sản phẩm chưa đầy đủ')}\n                          >\n\n                            <Form.Item name=\"image\" rules={[{ required: true }]} style={{ display: 'none' }}>\n                              <Input />\n                            </Form.Item>\n\n                            <Form.Item\n                              name=\"name\"\n                              label=\"Tên sản phẩm\"\n                              rules={[\n                                {\n                                  required: true,\n                                  message: 'Vui lòng nhập tên sản phẩm'\n                                }\n                              ]}\n                            >\n                              <Input />\n                            </Form.Item>\n\n                            <Form.Item\n                              name=\"supplier\"\n                              label=\"Nhà cung cấp\"\n                              rules={[{ required: true }]}\n                            >\n                              <Select>\n                                {suppliers.map(s => (\n                                  <Select.Option\n                                    key={s._id}\n                                    value={s._id}>{s.name}</Select.Option>\n                                ))}\n                              </Select>\n                            </Form.Item>\n\n                            <Form.Item\n                              name=\"price\"\n                              label=\"Giá bán (đ̲)\"\n                              rules={[\n                                {\n                                  required: true,\n                                  message: 'Vui lòng nhập giá bán'\n                                }\n                              ]}\n                            >\n                              <InputNumber\n                                formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                                parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\n                              />\n                            </Form.Item>\n\n                            <Form.Item\n                              name=\"availableQuantity\"\n                              label=\"Số lượng hiện có\"\n                              rules={[\n                                {\n                                  required: true,\n                                  message: 'Vui lòng nhập số lượng hiện có'\n                                }\n                              ]}\n                            >\n                              <InputNumber\n                                formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                                parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\n                                disabled={!this.isImportedProduct(selectedProduct._id)}\n                              />\n                            </Form.Item>\n\n                            <Form.Item>\n                              <div className=\"product-management__container__content__product-details__panel__product-details__btn-update__wrapper\">\n                                <Button\n                                  type=\"primary\"\n                                  htmlType=\"submit\"\n                                  className=\"product-management__container__content__product-details__panel__product-details__btn-update__wrapper__btn\"\n                                >\n                                  Cập nhật sản phẩm\n                                </Button>\n                              </div>\n                            </Form.Item>\n\n                          </Form>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ) : <></>}\n                <div className=\"product-management__container__content__list-products\">\n                  <Table\n                    dataSource={[...this.state.filteredProducts]}\n                    columns={columns}\n                    scroll={{ y: 545 }}\n                    pagination={false}\n                    onRow={(record) => {\n                      return {\n                        onClick: () => this.handleSelectProduct(record)\n                      }\n                    }}\n                    rowClassName={record => record._id === selectedProduct._id ?\n                      'product-management__container__content__list-products__selected-row' : ''}\n                    locale={{ emptyText: (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"Không tìm thấy sản phẩm\" />) }}\n                  />\n                  <div className=\"product-management__container__content__list-products__bottom-toolbar\"></div>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </div>\n\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(ProductManagement));\n","const sortByCreatedAt = (collection, option) => {\n  collection.sort((a, b) => {\n    const time1 = new Date(a.createdAt).getTime();\n    const time2 = new Date(b.createdAt).getTime();\n    return option === 'desc' ? (time2 - time1) : (time1 - time2);\n  });\n}\n\nexport {\n  sortByCreatedAt\n}","import React, { Component } from 'react';\nimport './RevenueStatistic.style.scss';\nimport moment from 'moment';\nimport NumberFormat from 'react-number-format';\nimport { Bar } from 'react-chartjs-2';\nimport { Row, Col, Button, Popover, Table, Tooltip } from 'antd';\nimport { ScheduleFilled, StarFilled, TagFilled, UnorderedListOutlined } from '@ant-design/icons';\n\nexport default class RevenueStatistic extends Component {\n  render() {\n    const {\n      statisticData,\n      revenueTotal,\n      paymentTotal,\n      salaryTotal,\n      importingCostTotal\n    } = this.props;\n    const profitTotal = revenueTotal - paymentTotal;\n    const height = 55;\n    const chartOptions = {\n      legend: { display: false },\n      scales: {\n        xAxes: [{\n          gridLines: {\n            display: false\n          }\n        }]\n      }\n    };\n    const lineChartData = (canvas) => {\n      const ctx = canvas.getContext(\"2d\")\n      const gradient = ctx.createLinearGradient(0, 0, 0, 400);\n      gradient.addColorStop(0, 'orange');\n      gradient.addColorStop(1, '#ff5858');\n      return {\n        labels: statisticData.map(item => moment(item.date).format('DD/MM')),\n        datasets: [\n          {\n            label: 'Doanh thu bán hàng',\n            fill: true,\n            lineTension: 0.3,\n            backgroundColor: gradient,\n            borderColor: '#ff8220',\n            borderCapStyle: 'butt',\n            borderDash: [],\n            borderDashOffset: 0.0,\n            borderJoinStyle: 'miter',\n            pointBorderColor: '#ff8220',\n            pointBackgroundColor: '#fff',\n            pointBorderWidth: 2,\n            pointHoverRadius: 5,\n            pointHoverBackgroundColor: '#fff',\n            pointHoverBorderColor: '#ff8220',\n            pointHoverBorderWidth: 2,\n            pointRadius: 3,\n            pointHitRadius: 10,\n            data: statisticData.map(item => item.revenue)\n          }\n        ]\n      }\n    };\n\n    let paymentItems = [\n      {\n        key: 1,\n        name: 'Lương nhân viên',\n        value: salaryTotal\n      }\n    ];\n\n    if (importingCostTotal > 0) {\n      paymentItems.push({\n        key: paymentItems.length + 1,\n        name: 'Chi phí nhập hàng',\n        value: importingCostTotal\n      });\n    }\n    const paymentItemColumns = [\n      {\n        title: '#',\n        dataIndex: 'key',\n        key: 'key',\n        width: 100\n      },\n      {\n        title: 'Hạng mục',\n        dataIndex: 'name',\n        key: 'name',\n        width: 300\n      },\n      {\n        title: 'Chi phí',\n        dataIndex: 'value',\n        key: 'value',\n        width: 200,\n        render: value => (\n          <NumberFormat\n            value={value}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n          />\n        )\n      }\n    ];\n\n    return (\n      <div className=\"reporting__revenue-statistic reporting__block-style\">\n        <Row style={{ width: '100%', position: 'relative', margin: 0 }} gutter={20} justify=\"center\">\n          <Col span={8}>\n            <div className=\"reporting__revenue-statistic__widget --revenue-total\">\n              <div className=\"reporting__revenue-statistic__widget__content\">\n                <div className=\"reporting__revenue-statistic__widget__content__value\">\n                  <StarFilled />\n                  <NumberFormat\n                    value={revenueTotal}\n                    displayType=\"text\"\n                    thousandSeparator={true}\n                    suffix=\" đ̲\"\n                    className=\"reporting__revenue-statistic__revenue__number\"\n                  />\n                </div>\n                <span className=\"reporting__revenue-statistic__widget__content__label\">Tổng doanh thu bán hàng</span>\n              </div>\n            </div>\n          </Col>\n          <Col span={8}>\n            <div className=\"reporting__revenue-statistic__widget --payment-total\">\n              <Popover\n                content={\n                  <Table\n                    dataSource={paymentItems}\n                    columns={paymentItemColumns}\n                    pagination={false}\n                  />\n                }\n                title=\"Hạng mục cần chi trả\"\n                trigger=\"click\"\n                placement=\"bottom\"\n                overlayClassName=\"reporting__revenue-statistic__widget__popover\"\n              >\n                <Tooltip title=\"Hạng mục cần chi trả\" placement=\"top\">\n                  <Button\n                    shape=\"circle\"\n                    icon={<UnorderedListOutlined />}\n                    className=\"reporting__revenue-statistic__widget__btn\"\n                  />\n                </Tooltip>\n              </Popover>\n              <div className=\"reporting__revenue-statistic__widget__content\">\n                <div className=\"reporting__revenue-statistic__widget__content__value\">\n                  <TagFilled />\n                  <NumberFormat\n                    value={paymentTotal}\n                    displayType=\"text\"\n                    thousandSeparator={true}\n                    suffix=\" đ̲\"\n                    className=\"reporting__revenue-statistic__revenue__number\"\n                  />\n                </div>\n                <span className=\"reporting__revenue-statistic__widget__content__label\">Tổng phí đã chi trả</span>\n              </div>\n            </div>\n          </Col>\n          <Col span={8}>\n            <div className=\"reporting__revenue-statistic__widget --profit-total\">\n              <div className=\"reporting__revenue-statistic__widget__content\">\n                <div className=\"reporting__revenue-statistic__widget__content__value\">\n                  <ScheduleFilled />\n                  <NumberFormat\n                    value={profitTotal}\n                    displayType=\"text\"\n                    thousandSeparator={true}\n                    suffix=\" đ̲\"\n                    className=\"reporting__revenue-statistic__revenue__number\"\n                  />\n                </div>\n                <span className=\"reporting__revenue-statistic__widget__content__label\">Tổng doanh thu sau chi trả</span>\n              </div>\n            </div>\n          </Col>\n        </Row>\n        <div className=\"reporting__revenue-statistic__chart\">\n          <h1>Doanh thu bán hàng mỗi ngày</h1>\n          <Bar\n            data={lineChartData}\n            options={chartOptions}\n            height={height}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n","export default {\n  0: 'Tháng 1',\n  1: 'Tháng 2',\n  2: 'Tháng 3',\n  3: 'Tháng 4',\n  4: 'Tháng 5',\n  5: 'Tháng 6',\n  6: 'Tháng 7',\n  7: 'Tháng 8',\n  8: 'Tháng 9',\n  9: 'Tháng 10',\n  10: 'Tháng 11',\n  11: 'Tháng 12',\n}","import React, { Component } from 'react';\nimport Carousel from \"react-multi-carousel\";\nimport 'react-multi-carousel/lib/styles.css';\nimport { Card, Popover, Row, Col } from 'antd';\nimport './BestSelling.style.scss';\nimport NumberFormat from 'react-number-format';\n\nconst { Meta } = Card;\nconst responsive = {\n  desktop: {\n    breakpoint: { max: 3000, min: 1024 },\n    item: 3,\n    paritialVisibilityGutter: 60\n  },\n  tablet: {\n    breakpoint: { max: 1024, min: 464 },\n    item: 2,\n    paritialVisibilityGutter: 50\n  },\n  mobile: {\n    breakpoint: { max: 464, min: 0 },\n    item: 1,\n    paritialVisibilityGutter: 30\n  }\n};\n\nexport default class BestSelling extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      deviceType: 'desktop'\n    }\n  }\n  render() {\n    const { products } = this.props;\n    const { deviceType } = this.state;\n    return (\n      <div className=\"product-statistic__products__best-selling\">\n        <h1>\n          Sản phẩm bán chạy\n          <span className=\"product-statistic__products__best-selling__hot-badge\">HOT</span>\n        </h1>\n        {products.length === 0 ? (\n          <div className=\"product-statistic__products__best-selling__item\" style={{ paddingLeft: 5 }}>\n            <p>Chưa ghi nhận.</p>\n          </div>\n        ) : (\n            <div className=\"product-statistic__products__best-selling__item\">\n              <Carousel\n                swipeable={false}\n                draggable={true}\n                ssr={true} // means to render carousel on server-side.\n                keyBoardControl={true}\n                responsive={responsive}\n                containerClass=\"carousel-container\"\n                removeArrowOnDeviceType={[\"tablet\", \"mobile\"]}\n                deviceType={deviceType}\n                itemClass=\"carousel-item-padding-40-px\"\n\n              >\n                {products.map((p, i) => {\n                  return (\n                    <Popover\n                      key={i}\n                      overlayClassName=\"product-statistic__products__best-selling__item__details\"\n                      placement=\"bottomLeft\"\n                      title={p.details.name}\n                      content={\n                        <div>\n                          <Row style={{ width: '100%' }} gutter={10}>\n                            <Col span={8}>Thể loại</Col>\n                            <Col span={16}>{p.category.name}</Col>\n                          </Row>\n                          <Row style={{ width: '100%' }} gutter={10}>\n                            <Col span={8}>Nhà cung cấp</Col>\n                            <Col span={16}>{p.supplier.name}</Col>\n                          </Row>\n                          <Row style={{ width: '100%' }} gutter={10}>\n                            <Col span={8}>Giá bán</Col>\n                            <Col span={16}>\n                              <NumberFormat\n                                value={p.details.price}\n                                displayType=\"text\"\n                                thousandSeparator={true}\n                                suffix=\" đ̲\"\n                                style={{ fontWeight: 'bold' }}\n                              />\n                            </Col>\n                          </Row>\n                          <Row style={{ width: '100%' }} gutter={10}>\n                            <Col span={8}>SL đã bán</Col>\n                            <Col span={16}>{p.quantity}</Col>\n                          </Row>\n                          <Row style={{ width: '100%' }} gutter={10}>\n                            <Col span={8}>SL tồn kho</Col>\n                            <Col span={16}>{p.details.availableQuantity}</Col>\n                          </Row>\n                        </div>\n                      }\n                      trigger=\"hover\">\n                      <Card\n                        className=\"animated zoomIn\"\n                        cover={<img alt=\"example\" src={p.details.image} />}\n                        key={i}\n                        style={{ animationDelay: `${0.2 * i}s` }}\n                      >\n                        <Meta title={p.details.name} description={<span>SL đã bán: <strong>{p.quantity}</strong></span>} />\n                      </Card>\n                    </Popover>\n\n                  );\n                })}\n              </Carousel>\n            </div>\n          )}\n      </div>\n    )\n  }\n}","import React, { Component } from 'react';\nimport { Popover, Button, Tooltip, Table } from 'antd';\nimport { UnorderedListOutlined } from '@ant-design/icons';\nimport './ImportingHistory.style.scss';\nimport moment from 'moment';\n\nexport default class ImportingHistory extends Component {\n  render() {\n    let { importedProducts } = this.props;\n    importedProducts = importedProducts.map((p, i) => ({ ...p, key: i }));\n    const columns = [\n      {\n        title: 'Mã sản phẩm',\n        dataIndex: 'id',\n        key: 'id',\n        width: 100,\n        render: (value, record) => record.details._id\n      },\n      {\n        title: 'Tên sản phẩm',\n        dataIndex: 'name',\n        key: 'name',\n        width: 100,\n        render: (value, record) => record.details.name\n      },\n      {\n        title: <center>SL cần nhập</center>,\n        dataIndex: 'requiredQuantity',\n        width: 100,\n        key: 'requiredQuantity',\n        render: value => <center>{value}</center>\n      },\n      {\n        title: <center>SL đã nhập</center>,\n        dataIndex: 'importedQuantity',\n        width: 100,\n        key: 'importedQuantity',\n        render: value => <center>{value}</center>\n      },\n      {\n        title: <center>Lần nhập cuối</center>,\n        dataIndex: 'updatedAt',\n        width: 100,\n        key: 'updatedAt',\n        render: (value, record) => record.importedQuantity > 0 ? (<center>{moment(value).format('HH:mm DD/MM/YYYY')}</center>) : ''\n      }\n    ];\n\n    return (\n      <div className=\"importing-history\">\n        <Popover\n          placement=\"right\"\n          title=\"Sản phẩm cần nhập\"\n          content={\n            <Table\n              dataSource={importedProducts}\n              columns={columns}\n              pagination={false}\n            />\n          }\n          trigger=\"click\"\n          overlayClassName=\"importing-history__content\"\n        >\n          <Tooltip title=\"Sản phẩm cần nhập\" placement=\"top\">\n            <Button\n              type=\"default\"\n              icon={<UnorderedListOutlined />}\n              shape=\"circle\"\n              className=\"importing-history__btn-show\"\n            />\n          </Tooltip>\n        </Popover>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Row, Col, Progress } from 'antd';\nimport NumberFormat from 'react-number-format';\nimport * as _ from 'lodash';\nimport './ImportingStatistic.style.scss';\nimport ImportingHistory from '../ImportingHistory/ImportingHistory';\n\nexport default class ImportingStatistic extends Component {\n  render() {\n    const {\n      importedQuantityTotal,\n      requiredQuantityTotal,\n      importingCostTotal,\n      requiredImportingCostTotal,\n      importedProducts\n    } = this.props;\n    const importingCompletedRatio = _.round(importedQuantityTotal * 100 / (importedQuantityTotal + requiredQuantityTotal), 2);\n    return (\n      <div className=\"product-statistic__products__statistic__item --importing-statistic\">\n        <div className=\"--importing-statistic__header\">\n          <ImportingHistory\n            importedProducts={[...importedProducts]}\n          />\n          <span className=\"--importing-statistic__header__title\">Thống kê nhập hàng</span>\n          <div className=\"--importing-statistic__header__importing-cost\">\n            <span>Tổng chi phí đã nhập:</span>\n            <NumberFormat\n              value={importingCostTotal}\n              displayType=\"text\"\n              thousandSeparator={true}\n              suffix=\" đ̲\"\n              className=\"--importing-statistic__header__importing-cost__number\"\n            />\n          </div>\n          <div className=\"--importing-statistic__header__importing-cost\">\n            <span>Tổng chi phí dự kiến:</span>\n            <NumberFormat\n              value={requiredImportingCostTotal}\n              displayType=\"text\"\n              thousandSeparator={true}\n              suffix=\" đ̲\"\n              className=\"--importing-statistic__header__importing-cost__number\"\n            />\n          </div>\n        </div>\n\n        <div className=\"--importing-statistic__progress-wrapper\">\n          <Progress\n            type=\"circle\"\n            strokeColor={importingCompletedRatio < 100 ? {\n              '0%': '#f09819',\n              '100%': '#ff5858',\n            } : ''}\n            percent={importingCompletedRatio}\n            format={percent => (\n              <div className=\"--importing-statistic__progress-wrapper__progress-inner\">\n                <span className=\"--importing-statistic__progress-wrapper__progress-inner__value\">\n                  {importedQuantityTotal}/{requiredQuantityTotal}\n                </span>\n                <span className=\"--importing-statistic__progress-wrapper__progress-inner__label\">\n                  Sản phẩm\n                </span>\n              </div>\n            )}\n          />\n        </div>\n        <div className=\"--importing-statistic__footer\">\n          <Row style={{ width: '100%', height: '100%' }} justify=\"center\">\n            <Col span={12}>\n              <div className=\"--importing-statistic__footer__col\">\n                <span className=\"--importing-statistic__footer__col__value\">\n                  {importedQuantityTotal}\n                </span>\n                <span className=\"--importing-statistic__footer__col__label\">\n                  Sản phẩm đã nhập\n                </span>\n              </div>\n            </Col>\n            <Col span={12}>\n              <div className=\"--importing-statistic__footer__col\">\n                <span className=\"--importing-statistic__footer__col__value\">\n                  {requiredQuantityTotal - importedQuantityTotal}\n                </span>\n                <span className=\"--importing-statistic__footer__col__label\">\n                  Sản phẩm chờ nhập\n                </span>\n              </div>\n            </Col>\n          </Row>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport './SellingHistory.style.scss';\nimport { Popover, Button, Tooltip, Empty, Row, Col } from 'antd';\nimport { HistoryOutlined } from '@ant-design/icons';\nimport moment from 'moment';\nimport NumberFormat from 'react-number-format';\n\nexport default class SellingHistory extends Component {\n  render() {\n    let { sellingHistories } = this.props;\n    sellingHistories = sellingHistories.map((h, i) => ({ ...h, key: i }));\n    return (\n      <div className=\"selling-history\">\n        <Popover\n          placement=\"right\"\n          title=\"Lịch sử bán hàng\"\n          content={\n            <div className=\"selling-history__content__list\">\n              {sellingHistories.length === 0 ? (\n                <div className=\"selling-history__content__list__empty\">\n                  <Empty description=\"Chưa có ghi nhận nào\" />\n                </div>\n              ) : (\n                  sellingHistories.map((sh, i) => (\n                    <div className=\"selling-history__content__list__item\" key={i}>\n                      <p className=\"selling-history__content__list__item__products\">\n                        {sh.soldItems.map((item, index) => {\n                          return index < sh.soldItems.length - 1 ? (\n                            <span key={index}>{`${item.product.name} x${item.quantity}, `}</span>\n                          ) : (\n                              <span key={index}>{`${item.product.name} x${item.quantity}.`}</span>\n                            )\n                        })}\n                      </p>\n                      <div className=\"selling-history__content__list__item__footer\">\n                        <Row style={{ width: '100%' }} gutter={10}>\n                          <Col span={8}>\n                            <span className=\"selling-history__content__list__item__footer__label\">\n                              Vào lúc:\n                            </span>\n                            <span className=\"selling-history__content__list__item__footer__value\">\n                              {moment(sh.submittedAt).format('HH:mm DD/MM/YYYY')}\n                            </span>\n                          </Col>\n                          <Col span={8}>\n                            <span className=\"selling-history__content__list__item__footer__label\">\n                              Thu ngân:\n                            </span>\n                            <span className=\"selling-history__content__list__item__footer__value --highline\">\n                              {sh.cashier.fullname}\n                            </span>\n                          </Col>\n                          <Col span={8}>\n                            <span className=\"selling-history__content__list__item__footer__label\">\n                              Tổng tiền:\n                            </span>\n                            <NumberFormat\n                              className=\"selling-history__content__list__item__footer__value\"\n                              value={Number(sh.priceTotal)}\n                              displayType=\"text\"\n                              thousandSeparator={true}\n                              suffix=\" đ̲\"\n                              style={{ fontWeight: 'bold' }}\n                            />\n                          </Col>\n                        </Row>\n\n                      </div>\n                    </div>\n                  ))\n                )}\n            </div>\n          }\n          trigger=\"click\"\n          overlayClassName=\"selling-history__content\"\n        >\n          <Tooltip title=\"Lịch sử bán hàng\" placement=\"top\">\n            <Button\n              icon={<HistoryOutlined />}\n              shape=\"circle\"\n              className=\"product-quantity-statistic__item__btn\"\n            />\n          </Tooltip>\n        </Popover>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport './ NewProductList.style.scss';\nimport { Button, Popover, Tooltip, Table } from 'antd';\nimport { HistoryOutlined } from '@ant-design/icons';\nimport NumberFormat from 'react-number-format';\nimport SupplierContactPopover from '../../../../utilities/SupplierContactPopover/SupplierContactPopover';\nimport moment from 'moment';\n\nexport default class NewProductList extends Component {\n  render() {\n    let { newProducts } = this.props;\n    newProducts = newProducts.map((p, i) => ({ ...p, key: i }));\n    const columns = [\n      {\n        title: '',\n        dataIndex: 'image',\n        key: 'image',\n        width: 60,\n        render: (text) => (\n          <img\n            style={{ width: 25, marginLeft: 10 }}\n            src={text}\n            alt=\"product\" />\n        )\n      },\n      {\n        title: 'Sản phẩm',\n        dataIndex: 'name',\n        key: 'name',\n        width: 200\n      },\n      {\n        title: 'Thể loại',\n        dataIndex: 'category',\n        key: 'category',\n        width: 180,\n        render: (text, record) => (<span>{record.category.name}</span>)\n      },\n      {\n        title: 'Nhà cung cấp',\n        dataIndex: 'supplier',\n        key: 'supplier',\n        width: 200,\n        render: (text, record) => (\n          <SupplierContactPopover\n            supplier={{ ...record.supplier }}\n            buttonText={record.supplier.name}\n            buttonStyle={{ fontSize: 11 }}\n            placement=\"right\"\n          />\n        )\n      },\n      {\n        title: 'Giá bán',\n        dataIndex: 'price',\n        key: 'price',\n        width: 120,\n        render: (text) => (\n          <NumberFormat\n            value={Number(text)}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n          />\n        )\n      },\n      {\n        title: <center>SL hiện có</center>,\n        dataIndex: 'availableQuantity',\n        key: 'availableQuantity',\n        width: 100,\n        render: (text) => (<center>{text}</center>)\n      },\n      {\n        title: <center>Thêm lúc</center>,\n        dataIndex: 'addedAt',\n        key: 'addedAt',\n        width: 80,\n        render: (text) => (<center>{moment(text).format('HH:mm DD/MM/YYYY')}</center>)\n      },\n      {\n        title: <center>Thực hiện</center>,\n        dataIndex: 'executor',\n        key: 'executor',\n        width: 100,\n        render: value => (<center>{value.fullname}</center>)\n      }\n    ];\n\n    return (\n      <div className=\"new-product-list\">\n        <Popover\n          overlayClassName=\"new-product-list__content\"\n          placement=\"bottomRight\"\n          title=\"Sản phẩm mới\"\n          content={\n            <Table\n              dataSource={[...newProducts]}\n              columns={columns}\n              pagination={false}\n            />\n          }\n          trigger=\"click\">\n          <Tooltip title=\"Sản phẩm mới\" placement=\"top\">\n            <Button\n              icon={<HistoryOutlined />}\n              shape=\"circle\"\n              className=\"product-quantity-statistic__item__btn\"\n            />\n          </Tooltip>\n        </Popover>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Row, Col } from 'antd';\nimport NumberFormat from 'react-number-format';\nimport './ProductQuantityStatistic.style.scss';\nimport { Line } from 'react-chartjs-2';\nimport moment from 'moment';\nimport SellingHistory from '../SellingHistory/SellingHistory';\nimport NewProductList from '../NewProductList/NewProductList';\n\nexport default class ProductQuantityStatistic extends Component {\n  render() {\n    const {\n      soldQuantityTotal,\n      newProductTotal,\n      availableQuantityTotal,\n      soldQuantityStatisticData,\n      sellingHistories,\n      newProducts\n    } = this.props;\n\n    const chartOptions = {\n      legend: { display: false },\n      scales: {\n        xAxes: [{\n          ticks: {\n            display: false //this will remove only the label\n          },\n          gridLines: {\n            display: false\n          }\n        }],\n        yAxes: [{\n          ticks: {\n            display: false //this will remove only the label\n          },\n          gridLines: {\n            display: false\n          }\n        }]\n      }\n    };\n    const soldQuantityStatisticChartData = {\n      labels: soldQuantityStatisticData.map(item => moment(item.date).format('DD/MM')),\n      datasets: [\n        {\n          label: 'SL',\n          fill: false,\n          lineTension: 0.2,\n          backgroundColor: 'orange',\n          borderColor: 'orange',\n          borderCapStyle: 'butt',\n          borderDash: [],\n          borderDashOffset: 0.0,\n          borderJoinStyle: 'miter',\n          pointBorderColor: 'orange',\n          pointBackgroundColor: '#fff',\n          pointBorderWidth: 2,\n          pointHoverRadius: 5,\n          pointHoverBackgroundColor: '#fff',\n          pointHoverBorderColor: 'orange',\n          pointHoverBorderWidth: 2,\n          pointRadius: 0,\n          pointHitRadius: 10,\n          data: soldQuantityStatisticData.map(item => item.quantity)\n        }\n      ]\n    }\n\n    return (\n      <div className=\"product-quantity-statistic\">\n        <Row style={{ width: '100%' }} gutter={20}>\n          <Col span={8}>\n            <div className=\"product-quantity-statistic__item --sold\">\n              <SellingHistory\n                sellingHistories={[...sellingHistories]}\n              />\n              <div className=\"product-quantity-statistic__item__metric\">\n                <NumberFormat\n                  value={soldQuantityTotal}\n                  displayType=\"text\"\n                  thousandSeparator={true}\n                  className=\"product-quantity-statistic__item__metric__quantity\"\n                />\n                <span className=\"product-quantity-statistic__item__metric__label\">Sản phẩm đã bán</span>\n              </div>\n\n              <div className=\"product-quantity-statistic__item__chart\">\n                <Line\n                  data={soldQuantityStatisticChartData}\n                  options={chartOptions}\n                  height={180}\n                />\n              </div>\n            </div>\n          </Col>\n          <Col span={8}>\n            <div className=\"product-quantity-statistic__item --new\">\n              <NewProductList\n                newProducts={[...newProducts]}\n              />\n              <div className=\"product-quantity-statistic__item__metric\">\n                <NumberFormat\n                  value={newProductTotal}\n                  displayType=\"text\"\n                  thousandSeparator={true}\n                  prefix={newProductTotal > 0 ? '+' : ''}\n                  className=\"product-quantity-statistic__item__metric__quantity\"\n                />\n                <span className=\"product-quantity-statistic__item__metric__label\">Sản phẩm mới</span>\n              </div>\n            </div>\n          </Col>\n          <Col span={8}>\n            <div className=\"product-quantity-statistic__item --available\">\n              <div className=\"product-quantity-statistic__item__metric\">\n                <NumberFormat\n                  value={availableQuantityTotal}\n                  displayType=\"text\"\n                  thousandSeparator={true}\n                  className=\"product-quantity-statistic__item__metric__quantity\"\n                />\n                <span className=\"product-quantity-statistic__item__metric__label\">Sản phẩm tồn kho</span>\n              </div>\n            </div>\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport './ReportToPrint.style.scss';\nimport moment from 'moment';\nimport { Table, Row, Col } from 'antd';\nimport { withCookies } from 'react-cookie';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport NumberFormat from 'react-number-format';\n\nclass ReportToPrint extends Component {\n  render() {\n    const manager = this.props.cookies.get(COOKIE_NAMES.user);\n    let {\n      soldProducts,\n      importedProducts,\n      sellingRevenueTotal,\n      salaryTotal,\n      importingCostTotal,\n      month,\n      year\n    } = this.props;\n\n    soldProducts = soldProducts.map((p, i) => {\n      const newProduct = { ...p, key: i, sellingRevenue: p.quantity * p.details.price };\n      newProduct.details._id = newProduct.details._id.slice(-12);\n      return newProduct;\n    });\n    soldProducts.push({\n      key: soldProducts.length,\n      quantity: soldProducts.reduce((acc, cur) => acc + cur.quantity, 0),\n      details: {\n        _id: 'Tổng cộng',\n        name: '',\n        availableQuantity: soldProducts.reduce((acc, cur) => acc + cur.details.availableQuantity, 0),\n        price: ''\n      },\n      sellingRevenue: soldProducts.reduce((acc, cur) => acc + cur.sellingRevenue, 0)\n    });\n    const soldProductColumns = [\n      {\n        title: 'Mã sản phẩm',\n        dataIndex: 'id',\n        key: 'id',\n        width: 100,\n        render: (value, record) => record.details._id\n      },\n      {\n        title: 'Tên sản phẩm',\n        dataIndex: 'name',\n        key: 'name',\n        width: 150,\n        render: (value, record) => record.details.name\n      },\n      {\n        title: <center>SL tồn kho</center>,\n        dataIndex: 'availableQuantity',\n        key: 'availableQuantity',\n        width: 100,\n        render: (value, record) => <center>{record.details.availableQuantity}</center>\n      },\n      {\n        title: <center>SL đã bán</center>,\n        dataIndex: 'quantity',\n        key: 'quantity',\n        width: 100,\n        render: value => <center>{value}</center>\n      },\n      {\n        title: 'Đơn giá',\n        dataIndex: 'price',\n        key: 'price',\n        width: 100,\n        render: (value, record) => (\n          <NumberFormat\n            value={record.details.price}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n          />\n        )\n      },\n      {\n        title: 'Doanh thu',\n        dataIndex: 'sellingRevenue',\n        key: 'sellingRevenue',\n        width: 100,\n        render: value => (\n          <NumberFormat\n            value={value}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n          />\n        )\n      }\n    ];\n\n    importedProducts = importedProducts.map((p, i) => {\n      const newProduct = { ...p, key: i, importingCost: p.importedQuantity * p.details.price };\n      newProduct.details._id = newProduct.details._id.slice(-12);\n      return newProduct;\n    });\n    importedProducts.push({\n      key: importedProducts.length,\n      importedQuantity: importedProducts.reduce((acc, cur) => acc + cur.importedQuantity, 0),\n      requiredQuantity: importedProducts.reduce((acc, cur) => acc + cur.requiredQuantity, 0),\n      details: {\n        _id: 'Tổng cộng',\n        name: '',\n        availableQuantity: importedProducts.reduce((acc, cur) => acc + cur.details.availableQuantity, 0)\n      },\n      importingCost: importedProducts.reduce((acc, cur) => acc + cur.importingCost, 0)\n    })\n    const importedProductColumns = [\n      {\n        title: 'Mã sản phẩm',\n        dataIndex: 'id',\n        key: 'id',\n        width: 100,\n        render: (value, record) => record.details._id\n      },\n      {\n        title: 'Tên sản phẩm',\n        dataIndex: 'name',\n        key: 'name',\n        width: 150,\n        render: (value, record) => record.details.name\n      },\n      {\n        title: <center>SL tồn kho</center>,\n        dataIndex: 'availableQuantity',\n        width: 100,\n        key: 'availableQuantity',\n        render: (value, record) => <center>{record.details.availableQuantity}</center>\n      },\n      {\n        title: <center>SL đã nhập</center>,\n        dataIndex: 'importedQuantity',\n        width: 100,\n        key: 'importedQuantity',\n        render: value => <center>{value}</center>\n      },\n      {\n        title: 'Đơn giá',\n        dataIndex: 'price',\n        key: 'price',\n        width: 100,\n        render: (value, record) => (\n          <NumberFormat\n            value={record.details.price}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n          />\n        )\n      },\n      {\n        title: 'Phí nhập',\n        dataIndex: 'importingCost',\n        key: 'importingCost',\n        width: 100,\n        render: value => (\n          <NumberFormat\n            value={value}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n          />\n        )\n      }\n    ];\n\n    const incomes = [\n      {\n        key: '1',\n        order: 1,\n        name: 'Doanh thu bán hàng',\n        value: sellingRevenueTotal\n      },\n      {\n        key: '2',\n        order: 'Tổng doanh thu',\n        name: '',\n        value: sellingRevenueTotal\n      }\n    ];\n    const incomeColumns = [\n      {\n        title: 'STT',\n        dataIndex: 'order',\n        key: 'order',\n        width: 125\n      },\n      {\n        title: 'Hạng mục',\n        dataIndex: 'name',\n        key: 'name',\n        width: 250\n      },\n      {\n        title: 'Doanh thu',\n        dataIndex: 'value',\n        key: 'value',\n        width: 125,\n        render: value => (\n          <NumberFormat\n            value={value}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n          />\n        )\n      }\n    ];\n\n    const payments = [\n      {\n        key: '1',\n        order: 1,\n        name: 'Lương nhân sự',\n        value: salaryTotal\n      },\n      {\n        key: '2',\n        order: 2,\n        name: 'Chi phí nhập hàng',\n        value: importingCostTotal\n      },\n      {\n        key: '3',\n        order: 'Tổng chi trả',\n        name: '',\n        value: salaryTotal + importingCostTotal\n      }\n    ];\n    const paymentColumns = [\n      {\n        title: 'STT',\n        dataIndex: 'order',\n        key: 'order',\n        width: 125\n      },\n      {\n        title: 'Hạng mục',\n        dataIndex: 'name',\n        key: 'name',\n        width: 250\n      },\n      {\n        title: 'Chi phí',\n        dataIndex: 'value',\n        key: 'value',\n        width: 125,\n        render: value => (\n          <NumberFormat\n            value={value}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n          />\n        )\n      }\n    ];\n\n    return (\n      <div className=\"reporting__report-to-print__content\">\n        <div className=\"reporting__report-to-print__content__header\">\n          <div className=\"reporting__report-to-print__content__header__company\">\n            <img\n              className=\"reporting__report-to-print__content__header__company__logo\"\n              src={require('../../../../../assets/images/app-logo.png')} alt=\"logo\" />\n            <div className=\"reporting__report-to-print__content__header__company__brand\">\n              <div className=\"reporting__report-to-print__content__header__company__brand__name\">\n                <span>Mini Mart</span>\n              </div>\n              <div className=\"reporting__report-to-print__content__header__company__brand__slogan\">\n                <span>Tiện Lợi mà Chất Lượng</span>\n              </div>\n            </div>\n          </div>\n          <span className=\"reporting__report-to-print__content__header__date\">Ngày xuất: {moment().format('DD/MM/YYYY HH:mm')}</span>\n        </div>\n        <h2 className=\"reporting__report-to-print__content__main-title\">\n          BÁO CÁO THÁNG {moment(`${month}/${year}`, 'MM/YYYY').format('MM/YYYY')}\n        </h2>\n        <div className=\"reporting__report-to-print__content__body\">\n\n          <div className=\"reporting__report-to-print__content__body__selling-statistic\">\n            <h3>1. Bán hàng</h3>\n            <div className=\"reporting__report-to-print__content__body__table\">\n              <Table\n                dataSource={[...soldProducts]}\n                columns={soldProductColumns}\n                pagination={false}\n              />\n            </div>\n          </div>\n\n          <div className=\"reporting__report-to-print__content__body__importing-statistic\">\n            <h3>2. Nhập hàng</h3>\n            <div className=\"reporting__report-to-print__content__body__table\">\n              <Table\n                dataSource={[...importedProducts]}\n                columns={importedProductColumns}\n                pagination={false}\n              />\n            </div>\n          </div>\n\n          <div className=\"reporting__report-to-print__content__body__revenue-statistic\">\n            <h3>3. Doanh thu</h3>\n            <div className=\"reporting__report-to-print__content__body__table\">\n              <Table\n                dataSource={[...incomes]}\n                columns={incomeColumns}\n                pagination={false}\n              />\n            </div>\n          </div>\n\n          <div className=\"reporting__report-to-print__content__body__revenue-statistic\">\n            <h3>4. Chi trả</h3>\n            <div className=\"reporting__report-to-print__content__body__table\">\n              <Table\n                dataSource={[...payments]}\n                columns={paymentColumns}\n                pagination={false}\n              />\n            </div>\n          </div>\n\n          <Row justify=\"center\" align=\"middle\"\n            className=\"reporting__report-to-print__content__body__manager-confirm\">\n            <Col span={14}></Col>\n            <Col span={10} align=\"middle\">\n              <span className=\"reporting__report-to-print__content__body__manager-confirm__stand-for\">TM. Người quản lý</span>\n              <div className=\"reporting__report-to-print__content__body__manager-confirm__signature\">\n                <img src=\"https://files.slack.com/files-pri/THXMMTH2T-F0110T0NABG/signature__1_.png\" alt=\"signature\" />\n              </div>\n              <span className=\"reporting__report-to-print__content__body__manager-confirm__fullname\">{manager.fullname}</span>\n            </Col>\n          </Row>\n\n        </div>\n      </div>\n    )\n  }\n}\nexport default withCookies(ReportToPrint);","import React from 'react';\nimport { DatePicker, Row, Col, Table, Input, Button, Tooltip } from 'antd';\nimport './Reporting.style.scss';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../redux/actions';\nimport { withCookies } from 'react-cookie';\nimport { API } from '../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport moment from 'moment';\nimport RevenueStatistic from './RevenueStatistic/RevenueStatistic';\nimport MONTHS from '../../../../constants/months.constant';\nimport QRCode from 'qrcode.react';\nimport NumberFormat from 'react-number-format';\nimport { SearchOutlined, PrinterFilled } from '@ant-design/icons';\nimport BestSelling from './BestSelling/BestSelling';\nimport ImportingStatistic from './ImportingStatistic/ImportingStatistic';\nimport ProductQuantityStatistic from './ProductQuantityStatistic/ProductQuantityStatistic';\nimport ReportToPrint from './ReportToPrint/ReportToPrint';\nimport ReactToPrint from 'react-to-print';\nimport SupplierContactPopover from '../../../utilities/SupplierContactPopover/SupplierContactPopover';\n\nclass Reporting extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      month: new Date().getMonth() + 1,\n      year: new Date().getFullYear(),\n      products: [],\n      bestSellingProducts: [],\n      soldProducts: [],\n      importedProducts: [],\n      newProducts: [],\n      sellingHistories: [],\n      importedQuantityTotal: 0,\n      requiredQuantityTotal: 0,\n      importingCostTotal: 0,\n      requiredImportingCostTotal: 0,\n      soldQuantityTotal: 0,\n      newProductTotal: 0,\n      revenueTotal: 0,\n      paymentTotal: 0,\n      salaryTotal: 0,\n      revenueStatisticData: [],\n      soldQuantityStatisticData: [],\n      productCurrentPage: 1,\n      productPageLimit: 10,\n      productTotal: 0,\n      isLoading: true\n    }\n  }\n\n  componentWillUnmount() {\n    // fix Warning: Can't perform a React state update on an unmounted component\n    this.setState = (state, callback) => {\n      return;\n    };\n  }\n\n  componentDidMount() {\n    this.loadData(this.state.month, this.state.year);\n  }\n\n  async loadData(month, year) {\n    try {\n      this.props.setAppLoading(true);\n      const res = await Promise.all([\n        this.loadProducts(1, month, year)\n      ]);\n      this.props.setAppLoading(false);\n      const loadProductResult = res[0];\n      this.setState({\n        ...loadProductResult,\n        productCurrentPage: 1,\n        isLoading: false\n      });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async loadProducts(page, month, year) {\n    try {\n      const statisticStartDate = new Date(moment(`${month}/${year}`, 'MM/YYYY').startOf('day')).getTime();\n      const statisticEndDate = new Date(moment(`${moment(new Date(statisticStartDate)).daysInMonth()}/${month}/${year}`, 'DD/MM/YYYY').endOf('day')).getTime();\n\n      const res = await (\n        await fetch(\n          API.Manager.Reporting.getProducts\n            .replace('{page}', page)\n            .replace('{limit}', this.state.productPageLimit)\n            .replace('{statisticStartDate}', statisticStartDate.toString())\n            .replace('{statisticEndDate}', statisticEndDate.toString()),\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status !== 200) {\n        return Promise.reject(res.errors[0]);\n      }\n\n      return Promise.resolve({ ...res.data });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  monthCellRender(date) {\n    const _date = new Date(date);\n    const monthIndex = _date.getMonth();\n    return MONTHS[monthIndex];\n  }\n\n  onDatePickerChange(e) {\n    const selectedDate = new Date(e);\n    const month = selectedDate.getMonth() + 1;\n    const year = selectedDate.getFullYear();\n    this.loadData(month, year);\n    this.setState({ month, year });\n  }\n\n  async onProductPageChange(page) {\n    try {\n      const res = await this.loadProducts(page);\n      this.setState({\n        productCurrentPage: page,\n        products: res.products\n      });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    let {\n      month,\n      year,\n      products,\n      bestSellingProducts,\n      importedQuantityTotal,\n      requiredQuantityTotal,\n      importingCostTotal,\n      requiredImportingCostTotal,\n      soldQuantityTotal,\n      newProductTotal,\n      revenueTotal,\n      paymentTotal,\n      revenueStatisticData,\n      soldQuantityStatisticData,\n      productCurrentPage,\n      productPageLimit,\n      productTotal\n    } = this.state;\n    products = products.map((p, i) => ({ ...p, key: i }));\n    const isPaginationShown = Math.ceil(productTotal / productPageLimit) > 1;\n    const columns = [\n      {\n        title: '',\n        dataIndex: 'image',\n        key: 'image',\n        width: 60,\n        render: (text) => (\n          <img\n            style={{ width: 25, marginLeft: 10 }}\n            src={text}\n            alt=\"product\" />\n        )\n      },\n      {\n        title: 'Sản phẩm',\n        dataIndex: 'name',\n        key: 'name',\n        width: 200\n      },\n      {\n        title: 'Thể loại',\n        dataIndex: 'category',\n        key: 'category',\n        width: 180,\n        render: (text, record) => (<span>{record.category.name}</span>)\n      },\n      {\n        title: 'Nhà cung cấp',\n        dataIndex: 'supplier',\n        key: 'supplier',\n        width: 200,\n        render: (text, record) => (\n          <SupplierContactPopover\n            supplier={{ ...record.supplier }}\n            buttonText={record.supplier.name}\n            buttonStyle={{ fontSize: 11 }}\n            placement=\"right\"\n          />\n        )\n      },\n      {\n        title: 'Giá bán',\n        dataIndex: 'price',\n        key: 'price',\n        width: 120,\n        sorter: (a, b) => a.price - b.price,\n        render: (text) => (\n          <NumberFormat\n            value={Number(text)}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n          />\n        )\n      },\n      {\n        title: `SL đã nhập (Th${this.state.month}/${this.state.year})`,\n        dataIndex: 'importedQuantity',\n        key: 'importedQuantity',\n        width: 80,\n        sorter: (a, b) => a.importedQuantity - b.importedQuantity,\n        render: (text) => (<center>{text}</center>)\n      },\n      {\n        title: `SL đã bán (Th${this.state.month}/${this.state.year})`,\n        dataIndex: 'soldQuantity',\n        key: 'soldQuantity',\n        width: 80,\n        sorter: (a, b) => a.soldQuantity - b.soldQuantity,\n        render: (text) => (<center>{text}</center>)\n      },\n      {\n        title: 'SL tồn kho',\n        dataIndex: 'availableQuantity',\n        key: 'availableQuantity',\n        width: 80,\n        sorter: (a, b) => a.availableQuantity - b.availableQuantity,\n        render: (text) => (<center>{text}</center>)\n      },\n      {\n        title: 'Trạng thái',\n        dataIndex: 'status',\n        key: 'status',\n        width: 100,\n        render: (text, record) => (\n          <center>\n            {record.availableQuantity === 0 ? (\n              <span style={{ color: 'crimson', fontWeight: 'bold' }}>Hết hàng</span>\n            ) : 'Còn hàng'}\n          </center>\n        )\n      },\n      {\n        title: <center>Mã QR</center>,\n        dataIndex: 'qrcode',\n        key: 'qrcode',\n        render: (value, record) => (\n          <center>\n            <QRCode\n              value={record._id}\n              style={{ width: 25, height: 25 }}\n            />\n          </center>\n        )\n      }\n    ];\n\n    return (\n      <div className=\"reporting\">\n        <div className=\"reporting__header-cover\"></div>\n        <div className=\"reporting__header-cover2\"></div>\n        <ReactToPrint\n          trigger={() => (\n            <Tooltip title=\"In báo cáo\" placement=\"left\">\n              <Button\n                className=\"reporting__btn-print-report\"\n                shape=\"circle\"\n                type=\"primary\"\n                icon={<PrinterFilled />}\n              />\n            </Tooltip>\n          )}\n          content={() => this.reportToPrintRef}\n        />\n        <div className=\"reporting__report-to-print\">\n          <ReportToPrint\n            ref={el => (this.reportToPrintRef = el)}\n            soldProducts={[...this.state.soldProducts]}\n            importedProducts={[...this.state.importedProducts]}\n            sellingRevenueTotal={this.state.revenueTotal}\n            salaryTotal={this.state.salaryTotal}\n            importingCostTotal={this.state.importingCostTotal}\n            month={this.state.month}\n            year={this.state.year}\n          />\n        </div>\n        <div className=\"reporting__header\">\n          <div className=\"reporting__header__date-picker\">\n            <span className=\"reporting__header__date-picker__label\">Chọn tháng:</span>\n            <DatePicker\n              defaultValue={moment(`${month}/${year}`, 'MM/YYYY')}\n              format={'MM/YYYY'}\n              picker=\"month\"\n              size=\"small\"\n              clearIcon={null}\n              placeholder={null}\n              bordered={false}\n              monthCellRender={date => this.monthCellRender(date)}\n              onChange={e => this.onDatePickerChange(e)}\n            />\n          </div>\n\n        </div>\n\n        <RevenueStatistic\n          month={month}\n          year={year}\n          revenueTotal={revenueTotal}\n          paymentTotal={paymentTotal}\n          salaryTotal={this.state.salaryTotal}\n          importingCostTotal={importingCostTotal}\n          statisticData={[...revenueStatisticData]}\n        />\n\n        <div className=\"product-statistic reporting__block-style\">\n          <Row style={{ width: '100%' }}>\n            <Col span={24}>\n              <div className=\"product-statistic__products\">\n                <div className=\"product-statistic__products__header\">\n                  <div className=\"product-statistic__products__header__cover\"></div>\n                </div>\n                <div className=\"product-statistic__products__statistic\">\n                  <Row style={{ width: '100%' }} gutter={10}>\n\n                    <Col span={6} style={{ paddingLeft: 0 }}>\n                      <ImportingStatistic\n                        importedProducts={[...this.state.importedProducts]}\n                        importedQuantityTotal={importedQuantityTotal}\n                        requiredQuantityTotal={requiredQuantityTotal}\n                        importingCostTotal={importingCostTotal}\n                        requiredImportingCostTotal={requiredImportingCostTotal}\n                      />\n                    </Col>\n\n                    <Col span={18} style={{ paddingRight: 0 }}>\n                      <div className=\"product-statistic__products__statistic__item\">\n                        <ProductQuantityStatistic\n                          soldQuantityTotal={soldQuantityTotal}\n                          newProductTotal={newProductTotal}\n                          availableQuantityTotal={productTotal}\n                          soldQuantityStatisticData={[...soldQuantityStatisticData]}\n                          sellingHistories={[...this.state.sellingHistories]}\n                          newProducts={[...this.state.newProducts]}\n                        />\n                        <BestSelling\n                          products={[...bestSellingProducts]}\n                        />\n                      </div>\n                    </Col>\n\n                  </Row>\n                </div>\n\n                <div className=\"product-statistic__products__list\">\n                  <div className=\"product-statistic__products__list__header\">\n                    <Row style={{ width: '100%' }}>\n                      <Col span={8}>\n                        <h1>\n                          Sản phẩm siêu thị\n                          <span className=\"product-statistic__products__list__header__product-total\">\n                            {this.state.productTotal}\n                          </span>\n                        </h1>\n                      </Col>\n                      <Col span={10}></Col>\n                      <Col span={6} align=\"center\">\n                        <Input\n                          prefix={<SearchOutlined style={{ marginRight: 3 }} />}\n                          placeholder=\"Tìm kiếm sản phẩm...\"\n                          style={{ marginTop: 3 }}\n                        />\n                      </Col>\n                    </Row>\n                  </div>\n                  <div className=\"product-statistic__products__list__wrapper\">\n                    <Table\n                      dataSource={[...products]}\n                      columns={columns}\n                      pagination={isPaginationShown ? {\n                        current: productCurrentPage,\n                        pageSize: productPageLimit,\n                        total: productTotal,\n                        onChange: page => this.onProductPageChange(page)\n                      } : false}\n                    />\n                  </div>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </div>\n\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(Reporting));","export default {\n  'MALE': {\n    type: 'MALE',\n    name: 'Nam'\n  },\n  'FEMALE': {\n    type: 'FEMALE',\n    name: 'Nữ'\n  }\n}","import React from 'react';\nimport { PlusOutlined, UserAddOutlined, UserOutlined, KeyOutlined } from '@ant-design/icons';\nimport { Tooltip, Button, Modal, Form, Input, Select, DatePicker, Row, Col, Divider, message } from 'antd';\nimport './AddStaffDialog.style.scss';\nimport USER_SEX from '../../../../../constants/user-sex';\nimport USER_ROLES from '../../../../../constants/user-role.constant';\nimport moment from 'moment';\nimport { withCookies } from 'react-cookie';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport { API } from '../../../../../constants/api.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport ImageUploader from '../../../../utilities/ImageUploader/ImageUploader';\n\nconst { Option } = Select;\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 18 },\n};\n\nclass AddStaffDialog extends PageBase {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false\n    }\n\n    this.formRef = React.createRef();\n  }\n\n  setDialogVisible(isVisible) {\n    if (!isVisible) {\n      this.formRef.current.resetFields();\n    }\n    this.setState({ isVisible });\n  }\n\n  onOk() {\n    document.getElementById('add-staff-dialog-btn-submit').click();\n  }\n\n  onCancel() {\n    this.setDialogVisible(false);\n  }\n\n  onFinish = async (values) => {\n    try {\n      let params = { ...values };\n      if (params.password !== params.confirmedPassword) {\n        message.error('Nhập lại mật khẩu không chính xác');\n        return;\n      }\n\n      params.dateOfBirth = moment(params.dateOfBirth).format('DD-MM-YYYY');\n      delete params.confirmedPassword;\n\n      const res = await (\n        await fetch(\n          API.Manager.StaffManagement.addStaff,\n          {\n            method: 'POST',\n            body: JSON.stringify(params),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.props.reloadStaffs(res.data.user);\n      this.setDialogVisible(false);\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog\">\n        <Tooltip placement=\"bottom\" title=\"Thêm nhân viên\">\n          <Button\n            className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__btn-open animated bounceIn\"\n            style={{ animationDelay: '0.8s' }}\n            shape=\"circle\"\n            type=\"link\"\n            icon={<PlusOutlined />}\n            onClick={() => this.setDialogVisible(true)}\n          />\n        </Tooltip>\n\n        <Modal\n          className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__content\"\n          title={\n            <div>\n              <UserAddOutlined style={{ color: '#ff8220', marginRight: 10 }} />\n              <span style={{ color: '#ff8220', fontWeight: 'bold' }}>Thêm nhân viên mới</span>\n            </div>\n          }\n          centered\n          visible={this.state.isVisible}\n          onOk={() => this.onOk()}\n          onCancel={() => this.onCancel()}\n          okText=\"Hoàn tất\"\n          cancelText=\"Hủy bỏ\"\n          okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n        >\n\n          <Form\n            {...layout}\n            ref={current => { this.formRef.current = current; }}\n            className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__form\"\n            onFinish={e => this.onFinish(e)}\n            onFinishFailed={() => { message.error('Vui lòng kiểm tra lại thông tin'); }}\n          >\n            <Form.Item style={{ display: 'none' }}>\n              <Button type=\"primary\" htmlType=\"submit\" id=\"add-staff-dialog-btn-submit\" />\n            </Form.Item>\n\n            <Row gutter={10}>\n              <Col span={10}>\n                <h3\n                  className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__form__title\">\n                  <span className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__form__title__icon\">\n                    <UserOutlined />\n                  </span>\n                  <span>Thông tin cá nhân</span>\n                </h3>\n\n                <div className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__form__img-uploader\">\n                  <ImageUploader\n                    width={100}\n                    height={100}\n                    isAvatar={true}\n                    onFinish={imageUrl => {\n                      if (this.formRef.current) {\n                        this.formRef.current.setFieldsValue({ avatar: imageUrl });\n                      }\n                    }}\n                    clearImage={!this.state.isVisible}\n                  />\n                </div>\n\n                <Form.Item\n                  label=\"Họ và tên\"\n                  name=\"fullname\"\n                  rules={[\n                    {\n                      required: true,\n                      message: 'Vui lòng nhập họ và tên'\n                    }\n                  ]}\n                >\n                  <Input placeholder=\"Tối đa 30 kí tự\" autoFocus={true} />\n                </Form.Item>\n\n                <Form.Item\n                  label=\"Chức vụ\"\n                  name=\"role\"\n                  rules={[\n                    {\n                      required: true,\n                      message: 'Vui lòng chọn chức vụ'\n                    }\n                  ]}\n                >\n                  <Select\n                    placeholder=\"Chọn chức vụ\"\n                    allowClear\n                  >\n                    <Option value={USER_ROLES.CASHIER.type}>{USER_ROLES.CASHIER.name}</Option>\n                    <Option value={USER_ROLES.IMPORTER.type}>{USER_ROLES.IMPORTER.name}</Option>\n                    <Option value={USER_ROLES.MANAGER.type}>{USER_ROLES.MANAGER.name}</Option>\n                  </Select>\n                </Form.Item>\n\n                <Form.Item\n                  label=\"Giới tính\"\n                  name=\"sex\"\n                  rules={[\n                    {\n                      required: true,\n                      message: 'Vui lòng chọn giới tính'\n                    }\n                  ]}\n                >\n                  <Select\n                    placeholder=\"Chọn giới tính\"\n                    allowClear\n                  >\n                    <Option value={USER_SEX.MALE.type}>{USER_SEX.MALE.name}</Option>\n                    <Option value={USER_SEX.FEMALE.type}>{USER_SEX.FEMALE.name}</Option>\n                  </Select>\n                </Form.Item>\n\n                <Form.Item\n                  label=\"Ngày sinh\"\n                  name=\"dateOfBirth\"\n                  rules={[\n                    {\n                      required: true,\n                      message: 'Vui lòng chọn ngày sinh'\n                    }\n                  ]}\n                >\n                  <DatePicker placeholder=\"Chọn ngày sinh\" format=\"DD-MM-YYYY\" />\n                </Form.Item>\n\n                <Form.Item\n                  label=\"E-mail\"\n                  name=\"email\"\n                  rules={[\n                    {\n                      required: true,\n                      message: 'Vui lòng nhập địa chỉ email'\n                    },\n                    {\n                      type: \"email\",\n                      message: 'Địa chỉ email không hợp lệ'\n                    }\n                  ]}\n                >\n                  <Input placeholder=\"abc@gmail.com\" />\n                </Form.Item>\n\n                <Form.Item\n                  label=\"Điện thoại\"\n                  name=\"phone\"\n                >\n                  <Input maxLength={11} placeholder=\"Gồm 10 hoặc 11 số\" />\n                </Form.Item>\n\n                <Form.Item\n                  label=\"Địa chỉ\"\n                  name=\"address\"\n                >\n                  <Input.TextArea placeholder=\"227 Nguyễn Văn Cừ, Quận 5\" />\n                </Form.Item>\n\n                <Form.Item\n                  label=\"Ảnh đại diện\"\n                  name=\"avatar\"\n                  style={{ display: 'none' }}\n                >\n                  <Input placeholder=\"Dán đường dẫn ảnh vào đây\" />\n                </Form.Item>\n              </Col>\n              <Col span={2} style={{ textAlign: 'center' }}><Divider type=\"vertical\" /></Col>\n              <Col span={12}>\n                <h3\n                  className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__form__title\">\n                  <span className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__form__title__icon\">\n                    <KeyOutlined />\n                  </span>\n                  <span>Tài khoản đăng nhập</span>\n                </h3>\n                <Form.Item\n                  label=\"Tên tài khoản\"\n                  name=\"username\"\n                  rules={[\n                    {\n                      required: true,\n                      message: 'Vui lòng nhập tên tài khoản'\n                    }\n                  ]}\n                >\n                  <Input placeholder=\"Tối đa 30 kí tự\" />\n                </Form.Item>\n\n                <Form.Item\n                  label=\"Mật khẩu\"\n                  name=\"password\"\n                  rules={[\n                    {\n                      required: true,\n                      message: 'Vui lòng nhập mật khẩu'\n                    }\n                  ]}\n                >\n                  <Input.Password placeholder=\"Bao gồm số, kí tự đặc biệt, hoa và thường\" />\n                </Form.Item>\n\n                <Form.Item\n                  label=\"Nhập lại mật khẩu\"\n                  name=\"confirmedPassword\"\n                  rules={[\n                    {\n                      required: true,\n                      message: 'Vui lòng nhập lại mật khẩu'\n                    }\n                  ]}\n                >\n                  <Input.Password placeholder=\"Bao gồm số, kí tự đặc biệt, hoa và thường\" />\n                </Form.Item>\n\n              </Col>\n            </Row>\n          </Form>\n\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default withCookies(AddStaffDialog);\n","import React from 'react';\nimport { withCookies } from 'react-cookie';\nimport { EditOutlined } from '@ant-design/icons';\nimport { Row, Col, Select, Form, Modal, Input, message, DatePicker, Button } from 'antd';\nimport './UpdateStaffDialog.style.scss';\nimport USER_ROLES from '../../../../../constants/user-role.constant';\nimport USER_SEX from '../../../../../constants/user-sex';\nimport moment from 'moment';\nimport * as _ from 'lodash';\nimport { API } from '../../../../../constants/api.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport ImageUploader from '../../../../utilities/ImageUploader/ImageUploader';\n\nconst { Option } = Select;\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 18 },\n};\n\nclass UpdateStaffDialog extends PageBase {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false\n    }\n\n    this.formRef = React.createRef();\n  }\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  loadSelectedStaffProfile() {\n    const { selectedStaff } = this.props;\n    let formInitialValues = {};\n    if (selectedStaff) {\n      const keys = Object.keys(selectedStaff)\n        .filter(k => ['fullname', 'role', 'sex', 'dateOfBirth', 'username', 'email', 'phone', 'address', 'avatar'].includes(k));\n\n      for (const k of keys) {\n        let value = selectedStaff[k];\n\n        if (k === 'dateOfBirth') {\n          value = value.split('-');\n          const date = new Date(Number(value[2]), Number(value[1]) - 1, Number(value[0]));\n          value = moment(date);\n        }\n\n        formInitialValues[k] = value;\n      }\n    }\n\n    if (this.formRef.current) {\n      this.formRef.current.setFieldsValue({ ...formInitialValues });\n    }\n  }\n\n  onOk() {\n    document.getElementById('update-staff-dialog-btn-submit').click();\n  }\n\n  onCancel() {\n    this.setDialogVisible(false);\n  }\n\n  onFinish = async (values) => {\n    try {\n      let params = { ...values };\n      params.dateOfBirth = moment(params.dateOfBirth).format('DD-MM-YYYY');\n      params.sex = _.find(USER_SEX, s => s.name === params.sex).type;\n\n      const res = await (\n        await fetch(\n          API.Manager.StaffManagement.updateStaffProfile.replace('{updatedUserID}', this.props.selectedStaff._id),\n          {\n            method: 'PUT',\n            body: JSON.stringify(params),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.props.reloadStaffs(res.data.user);\n      this.setDialogVisible(false);\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    const { selectedStaff } = this.props;\n    if (!selectedStaff)\n      return <></>;\n\n    return (\n      <div>\n        <div>\n          <Row align=\"middle\">\n            <Col span={2}>\n              <EditOutlined className=\"staff-management__body__staffs__sidebar__staff-features__feature__icon\" />\n            </Col>\n            <Col\n              span={22}\n              className=\"staff-management__body__staffs__sidebar__staff-features__feature__info\"\n              onClick={() => this.setDialogVisible(true)}\n            >\n              <span className=\"staff-management__body__staffs__sidebar__staff-features__feature__info__name\">\n                Chỉnh sửa thông tin</span>\n            </Col>\n          </Row>\n\n          <Modal\n            className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__update-staff-dialog__content\"\n            title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>{selectedStaff.fullname} | Thông tin cá nhân</span>}\n            centered\n            visible={this.state.isVisible}\n            onOk={() => this.onOk()}\n            onCancel={() => this.onCancel()}\n            okText=\"Lưu thay đổi\"\n            cancelText=\"Hủy bỏ\"\n            okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n          >\n\n            <Form\n              {...layout}\n              ref={ref => {\n                this.formRef.current = ref;\n                this.loadSelectedStaffProfile();\n              }}\n              className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__update-staff-dialog__form\"\n              onFinish={e => this.onFinish(e)}\n              onFinishFailed={() => { message.error('Vui lòng kiểm tra lại thông tin'); }}\n            >\n              <Form.Item style={{ display: 'none' }}>\n                <Button type=\"primary\" htmlType=\"submit\" id=\"update-staff-dialog-btn-submit\" />\n              </Form.Item>\n\n              <div className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__update-staff-dialog__form__img-uploader\">\n                <ImageUploader\n                  width={100}\n                  height={100}\n                  isAvatar={true}\n                  onFinish={imageUrl => {\n                    if (this.formRef.current) {\n                      this.formRef.current.setFieldsValue({ avatar: imageUrl });\n                    }\n                  }}\n                  defaultImageUrl={selectedStaff.avatar}\n                  tooltipTitle=\"Nhấp để tải ảnh lên\"\n                  tooltipPlacement=\"bottom\"\n                  clearImage={!this.state.isVisible}\n                />\n              </div>\n\n              <Form.Item\n                label=\"Họ và tên\"\n                name=\"fullname\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Vui lòng nhập họ và tên'\n                  }\n                ]}\n              >\n                <Input placeholder=\"Tối đa 30 kí tự\" />\n              </Form.Item>\n\n              <Form.Item\n                label=\"Tên tài khoản\"\n                name=\"username\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Vui lòng nhập tên tài khoản'\n                  }\n                ]}\n              >\n                <Input placeholder=\"Tối đa 30 kí tự\" />\n              </Form.Item>\n\n              <Form.Item\n                label=\"Chức vụ\"\n                name=\"role\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Vui lòng chọn chức vụ'\n                  }\n                ]}\n              >\n                <Select\n                  placeholder=\"Chọn chức vụ\"\n                  allowClear\n                >\n                  <Option value={USER_ROLES.CASHIER.type}>{USER_ROLES.CASHIER.name}</Option>\n                  <Option value={USER_ROLES.IMPORTER.type}>{USER_ROLES.IMPORTER.name}</Option>\n                  <Option value={USER_ROLES.MANAGER.type}>{USER_ROLES.MANAGER.name}</Option>\n                </Select>\n              </Form.Item>\n\n              <Form.Item\n                label=\"Giới tính\"\n                name=\"sex\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Vui lòng chọn giới tính'\n                  }\n                ]}\n              >\n                <Select\n                  placeholder=\"Chọn giới tính\"\n                  allowClear\n                >\n                  <Option value={USER_SEX.MALE.name}>{USER_SEX.MALE.name}</Option>\n                  <Option value={USER_SEX.FEMALE.name}>{USER_SEX.FEMALE.name}</Option>\n                </Select>\n              </Form.Item>\n\n              <Form.Item\n                label=\"Ngày sinh\"\n                name=\"dateOfBirth\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Vui lòng chọn ngày sinh'\n                  }\n                ]}\n              >\n                <DatePicker placeholder=\"Chọn ngày sinh\" format=\"DD-MM-YYYY\" />\n              </Form.Item>\n\n              <Form.Item\n                label=\"E-mail\"\n                name=\"email\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Vui lòng nhập địa chỉ email'\n                  },\n                  {\n                    type: \"email\",\n                    message: 'Địa chỉ email không hợp lệ'\n                  }\n                ]}\n              >\n                <Input placeholder=\"abc@gmail.com\" />\n              </Form.Item>\n\n              <Form.Item\n                label=\"Điện thoại\"\n                name=\"phone\"\n              >\n                <Input maxLength={11} placeholder=\"Gồm 10 hoặc 11 số\" />\n              </Form.Item>\n\n              <Form.Item\n                label=\"Địa chỉ\"\n                name=\"address\"\n              >\n                <Input.TextArea placeholder=\"227 Nguyễn Văn Cừ, Quận 5\" />\n              </Form.Item>\n\n              <Form.Item\n                label=\"Ảnh đại diện\"\n                name=\"avatar\"\n                style={{ display: 'none' }}\n              >\n                <Input placeholder=\"Dán đường dẫn ảnh vào đây\" />\n              </Form.Item>\n\n            </Form>\n\n          </Modal>\n\n        </div>\n      </div>\n    )\n  }\n}\nexport default withCookies(UpdateStaffDialog);","import React, { Component } from 'react';\nimport { withCookies } from 'react-cookie';\nimport { Row, Col, Table, Empty } from 'antd';\nimport './WorkScheduleReportToPrint.style.scss';\nimport USER_ROLES from '../../../../../../constants/user-role.constant';\nimport moment from 'moment';\nimport { COOKIE_NAMES } from '../../../../../../constants/cookie-name.constant';\n\nconst weekDays = ['Thứ 2', 'Thứ 3', 'Thứ 4', 'Thứ 5', 'Thứ 6', 'Thứ 7', 'Chủ nhật'];\n\nclass WorkScheduleReportToPrint extends Component {\n  render() {\n    const manager = this.props.cookies.get(COOKIE_NAMES.user);\n    let { staff } = this.props;\n\n    if (!staff)\n      return (<Empty description=\"Không tìm thấy lịch làm việc\" className=\"work-schedule-report-to-print__empty\" />);\n\n    const dataSource = [\n      {\n        key: '0',\n        workShifts: [\n          [],\n          [],\n          [],\n          [],\n          [],\n          [],\n          []\n        ]\n      }\n    ];\n    for (const wa of staff.workAssignments) {\n      const weekday = moment(wa.startTime).isoWeekday() - 1;\n      dataSource[0].workShifts[weekday].push(wa);\n    }\n\n    const columns = [\n      {\n        title: '',\n        dataIndex: 'workShifts',\n        key: 'workShifts',\n        render: (text, record) => {\n          return (\n            <ul>{record.workShifts[0].map((ws, index) => (\n              <li key={`${index}_0`}>{`${moment(ws.startTime).format('HH:mm')} - ${moment(ws.endTime).format('HH:mm')}`}</li>\n            ))}</ul>\n          )\n        }\n      },\n      {\n        title: '',\n        dataIndex: 'workShifts',\n        key: 'workShifts',\n        render: (text, record) => {\n          return (\n            <ul>{record.workShifts[1].map((ws, index) => (\n              <li key={`${index}_1`}>{`${moment(ws.startTime).format('HH:mm')} - ${moment(ws.endTime).format('HH:mm')}`}</li>\n            ))}</ul>\n          )\n        }\n      },\n      {\n        title: '',\n        dataIndex: 'workShifts',\n        key: 'workShifts',\n        render: (text, record) => {\n          return (\n            <ul>{record.workShifts[2].map((ws, index) => (\n              <li key={`${index}_2`}>{`${moment(ws.startTime).format('HH:mm')} - ${moment(ws.endTime).format('HH:mm')}`}</li>\n            ))}</ul>\n          )\n        }\n      },\n      {\n        title: '',\n        dataIndex: 'workShifts',\n        key: 'workShifts',\n        render: (text, record) => {\n          return (\n            <ul>{record.workShifts[3].map((ws, index) => (\n              <li key={`${index}_3`}>{`${moment(ws.startTime).format('HH:mm')} - ${moment(ws.endTime).format('HH:mm')}`}</li>\n            ))}</ul>\n          )\n        }\n      },\n      {\n        title: '',\n        dataIndex: 'workShifts',\n        key: 'workShifts',\n        render: (text, record) => {\n          return (\n            <ul>{record.workShifts[4].map((ws, index) => (\n              <li key={`${index}_4`}>{`${moment(ws.startTime).format('HH:mm')} - ${moment(ws.endTime).format('HH:mm')}`}</li>\n            ))}</ul>\n          )\n        }\n      },\n      {\n        title: '',\n        dataIndex: 'workShifts',\n        key: 'workShifts',\n        render: (text, record) => {\n          return (\n            <ul>{record.workShifts[5].map((ws, index) => (\n              <li key={`${index}_5`}>{`${moment(ws.startTime).format('HH:mm')} - ${moment(ws.endTime).format('HH:mm')}`}</li>\n            ))}</ul>\n          )\n        }\n      },\n      {\n        title: '',\n        dataIndex: 'workShifts',\n        key: 'workShifts',\n        render: (text, record) => {\n          return (\n            <ul>{record.workShifts[6].map((ws, index) => (\n              <li key={`${index}_6`}>{`${moment(ws.startTime).format('HH:mm')} - ${moment(ws.endTime).format('HH:mm')}`}</li>\n            ))}</ul>\n          )\n        }\n      }\n    ];\n    const startDate = moment().startOf('day').subtract(moment().isoWeekday() - 1, 'days');\n    const endDate = moment().endOf('day').add(7 - moment().isoWeekday(), 'days');\n    let dates = [];\n\n    for (let i = 0; i < 7; i++) {\n      const date = moment(startDate).add(i, 'days').format('DD/MM');\n      dates.push(date);\n    }\n\n    for (const i in columns) {\n      let title = weekDays[i];\n      columns[i].title = `${title} (${dates[i]})`;\n    }\n\n    return (\n      <div className=\"work-schedule-report-to-print\">\n\n        <div className=\"work-schedule-report-to-print__header\">\n          <div className=\"work-schedule-report-to-print__header__company\">\n            <img\n              className=\"work-schedule-report-to-print__header__company__logo\"\n              src={require('../../../../../../assets/images/app-logo.png')} alt=\"logo\" />\n            <div className=\"work-schedule-report-to-print__header__company__brand\">\n              <div className=\"work-schedule-report-to-print__header__company__brand__name\">\n                <span>Mini Mart</span>\n              </div>\n              <div className=\"work-schedule-report-to-print__header__company__brand__slogan\">\n                <span>Tiện Lợi mà Chất Lượng</span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"work-schedule-report-to-print__header__created-date\">\n            <span>{moment().format('DD/MM/YYYY HH:mm')}</span>\n          </div>\n\n          <div className=\"work-schedule-report-to-print__header__title\">\n            <h2>Lịch làm việc trong tuần</h2>\n            <span className=\"work-schedule-report-to-print__header__title__date-range\">\n              (Từ ngày {startDate.format('DD/MM/YYYY')} đến ngày {endDate.format('DD/MM/YYYY')})\n            </span>\n          </div>\n        </div>\n\n        <div className=\"work-schedule-report-to-print__content\">\n          <div className=\"work-schedule-report-to-print__content__staff-info\">\n            <h3>Thông tin nhân viên</h3>\n            <Row\n              style={{ width: '100%' }}\n              gutter={10}\n              className=\"work-schedule-report-to-print__content__staff-info__item\"\n            >\n              <Col span={7} style={{ fontWeight: 'bold' }}>Họ và tên</Col>\n              <Col span={17} style={{ fontWeight: 'bold', fontSize: 14 }}>{staff.fullname}</Col>\n            </Row>\n            <Row\n              style={{ width: '100%' }}\n              gutter={10}\n              className=\"work-schedule-report-to-print__content__staff-info__item\"\n            >\n              <Col span={7} style={{ fontWeight: 'bold' }}>Ngày sinh</Col>\n              <Col span={17}>{staff.dateOfBirth}</Col>\n            </Row>\n            <Row\n              style={{ width: '100%' }}\n              gutter={10}\n              className=\"work-schedule-report-to-print__content__staff-info__item\"\n            >\n              <Col span={7} style={{ fontWeight: 'bold' }}>Chức vụ</Col>\n              <Col span={17}>{USER_ROLES[staff.role].name}</Col>\n            </Row>\n          </div>\n\n          <div className=\"work-schedule-report-to-print__content__work-schedule\">\n            <h3>Ca được phân công</h3>\n\n            <Table\n              bordered\n              dataSource={dataSource}\n              columns={columns}\n              pagination={false}\n              className=\"work-schedule-report-to-print__content__work-schedule__table\"\n            />\n\n          </div>\n\n          <Row justify=\"center\" align=\"middle\"\n            className=\"work-schedule-report-to-print__content__manager-confirm\">\n            <Col span={14}></Col>\n            <Col span={10} align=\"middle\">\n              <span className=\"work-schedule-report-to-print__content__manager-confirm__stand-for\">TM. Người quản lý</span>\n              <div className=\"work-schedule-report-to-print__content__manager-confirm__signature\">\n                <img src=\"https://files.slack.com/files-pri/THXMMTH2T-F0110T0NABG/signature__1_.png\" alt=\"signature\" />\n              </div>\n              <span className=\"work-schedule-report-to-print__content__manager-confirm__fullname\">{manager.fullname}</span>\n            </Col>\n          </Row>\n\n        </div>\n      </div>\n    )\n  }\n}\nexport default withCookies(WorkScheduleReportToPrint);","export default {\n  WORK_SCHEDULE: {\n    type: 'WORK_SCHEDULE',\n    title: 'Lịch làm việc trong tuần'\n  },\n  SELLING: {\n    type: 'SELLING',\n    title: 'Sản phẩm đã bán - tồn kho'\n  },\n  PAYMENT_REVENUE: {\n    type: 'PAYMENT_REVENUE',\n    title: 'Thu chi trong tháng'\n  }\n}","import React from 'react';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nimport './StaffManagement.style.scss';\nimport { SearchOutlined, UserDeleteOutlined, TeamOutlined, ExclamationCircleOutlined, CalendarOutlined } from '@ant-design/icons';\nimport { Input, Row, Col, Select, Table, Avatar, message, Skeleton, Modal, Empty } from 'antd';\nimport { withCookies } from 'react-cookie';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport { API } from '../../../../constants/api.constant';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../redux/actions';\nimport moment from 'moment';\nimport USER_ROLES from '../../../../constants/user-role.constant';\nimport AddStaffDialog from './AddStaffDialog/AddStaffDialog';\nimport UpdateStaffDialog from './UpdateStaffDialog/UpdateStaffDialog';\nimport ReactToPrint from 'react-to-print';\nimport WorkScheduleReportToPrint from '../Reporting/WorkScheduleReport/WorkScheduleReportToPrint/WorkScheduleReportToPrint';\nimport REPORTS from '../../../../constants/report.constant';\n\nconst { Option } = Select;\nconst { confirm } = Modal;\n\nclass StaffManagement extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      staffs: [],\n      filteredStaffs: [],\n      selectedStaff: null,\n      searchStaffText: '',\n      filteredStaffRole: null,\n      isLoading: true\n    }\n  }\n\n  componentDidMount() {\n    this.loadStaffs(null, null);\n  }\n\n  loadStaffs = async (role, defaultStaff) => {\n    try {\n      this.props.setAppLoading(true);\n\n      let url = API.Manager.StaffManagement.getListStaffs;\n      if (role) {\n        url += `?role=${role}`;\n      }\n\n      const res = await (\n        await fetch(\n          url,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      this.setState({ isLoading: false });\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      const { users } = res.data;\n      let { filteredStaffs, selectedStaff } = this.state;\n\n      if (!role) {\n        filteredStaffs = [...users];\n      } else {\n        filteredStaffs = users.filter(u => u.role === role);\n      }\n\n      if (filteredStaffs.length > 0) {\n        if (defaultStaff) {\n          if (selectedStaff.workAssignments) {\n            const { workAssignments } = selectedStaff;\n            selectedStaff = { ...defaultStaff, workAssignments }\n          }\n        } else {\n          selectedStaff = filteredStaffs[0];\n        }\n      } else {\n        selectedStaff = null;\n      }\n\n      this.setState({ staffs: users, filteredStaffs, selectedStaff });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  onClickListStaffsRow(record) {\n    this.setState({ selectedStaff: record });\n  }\n\n  filterListStaffsByRole(role) {\n    let { filteredStaffs, staffs, selectedStaff } = this.state;\n\n    if (!role) {\n      filteredStaffs = [...staffs];\n    } else {\n      filteredStaffs = staffs.filter(s => s.role === role);\n    }\n\n    if (filteredStaffs.length > 0) {\n      selectedStaff = filteredStaffs[0];\n    } else {\n      selectedStaff = null;\n    }\n\n    this.setState({ filteredStaffs, filteredStaffRole: role, selectedStaff });\n  }\n\n  openRemoveStaffConfirm(staff) {\n    const that = this;\n    confirm({\n      title: `Bạn có muốn xóa ${staff.fullname} khỏi hệ thống?`,\n      icon: <ExclamationCircleOutlined />,\n      content: '',\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      async onOk() {\n        try {\n          that.props.setAppLoading(true);\n\n          const staffID = staff._id;\n          const res = await (\n            await fetch(\n              API.Manager.StaffManagement.removeStaff.replace('{deletedUserID}', staffID),\n              {\n                method: 'DELETE',\n                headers: {\n                  'Content-type': 'application/json; charset=UTF-8',\n                  'token': that.props.cookies.get(COOKIE_NAMES.token)\n                },\n                signal: that.abortController.signal\n              }\n            )\n          ).json();\n\n          that.props.setAppLoading(false);\n          if (res.status !== 200) {\n            message.error(res.errors[0]);\n            return;\n          }\n\n          let { staffs, filteredStaffRole, filteredStaffs, selectedStaff } = that.state;\n          staffs = staffs.filter(s => s._id !== staffID);\n          staffs.sort((a, b) => {\n            const time1 = new Date(a.createdAt).getTime();\n            const time2 = new Date(b.createdAt).getTime();\n            return time2 - time1;\n          });\n\n          filteredStaffs = staffs.filter(s => {\n            if (filteredStaffRole)\n              return s.role === filteredStaffRole;\n            return true;\n          });\n          if (filteredStaffs.length > 0) {\n            selectedStaff = filteredStaffs[0];\n          } else {\n            selectedStaff = null;\n          }\n\n          that.setState({ staffs, selectedStaff, filteredStaffs });\n          message.success(res.messages[0]);\n        } catch (error) {\n          return error;\n        }\n      },\n      onCancel() { },\n    });\n  }\n\n  onChangeSearchStaffInput(text) {\n    this.setState({ searchStaffText: text });\n\n    if (!text) {\n      this.filterListStaffsByRole(this.state.filteredStaffRole);\n    } else {\n      let { filteredStaffs } = this.state;\n      filteredStaffs = filteredStaffs\n        .filter(s => {\n          const keys = [...Object.keys(s)].filter(k => typeof (s[k]) === 'string');\n          for (const k of keys) {\n            if (s[k].toLowerCase().includes(text.toLowerCase()))\n              return true;\n          }\n          return false;\n        });\n\n      this.setState({ filteredStaffs });\n    }\n  }\n\n  render() {\n    let { filteredStaffs, selectedStaff, isLoading } = this.state;\n    filteredStaffs = filteredStaffs.map((s, i) => {\n      let staff = JSON.parse(JSON.stringify(s));\n      staff.key = i;\n      return staff;\n    });\n    let columns;\n    if (filteredStaffs.length === 0) {\n      columns = [];\n      selectedStaff = null;\n    } else {\n      if (!selectedStaff) {\n        selectedStaff = filteredStaffs[0];\n      }\n\n      columns = Object.keys(filteredStaffs[0])\n        .filter(k => !['_id', 'avatar', 'updatedAt', '__v', 'key', 'workAssignments'].includes(k));\n      columns = columns.map(k => {\n        let title, colIndex;\n        switch (k) {\n          case 'fullname': title = 'Nhân viên'; colIndex = 0; break;\n          case 'username': title = 'Tên TK'; colIndex = 1; break;\n          case 'role': title = 'Chức vụ'; colIndex = 2; break;\n          case 'dateOfBirth': title = 'Ngày sinh'; colIndex = 3; break;\n          case 'sex': title = 'Giới tính'; colIndex = 4; break;\n          case 'email': title = 'Email'; colIndex = 5; break;\n          case 'phone': title = 'Điện thoại'; colIndex = 6; break;\n          case 'address': title = 'Địa chỉ'; colIndex = 7; break;\n          case 'salaryRate': title = 'HS lương'; colIndex = 8; break;\n          case 'createdAt': title = 'Ngày tham gia'; colIndex = 9; break;\n          default: break;\n        }\n\n        let column = {\n          title,\n          colIndex,\n          dataIndex: k,\n          width: 100\n        }\n\n        if (k === 'fullname') {\n          column.render = (text, record) => (\n            <Row align=\"middle\" style={{ width: '100%' }}>\n              <Col span={6}><Avatar src={record.avatar} size={22} /></Col>\n              <Col span={18}><span style={{ fontWeight: 'bold' }}>{text}</span></Col>\n            </Row>\n          );\n          column.width = 160;\n        }\n\n        if (k === 'role') {\n          column.render = (text, record) => {\n            let className;\n            if (text === USER_ROLES.MANAGER.type)\n              className = 'staff-management__role-badge staff-management__role-badge--manager';\n            if (text === USER_ROLES.CASHIER.type)\n              className = 'staff-management__role-badge staff-management__role-badge--cashier';\n            if (text === USER_ROLES.IMPORTER.type)\n              className = 'staff-management__role-badge staff-management__role-badge--importer';\n\n            return (<span className={className}>{USER_ROLES[text].name}</span>)\n          };\n          column.width = 120;\n        }\n\n        if (k === 'address') {\n          column.width = 180;\n        }\n\n        if (k === 'email' || k === 'createdAt') {\n          column.width = 140;\n        }\n\n        if (k === 'salaryRate' || k === 'dateOfBirth' || k === 'phone') {\n          column.width = 100;\n        }\n\n        if (k === 'sex') {\n          column.width = 80;\n        }\n\n        if (k === 'createdAt') {\n          column.render = text => moment(text).format('DD-MM-YYYY HH:mm');\n        }\n\n        return column;\n      });\n\n      columns.sort((a, b) => a.colIndex - b.colIndex);\n    }\n\n    return (\n      <div className=\"staff-management\">\n        <div className=\"staff-management__body\">\n          <Row className=\"staff-management__body__staffs animated fadeInUp\">\n            <Col span={4}>\n              <div className=\"staff-management__body__staffs__sidebar\">\n                <div className=\"staff-management__body__staffs__sidebar__staff-details\">\n                  {selectedStaff ? (\n                    <Avatar\n                      className=\"staff-management__body__staffs__sidebar__staff-details__avatar\"\n                      size={50}\n                      src={selectedStaff ? selectedStaff.avatar : 'https://cdn.wrytin.com/images/avatar/s/256/default.jpeg'}\n                    />\n                  ) : (\n                      <div className=\"staff-management__body__staffs__sidebar__staff-details__avatar\">\n                        <Skeleton.Avatar\n                          active={true} size={50}\n                          shape=\"circle\"\n                        />\n                      </div>\n                    )}\n                  <div className=\"staff-management__body__staffs__sidebar__staff-details__basic-info\">\n                    <div className=\"staff-management__body__staffs__sidebar__staff-details__basic-info__name\">\n                      <span>\n                        {selectedStaff ? selectedStaff.fullname : (\n                          <Skeleton.Input style={{ width: 100, height: 20 }} active={true} size=\"small\" />\n                        )}\n                      </span>\n                    </div>\n                    <div className=\"staff-management__body__staffs__sidebar__staff-details__basic-info__role\">\n                      <span>{selectedStaff ? USER_ROLES[selectedStaff.role].name : ''}</span>\n                    </div>\n                  </div>\n                </div>\n\n                <ul className=\"staff-management__body__staffs__sidebar__staff-features\">\n                  <li className=\"staff-management__body__staffs__sidebar__staff-features__feature\">\n                    {selectedStaff ? (\n                      <UpdateStaffDialog\n                        selectedStaff={{ ...selectedStaff }}\n                        reloadStaffs={updatedStaff => this.loadStaffs(this.state.filteredStaffRole, updatedStaff)}\n                      />\n                    ) : (<Skeleton.Input style={{ width: '100%', height: 30, borderRadius: 3 }} active={true} size=\"small\" />)}\n                  </li>\n                  <li className=\"staff-management__body__staffs__sidebar__staff-features__feature\">\n                    {selectedStaff ? (\n                      <div>\n                        <ReactToPrint\n                          trigger={() => (\n                            <Row align=\"middle\">\n                              <Col span={2}>\n                                <CalendarOutlined className=\"staff-management__body__staffs__sidebar__staff-features__feature__icon\" />\n                              </Col>\n                              <Col\n                                span={22}\n                                className=\"staff-management__body__staffs__sidebar__staff-features__feature__info\"\n                              >\n                                <span className=\"staff-management__body__staffs__sidebar__staff-features__feature__info__name\">\n                                  Lịch làm việc trong tuần</span>\n                              </Col>\n                            </Row>\n                          )}\n                          content={() => this.componentToPrintRef}\n                        />\n                        <div style={{ display: 'none' }}>\n                          <WorkScheduleReportToPrint\n                            ref={el => (this.componentToPrintRef = el)}\n                            staff={{ ...selectedStaff }}\n                            basicInfo={{\n                              title: REPORTS.WORK_SCHEDULE.title,\n                              type: REPORTS.WORK_SCHEDULE.type,\n                              cover: 'work-schedule.jpg',\n                              description: 'Báo cáo lịch làm việc trong tuần của một nhân viên.'\n                            }}\n                          />\n                        </div>\n                      </div>\n                    ) : (<Skeleton.Input style={{ width: '100%', height: 30, borderRadius: 3 }} active={true} size=\"small\" />)}\n                  </li>\n                  <li\n                    className=\"staff-management__body__staffs__sidebar__staff-features__feature\"\n                    onClick={() => this.openRemoveStaffConfirm(selectedStaff)}\n                  >\n                    {selectedStaff ? (\n                      <Row align=\"middle\">\n                        <Col span={2}>\n                          <UserDeleteOutlined className=\"staff-management__body__staffs__sidebar__staff-features__feature__icon\" />\n                        </Col>\n                        <Col span={22} className=\"staff-management__body__staffs__sidebar__staff-features__feature__info\">\n                          <span className=\"staff-management__body__staffs__sidebar__staff-features__feature__info__name\">\n                            Xóa khỏi hệ thống</span>\n                        </Col>\n                      </Row>\n                    ) : (<Skeleton.Input style={{ width: '100%', height: 30, borderRadius: 3 }} active={true} size=\"small\" />)}\n                  </li>\n                </ul>\n\n              </div>\n            </Col>\n            <Col span={20}>\n              <div className=\"staff-management__body__staffs__content\">\n                <div className=\"staff-management__body__staffs__content__toolbar\">\n                  <Row style={{ width: '100%' }} align=\"middle\">\n                    <Col span={7}>\n                      {!isLoading ? (\n                        <Input\n                          prefix={<SearchOutlined style={{ marginRight: 5 }} />}\n                          placeholder=\"Tìm kiếm nhân viên...\"\n                          onChange={e => this.onChangeSearchStaffInput(e.target.value)}\n                        />\n                      ) : (<Skeleton.Input style={{ width: '100%', height: 28, borderRadius: 24 }} active={true} size=\"small\" />)}\n                    </Col>\n                  </Row>\n                </div>\n                <div className=\"staff-management__body__staffs__content__list-staffs\">\n                  <div className=\"staff-management__body__staffs__content__list-staffs__header\">\n                    <div className=\"staff-management__body__staffs__content__list-staffs__header__dark-bg\"></div>\n                    <Row>\n                      <Col span={6}>\n                        {!isLoading ? (\n                          <div\n                            className=\"staff-management__body__staffs__content__list-staffs__header__role-selection\">\n                            <Select\n                              defaultValue={null}\n                              style={{ width: 200 }}\n                              onChange={value => this.filterListStaffsByRole(value)}\n                            >\n                              <Option value={null}>Tất cả nhân viên</Option>\n                              <Option value={USER_ROLES.CASHIER.type}>{USER_ROLES.CASHIER.name}</Option>\n                              <Option value={USER_ROLES.IMPORTER.type}>{USER_ROLES.IMPORTER.name}</Option>\n                              <Option value={USER_ROLES.MANAGER.type}>{USER_ROLES.MANAGER.name}</Option>\n                            </Select>\n                            <div className=\"staff-management__body__staffs__content__list-staffs__header__role-selection__staft-total-by-role\">\n                              <TeamOutlined style={{ marginRight: 7 }} />\n                              <span>{filteredStaffs.length}</span>\n                            </div>\n                          </div>\n                        ) : <></>}\n                      </Col>\n                      <Col span={18}>\n                        <div className=\"staff-management__body__staffs__content__list-staffs__header__dialogs\">\n                          {!isLoading ? (\n                            <AddStaffDialog\n                              reloadStaffs={newStaff => this.loadStaffs(this.state.filteredStaffRole, newStaff)}\n                            />\n                          ) : <></>}\n                        </div>\n                      </Col>\n                    </Row>\n                  </div>\n                  <Row className=\"staff-management__body__staffs__content__list-staffs__wrapper\">\n                    <Table\n                      locale={{ emptyText: <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"Chưa có dữ liệu\" /> }}\n                      columns={columns}\n                      dataSource={filteredStaffs}\n                      pagination={false}\n                      scroll={{ y: 445 }}\n                      onRow={(record) => {\n                        return {\n                          onClick: () => this.onClickListStaffsRow(record)\n                        }\n                      }}\n                      rowClassName={record => record._id === selectedStaff._id ?\n                        'staff-management__body__staffs__content__list-staffs__selected-row' : ''}\n                    />\n                  </Row>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </div>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(StaffManagement));\n","export default {\n  MONDAY: 'Thứ 2',\n  TUESDAY: 'Thứ 3',\n  WEDNESDAY: 'Thứ 4',\n  THURSDAY: 'Thứ 5',\n  FRIDAY: 'Thứ 6',\n  SATURDAY: 'Thứ 7',\n  SUNDAY: 'Chủ nhật'\n}","import React from 'react';\nimport { Modal, Button, Calendar, message } from 'antd';\nimport { CalendarOutlined } from '@ant-design/icons';\nimport './BtnAddWorkSchedule.style.scss';\nimport MONTHS from '../../../../../constants/months.constant';\nimport { API } from '../../../../../constants/api.constant';\nimport { withCookies } from 'react-cookie';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\n\nclass BtnAddWorkSchedule extends PageBase {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false,\n      selectedDate: null\n    }\n  }\n\n  setModalVisible(isVisible) {\n    if (!isVisible) {\n      this.setState({\n        selectedDate: null\n      });\n    }\n    this.setState({ isVisible });\n  }\n\n  onOK = async () => {\n    try {\n      const { selectedDate } = this.state;\n      if (!selectedDate) {\n        message.error('Bạn chưa chọn tháng làm việc');\n        return;\n      }\n\n      const month = selectedDate.getMonth() + 1;\n      const year = selectedDate.getFullYear();\n      const res = await (\n        await fetch(\n          API.Manager.WorkSchedule.addWorkSchedule,\n          {\n            method: 'POST',\n            body: JSON.stringify({ month, year }),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status === 200) {\n        this.setState({ selectedDate: null });\n        this.props.reloadWorkSchedules(year);\n        this.setModalVisible(false);\n        message.success(res.messages[0]);\n      } else {\n        message.error(res.errors[0]);\n      }\n    } catch (error) {\n      return error;\n    }\n  }\n\n  onCancel() {\n    this.setModalVisible(false);\n  }\n\n  handleSelectMonth(e) {\n    const selectedDate = new Date(e);\n    this.setState({ selectedDate });\n  }\n\n  monthFullCellRender(date) {\n    const { selectedDate } = this.state;\n    const _date = new Date(date);\n    const monthIndex = _date.getMonth();\n    return (\n      <span className={`\n        add-work-schedule-dialog__calendar__month \n        ${selectedDate ? _date.getTime() === selectedDate.getTime() ? 'add-work-schedule-dialog__calendar__month--selected' : '' : ''}\n      `}>\n        {MONTHS[monthIndex]}\n      </span>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"add-work-schedule-dialog\">\n        <Button\n          className=\"add-work-schedule-dialog__btn-open\"\n          icon={<CalendarOutlined />}\n          type=\"primary\"\n          onClick={() => this.setModalVisible(true)} >\n          Thêm lịch làm việc\n        </Button>\n        <Modal\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>Thêm lịch làm việc</span>}\n          centered\n          visible={this.state.isVisible}\n          onOk={() => this.onOK()}\n          onCancel={() => this.onCancel()}\n          okText=\"Thêm\"\n          cancelText=\"Hủy bỏ\"\n          okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n        >\n\n          <div className=\"add-work-schedule-dialog__calendar\">\n            <Calendar\n              mode=\"year\"\n              monthFullCellRender={date => this.monthFullCellRender(date)}\n              fullscreen={false}\n              onPanelChange={e => this.handleSelectMonth(e)} />\n          </div>\n\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default withCookies(BtnAddWorkSchedule);","import React from 'react';\nimport { withCookies } from 'react-cookie';\nimport { Modal, Button, Tooltip, TimePicker, Row, Col, message } from 'antd';\nimport { PlusCircleFilled } from '@ant-design/icons';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport './BtnAddWorkShift.style.scss';\nimport moment from 'moment';\nimport * as _ from 'lodash';\nimport { API } from '../../../../../constants/api.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\n\nconst format = 'HH:mm';\n\nclass BtnAddWorkShift extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false,\n      startTime: null,\n      endTime: null\n    }\n  }\n\n  setModalVisible(isVisible) {\n    if (!isVisible) {\n      this.setState({\n        startTime: null,\n        endTime: null\n      })\n    }\n    this.setState({ isVisible });\n  }\n\n  sortWorkShiftsByStartTime(workShifts) {\n    workShifts.sort((a, b) => {\n      const time1 = new Date(a.startTime).getTime();\n      const time2 = new Date(b.startTime).getTime();\n      return time1 - time2;\n    });\n  }\n\n  onOK = async () => {\n    try {\n      const { startTime, endTime } = this.state;\n      if (!(startTime && endTime)) {\n        message.error('Vui lòng chọn đầy đủ các mốc thời gian');\n        return;\n      }\n\n      if (startTime >= endTime) {\n        message.error('Khoảng thời gian đã chọn không hợp lệ');\n        return;\n      }\n\n      let {\n        workSchedules,\n        selectedWorkSchedule,\n        selectedWorkDay,\n        selectedWorkShift\n      } = this.props;\n\n      const res = await (\n        await fetch(\n          API.Manager.WorkShift.addWorkShift,\n          {\n            method: 'POST',\n            body: JSON.stringify({\n              workScheduleID: selectedWorkSchedule._id,\n              startTime,\n              endTime\n            }),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status === 200) {\n        this.setModalVisible(false);\n        message.success(res.messages[0]);\n\n        const { workShift } = res.data;\n        selectedWorkDay.workShifts.push(workShift);\n        this.sortWorkShiftsByStartTime(selectedWorkDay.workShifts);\n\n        const selectedWorkShiftIndex = selectedWorkDay.workShifts.findIndex(ws => ws._id === workShift._id);\n        if (selectedWorkShiftIndex >= 0) {\n          selectedWorkShift = selectedWorkDay.workShifts[selectedWorkShiftIndex];\n          selectedWorkShift.index = selectedWorkShiftIndex;\n        }\n\n        for (const week of selectedWorkSchedule.workDays) {\n          const day = _.find(week, d => selectedWorkDay.workDayInMonth === d.workDayInMonth);\n          if (day) {\n            day.workShifts.push(workShift);\n            this.sortWorkShiftsByStartTime(day.workShifts);\n            break;\n          }\n        }\n\n        for (let wsc of workSchedules) {\n          if (wsc._id === selectedWorkSchedule._id) {\n            wsc.workShifts.push(workShift);\n            this.sortWorkShiftsByStartTime(wsc.workShifts);\n            break;\n          }\n        }\n\n        this.props.reloadWorkSchedules(workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift);\n      } else {\n        message.error(res.errors[0]);\n      }\n    } catch (error) {\n      return error;\n    }\n  }\n\n  onCancel() {\n    this.setModalVisible(false);\n  }\n\n  onChangeTimePicker(fieldName, e) {\n    const { selectedWorkDay } = this.props;\n\n    const selectedTime = new Date(e);\n    const hours = selectedTime.getHours();\n    const mins = selectedTime.getMinutes();\n    const { workDayInMonth, workMonth, workYear } = selectedWorkDay;\n    const workShiftTime = new Date(workYear, workMonth - 1, workDayInMonth, hours, mins);\n\n    switch (fieldName) {\n      case 'startTime':\n        this.setState({ startTime: workShiftTime.getTime() })\n        break;\n      case 'endTime':\n        this.setState({ endTime: workShiftTime.getTime() })\n        break;\n      default:\n        break;\n    }\n  }\n\n  render() {\n    const { selectedWorkDay } = this.props;\n    const { startTime, endTime } = this.state;\n\n    return (\n      <div className=\"add-work-shift-dialog\">\n        <Tooltip placement=\"bottom\" title=\"Thêm ca làm việc\">\n          <Button\n            onClick={() => this.setModalVisible(true)}\n            className=\"add-work-shift-dialog__btn-open\"\n            type=\"link\"\n            icon={<PlusCircleFilled />} />\n        </Tooltip>\n        <Modal\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>{`${selectedWorkDay.workWeekDay ? selectedWorkDay.workWeekDay + ', ' : ''} ${selectedWorkDay.workYear ? moment(new Date(selectedWorkDay.workYear, selectedWorkDay.workMonth - 1, selectedWorkDay.workDayInMonth)).format('DD/MM/YYYY') + ' | Ca làm việc mới' : ''}`}</span>}\n          centered\n          visible={this.state.isVisible}\n          onOk={() => this.onOK()}\n          onCancel={() => this.onCancel()}\n          okText=\"Thêm\"\n          cancelText=\"Hủy bỏ\"\n          okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n        >\n\n          <div className=\"add-work-shift-dialog__time-picker\">\n            <Row align=\"center\" className=\"add-work-shift-dialog__time-picker__time-selection\">\n              <Col span={8} className=\"add-work-shift-dialog__time-picker__time-selection__label\" align=\"center\">\n                <span>Bắt đầu</span>\n              </Col>\n              <Col span={16}>\n                <TimePicker\n                  value={startTime ? moment(new Date(startTime)) : null}\n                  placeholder=\"Chọn mốc thời gian\"\n                  format={format}\n                  onChange={e => this.onChangeTimePicker('startTime', e)}\n                />\n              </Col>\n            </Row>\n\n            <Row align=\"center\" className=\"add-work-shift-dialog__time-picker__time-selection\">\n              <Col span={8} className=\"add-work-shift-dialog__time-picker__time-selection__label\" align=\"center\">\n                <span>Kết thúc</span>\n              </Col>\n              <Col span={16}>\n                <TimePicker\n                  value={endTime ? moment(new Date(endTime)) : null}\n                  placeholder=\"Chọn mốc thời gian\"\n                  format={format}\n                  onChange={e => this.onChangeTimePicker('endTime', e)}\n                />\n              </Col>\n            </Row>\n          </div>\n\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default withCookies(BtnAddWorkShift);\n","import React from 'react';\nimport { UsergroupAddOutlined } from '@ant-design/icons';\nimport { Button, Modal, Tooltip, message, List, Avatar, Row, Col, Checkbox } from 'antd';\nimport './BtnAddWorkShiftAssigner.style.scss';\nimport { withCookies } from 'react-cookie';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport USER_ROLES from '../../../../../constants/user-role.constant';\nimport moment from 'moment';\nimport { API } from '../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\n\nclass BtnAddWorkShiftAssigner extends PageBase {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false,\n      assigners: [],\n      isAllStaffsChecked: false,\n      selectedWorkShift: {}\n    }\n  }\n\n  isWorkShiftAssigner(selectedWorkShift, staff) {\n    const assigner = (selectedWorkShift.workAssignments || []).find(wa => wa.assigner._id === staff._id);\n    return assigner;\n  }\n\n  setModalVisible(isVisible) {\n    if (!isVisible) {\n      this.setState({\n        assigners: [],\n        isAllStaffsChecked: false\n      });\n    }\n    this.setState({ isVisible });\n  }\n\n  onOK = async () => {\n    try {\n      const { assigners } = this.state;\n      if (assigners.length === 0) {\n        message.error('Vui lòng chọn nhân viên để phân công');\n        return;\n      }\n\n      const {\n        workSchedules,\n        selectedWorkSchedule,\n        selectedWorkDay,\n        selectedWorkShift\n      } = this.props;\n\n      const res = await (\n        await fetch(\n          API.Manager.WorkAssignment.addWorkAssignments,\n          {\n            method: 'POST',\n            body: JSON.stringify({\n              workShift: selectedWorkShift._id,\n              assigners\n            }),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      const { workAssignments } = res.data;\n      selectedWorkShift.workAssignments = workAssignments;\n\n      for (let ws of selectedWorkDay.workShifts) {\n        if (ws._id === selectedWorkShift._id) {\n          ws = selectedWorkShift;\n          break;\n        }\n      }\n\n      for (let wsc of workSchedules) {\n        if (wsc._id === selectedWorkSchedule._id) {\n          const workShift = wsc.workShifts.find(ws => ws._id === selectedWorkShift._id);\n          workShift.workAssignments = workAssignments;\n          break;\n        }\n      }\n\n      this.props.reloadWorkSchedules(workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift);\n      this.setModalVisible(false);\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  onCancel() {\n    this.setModalVisible(false);\n  }\n\n  onCheckStaff(checked, staffID) {\n    const { staffs } = this.props;\n    let { assigners } = this.state;\n\n    if (checked) {\n      assigners.push(staffID);\n    } else {\n      assigners = assigners.filter(id => id !== staffID);\n    }\n\n    if (assigners.length === staffs.length) {\n      this.setState({ isAllStaffsChecked: true });\n    } else {\n      this.setState({ isAllStaffsChecked: false });\n    }\n\n    this.setState({ assigners });\n  }\n\n  onCheckAllStaffs(checked) {\n    const { staffs } = this.props;\n\n    let { assigners } = this.state;\n    if (checked) {\n      assigners = staffs.map(staff => staff._id);\n    } else {\n      assigners = [];\n    }\n\n    this.setState({ assigners, isAllStaffsChecked: checked });\n  }\n\n  render() {\n    const { selectedWorkShift, selectedWorkDay, staffs } = this.props;\n    let { assigners } = this.state;\n\n    return (\n      <div className=\"add-work-shift-assigner\">\n        <Tooltip placement=\"bottom\" title=\"Thêm nhân viên\">\n          <Button\n            onClick={() => this.setModalVisible(true)}\n            className=\"add-work-shift-assigner__btn-open\"\n            type=\"link\"\n            icon={<UsergroupAddOutlined />}\n            disabled={Object.keys(selectedWorkShift).length <= 1}\n          />\n        </Tooltip>\n        <Modal\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>{`${selectedWorkDay.workWeekDay ? selectedWorkDay.workWeekDay + ', ' : ''} ${selectedWorkDay.workYear ? moment(new Date(selectedWorkDay.workYear, selectedWorkDay.workMonth - 1, selectedWorkDay.workDayInMonth)).format('DD/MM/YYYY') + ' (' + moment(selectedWorkShift.startTime).format('HH:mm') + ' - ' + moment(selectedWorkShift.endTime).format('HH:mm') + ') | Phân ca làm việc' : ''}`}</span>}\n          centered\n          visible={this.state.isVisible}\n          onOk={() => this.onOK()}\n          onCancel={() => this.onCancel()}\n          okText=\"Phân công\"\n          cancelText=\"Hủy bỏ\"\n          okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n        >\n          <h3>Nhân viên chưa phân công ({staffs.length})</h3>\n\n          <div className=\"add-work-shift-assigner__list-staffs\">\n            <Row className=\"add-work-shift-assigner__list-staffs__header\">\n              <Col span={21} className=\"add-work-shift-assigner__list-staffs__header__col-1\">\n                {staffs.length > 0 ? (\n                  <span>Chọn tất cả</span>\n                ) : <></>}\n              </Col>\n              <Col span={3} className=\"add-work-shift-assigner__list-staffs__header__col-2\">\n                {staffs.length > 0 ? (\n                  <Checkbox\n                    onChange={e => this.onCheckAllStaffs(e.target.checked)}\n                    checked={this.state.isAllStaffsChecked} />\n                ) : <></>}\n              </Col>\n            </Row>\n            <List\n              itemLayout=\"horizontal\"\n              dataSource={staffs}\n              renderItem={staff => (\n                <List.Item>\n                  <Row style={{ width: '100%' }} className=\"animated fadeIn\">\n                    <Col span={21}>\n                      <List.Item.Meta\n                        avatar={<Avatar src={staff.avatar} />}\n                        title={staff.fullname}\n                        description={USER_ROLES[staff.role].name}\n                      />\n                    </Col>\n                    <Col span={3} className=\"add-work-shift-assigner__list-staffs__checkbox-wrapper\">\n                      <Checkbox\n                        onChange={e => this.onCheckStaff(e.target.checked, staff._id)}\n                        checked={assigners.find(id => id === staff._id) ? true : false} />\n                    </Col>\n                  </Row>\n                </List.Item>\n              )}\n            />\n          </div>\n\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default withCookies(BtnAddWorkShiftAssigner);","import React from 'react';\nimport { Row, Col, Tabs, Select, List, Avatar, Button, Modal, message, Tooltip, Skeleton, Empty } from 'antd';\nimport { CloseCircleOutlined, ExclamationCircleOutlined, LogoutOutlined } from '@ant-design/icons';\nimport USER_ROLE from '../../../../constants/user-role.constant';\nimport './WorkAssignment.style.scss';\nimport * as moment from 'moment';\nimport * as _ from 'lodash';\nimport WEEK_DAY from '../../../../constants/week-day.constant';\nimport { withCookies } from 'react-cookie';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../redux/actions';\nimport { API } from '../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nimport BtnAddWorkSchedule from './BtnAddWorkSchedule/BtnAddWorkSchedule';\nimport BtnAddWorkShift from './BtnAddWorkShift/BtnAddWorkShift';\nimport BtnAddWorkShiftAssigner from './BtnAddWorkShiftAssigner/BtnAddWorkShiftAssigner';\n\nconst { TabPane } = Tabs;\nconst { Option } = Select;\nconst { confirm } = Modal;\n\nclass WorkAssignment extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedWorkSchedule: {\n        index: 0,\n        workDays: []\n      },\n      selectedWorkDay: {},\n      selectedWorkShift: {},\n      selectedWorkYear: null,\n      workSchedules: [],\n      listWorkYears: [],\n      listStaffs: [],\n      isLoading: true\n    }\n  }\n\n  componentDidMount() {\n    this.loadStaffs();\n    this.loadWorkSchedules(null);\n  }\n\n  loadStaffs = async () => {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Manager.StaffManagement.getListStaffs,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status === 200) {\n        const { users } = res.data;\n        this.setState({ listStaffs: users });\n      } else {\n        message.error(res.errors[0]);\n      }\n\n      this.props.setAppLoading(false);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  refreshAllCurrenStates() {\n    this.setState({\n      selectedWorkSchedule: {\n        index: 0,\n        workDays: []\n      },\n      selectedWorkDay: {},\n      selectedWorkShift: {},\n      selectedWorkYear: null,\n      workSchedules: [],\n      listWorkYears: []\n    });\n  }\n\n  loadWorkSchedules = async (workYear) => {\n    try {\n      this.props.setAppLoading(true);\n      this.refreshAllCurrenStates();\n\n      let url = API.Manager.WorkSchedule.getWorkSchedules;\n      if (workYear) {\n        url += `?year=${workYear}`;\n      }\n\n      const res = await (\n        await fetch(url, {\n          method: 'GET',\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n            'token': this.props.cookies.get(COOKIE_NAMES.token)\n          },\n          signal: this.abortController.signal\n        })\n      ).json();\n\n      this.props.setAppLoading(false);\n      this.setState({ isLoading: false });\n\n      const { workSchedules, availableYears } = res.data\n      const listWorkYears = availableYears.map(y => ({ text: 'Năm ' + y, value: y }));\n      let { selectedWorkSchedule } = this.state;\n      selectedWorkSchedule = { ...selectedWorkSchedule, ...workSchedules[0] };\n\n      this.setState({\n        selectedWorkSchedule,\n        workSchedules,\n        listWorkYears,\n        selectedWorkYear: workYear || listWorkYears[0].value\n      });\n\n      let isWorkShiftFound = false;\n      for (let i = 0; i < selectedWorkSchedule.workDays.length; i++) {\n        for (let j = 0; j < selectedWorkSchedule.workDays[i].length; j++) {\n          if (selectedWorkSchedule.workDays[i][j].staffs.length > 0) {\n            let { selectedWorkShift } = this.state;\n            const selectedWorkDay = selectedWorkSchedule.workDays[i][j];\n\n            selectedWorkShift = selectedWorkDay.workShifts[0];\n            selectedWorkShift.index = 0;\n            isWorkShiftFound = true;\n\n            this.setState({\n              selectedWorkDay,\n              selectedWorkShift\n            });\n\n            break;\n          }\n        }\n      }\n\n      if (!isWorkShiftFound) {\n        const selectedWorkDay = selectedWorkSchedule.workDays[0][0];\n\n        let selectedWorkShift = selectedWorkDay.workShifts[0];\n        if (selectedWorkShift) {\n          selectedWorkShift.index = 0;\n        } else {\n          selectedWorkShift = { index: 0 }\n        }\n\n        this.setState({\n          selectedWorkDay,\n          selectedWorkShift\n        })\n      }\n    } catch (error) {\n      return error;\n    }\n  }\n\n  reloadWorkSchedules(workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift) {\n    this.setState({\n      workSchedules,\n      selectedWorkSchedule,\n      selectedWorkDay,\n      selectedWorkShift\n    })\n  }\n\n  toggleTaskWorkDayPanel() {\n    const { isTaskWorkDayPanelShown } = this.state;\n    this.setState({ isTaskWorkDayPanelShown: !isTaskWorkDayPanelShown });\n  }\n\n  filterWorkShiftsByDay(workShifts, day) {\n    return workShifts.filter(ws => {\n      const wsDay = new Date(ws.startTime).getDate();\n      return day === wsDay;\n    });\n  }\n\n  generateWorkDays(workSchedule) {\n    const { month, year, workShifts } = workSchedule;\n    const workDaysLength = moment(`${month}-${year}`, 'M-YYYY').daysInMonth();\n    let workDays = [];\n    let temp = [];\n    let assigners = [];\n\n    for (let i = 1; i <= workDaysLength; i++) {\n      assigners.length = 0;\n      assigners = [];\n\n      const filteredWorkShifts = this.filterWorkShiftsByDay(workShifts, i);\n      for (const ws of filteredWorkShifts) {\n        for (const wa of ws.workAssignments)\n          assigners.push(wa.assigner);\n      }\n\n      assigners = _.uniqBy(assigners, a => a._id);\n      temp.push({\n        workWeekDay: this.getWeekDay(i, month, year),\n        workDayInMonth: i,\n        workMonth: month,\n        workYear: year,\n        staffs: [...assigners],\n        workShifts: [...filteredWorkShifts]\n      });\n\n      if (i % 7 === 0) {\n        workDays.push([...temp]);\n        temp.length = 0;\n      }\n    }\n\n    temp.length = 0;\n    temp = [];\n\n    for (let i = 29; i <= workDaysLength; i++) {\n      assigners = [];\n\n      const filteredWorkShifts = this.filterWorkShiftsByDay(workShifts, i);\n      for (const ws of filteredWorkShifts) {\n        for (const wa of ws.workAssignments)\n          assigners.push(wa.assigner);\n      }\n\n      assigners = _.uniqBy(assigners, a => a._id);\n      temp.push({\n        workWeekDay: this.getWeekDay(i, month, year),\n        workDayInMonth: i,\n        workMonth: month,\n        workYear: year,\n        staffs: [...assigners],\n        workShifts: [...filteredWorkShifts]\n      });\n    }\n    workDays.push([...temp]);\n\n    return workDays;\n  }\n\n  getWeekDay(day, month, year) {\n    const weekDayNumber = moment(`${day}-${month}-${year}`, 'DD-MM-YYYY').day();\n    switch (weekDayNumber) {\n      case 1: return WEEK_DAY.MONDAY;\n      case 2: return WEEK_DAY.TUESDAY;\n      case 3: return WEEK_DAY.WEDNESDAY;\n      case 4: return WEEK_DAY.THURSDAY;\n      case 5: return WEEK_DAY.FRIDAY;\n      case 6: return WEEK_DAY.SATURDAY;\n      case 0: return WEEK_DAY.SUNDAY;\n      default: return null\n    }\n  }\n\n  handleSelectWorkSchedule(selectedWorkSchedule, index) {\n    selectedWorkSchedule.index = index;\n    selectedWorkSchedule.workDays = this.generateWorkDays(selectedWorkSchedule);\n\n    let isWorkShiftFound = false;\n    for (let i = 0; i < selectedWorkSchedule.workDays.length; i++) {\n      for (let j = 0; j < selectedWorkSchedule.workDays[i].length; j++) {\n        if (selectedWorkSchedule.workDays[i][j].staffs.length > 0) {\n          let { selectedWorkShift } = this.state;\n          const selectedWorkDay = selectedWorkSchedule.workDays[i][j];\n\n          selectedWorkShift = selectedWorkDay.workShifts[0];\n          selectedWorkShift.index = 0;\n          isWorkShiftFound = true;\n\n          this.setState({\n            selectedWorkDay,\n            selectedWorkShift\n          });\n\n          break;\n        }\n      }\n    }\n\n    if (!isWorkShiftFound) {\n      const selectedWorkDay = selectedWorkSchedule.workDays[0][0];\n\n      let selectedWorkShift = selectedWorkDay.workShifts[0];\n      if (selectedWorkShift) {\n        selectedWorkShift.index = 0;\n      } else {\n        selectedWorkShift = { index: 0 }\n      }\n\n      this.setState({\n        selectedWorkDay,\n        selectedWorkShift\n      })\n    }\n\n    this.setState({ selectedWorkSchedule });\n  }\n\n  handleSelectWorkDay(row, col) {\n    const { selectedWorkSchedule } = this.state;\n    let { selectedWorkShift } = this.state;\n    const selectedWorkDay = selectedWorkSchedule.workDays[row][col];\n\n    if (selectedWorkDay.workShifts.length > 0) {\n      selectedWorkShift = selectedWorkDay.workShifts[0];\n      selectedWorkShift.index = 0;\n    } else {\n      selectedWorkShift = {}\n    }\n\n    this.setState({\n      selectedWorkDay,\n      selectedWorkShift\n    });\n  }\n\n  handleSelectWorkShift(workShift, index) {\n    workShift.index = index;\n    this.setState({ selectedWorkShift: workShift });\n  }\n\n  openRemoveWorkShiftConfirm(workShiftID) {\n    const that = this;\n    confirm({\n      title: 'Bạn có muốn hủy ca làm việc này?',\n      icon: <ExclamationCircleOutlined />,\n      content: 'Ca làm việc chỉ có thể hủy khi không còn nhân viên nào được phân công.',\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      async onOk() {\n        try {\n          that.props.setAppLoading(true);\n          const res = await (\n            await fetch(\n              API.Manager.WorkShift.removeWorkShift.replace('{workShiftID}', workShiftID),\n              {\n                method: 'DELETE',\n                headers: {\n                  'Content-type': 'application/json; charset=UTF-8',\n                  'token': that.props.cookies.get(COOKIE_NAMES.token)\n                },\n                signal: that.abortController.signal\n              }\n            )\n          ).json();\n\n          if (res.status !== 200) {\n            that.props.setAppLoading(false);\n            message.error(res.errors[0]);\n            return;\n          }\n\n          let { selectedWorkShift, selectedWorkDay, selectedWorkSchedule, workSchedules } = that.state;\n\n          selectedWorkDay.workShifts = selectedWorkDay.workShifts.filter(ws => ws._id !== workShiftID);\n          if (selectedWorkDay.workShifts.length > 0) {\n            selectedWorkShift = selectedWorkDay.workShifts[0];\n            selectedWorkShift.index = 0;\n          } else {\n            selectedWorkShift = { index: 0 }\n          }\n\n          for (const week of selectedWorkSchedule.workDays) {\n            for (let day of week) {\n              if (day.workDayInMonth === selectedWorkDay.workDayInMonth) {\n                day = selectedWorkDay;\n                break;\n              }\n            }\n          }\n          selectedWorkSchedule.workShifts = selectedWorkSchedule.workShifts.filter(ws => ws._id !== workShiftID);\n\n          for (let i = 0; i < workSchedules.length; i++) {\n            if (workSchedules[i]._id === selectedWorkSchedule._id) {\n              workSchedules[i] = selectedWorkSchedule;\n              break;\n            }\n          }\n\n          that.reloadWorkSchedules(workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift);\n          message.success(res.messages[0]);\n          that.props.setAppLoading(false);\n        } catch (error) {\n          return error;\n        }\n      },\n      onCancel() { },\n    });\n  }\n\n  openRemoveWorkScheduleConfirm(workScheduleID) {\n    const that = this;\n    confirm({\n      title: 'Bạn có muốn hủy lịch làm việc này?',\n      icon: <ExclamationCircleOutlined />,\n      content: 'Lịch làm việc chỉ có thể hủy khi tất cả các ngày trong tháng đều chưa có ca làm việc.',\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      async onOk() {\n        try {\n          that.props.setAppLoading(true);\n          const res = await (\n            await fetch(\n              API.Manager.WorkSchedule.removeWorkSchedule.replace('{workScheduleID}', workScheduleID),\n              {\n                method: 'DELETE',\n                headers: {\n                  'Content-type': 'application/json; charset=UTF-8',\n                  'token': that.props.cookies.get(COOKIE_NAMES.token)\n                },\n                signal: that.abortController.signal\n              }\n            )\n          ).json();\n\n          if (res.status !== 200) {\n            that.props.setAppLoading(false);\n            message.error(res.errors[0]);\n            return;\n          }\n\n          let {\n            workSchedules,\n            selectedWorkSchedule,\n            selectedWorkDay,\n            selectedWorkShift\n          } = that.state;\n\n          workSchedules = workSchedules.filter(wsc => wsc._id !== workScheduleID);\n\n          if (workSchedules.length === 0) {\n            let { listWorkYears, selectedWorkYear } = that.state;\n            listWorkYears = listWorkYears.filter(y => y !== selectedWorkYear);\n            that.loadWorkSchedules(listWorkYears[0].value);\n            message.success(res.messages[0]);\n            return;\n          }\n\n          workSchedules.sort((a, b) => a.month - b.month);\n\n          selectedWorkSchedule = workSchedules[0];\n          selectedWorkSchedule.index = 0;\n          selectedWorkSchedule.workDays = that.generateWorkDays(selectedWorkSchedule);\n\n          let isWorkShiftFound = false;\n          for (let i = 0; i < selectedWorkSchedule.workDays.length; i++) {\n            for (let j = 0; j < selectedWorkSchedule.workDays[i].length; j++) {\n              if (selectedWorkSchedule.workDays[i][j].staffs.length > 0) {\n                selectedWorkDay = selectedWorkSchedule.workDays[i][j];\n                selectedWorkShift = selectedWorkDay.workShifts[0];\n                selectedWorkShift.index = 0;\n                isWorkShiftFound = true;\n                break;\n              }\n            }\n          }\n\n          if (!isWorkShiftFound) {\n            selectedWorkDay = selectedWorkSchedule.workDays[0][0];\n            let selectedWorkShift = selectedWorkDay.workShifts[0];\n            if (selectedWorkShift) {\n              selectedWorkShift.index = 0;\n            } else {\n              selectedWorkShift = { index: 0 }\n            }\n          }\n\n          that.reloadWorkSchedules(workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift);\n          message.success(res.messages[0]);\n          that.props.setAppLoading(false);\n        } catch (error) {\n          return error;\n        }\n      },\n      onCancel() { },\n    });\n  }\n\n  openRemoveWorkShiftAssignerConfirm(assinger) {\n    const that = this;\n    confirm({\n      title: `Bạn có muốn hủy phân công ${assinger.fullname} trong ca làm việc này?`,\n      icon: <ExclamationCircleOutlined />,\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      async onOk() {\n        try {\n          that.props.setAppLoading(true);\n          const { selectedWorkShift, selectedWorkDay, selectedWorkSchedule, workSchedules } = that.state;\n          const { workAssignments } = selectedWorkShift;\n          const workAssignment = workAssignments.find(wa => wa.assigner._id === assinger._id);\n          const workAssignmentID = workAssignment._id;\n\n          const res = await (\n            await fetch(\n              API.Manager.WorkAssignment.removeWorkAssignment.replace('{workAssignmentID}', workAssignmentID),\n              {\n                method: 'DELETE',\n                headers: {\n                  'Content-type': 'application/json; charset=UTF-8',\n                  'token': that.props.cookies.get(COOKIE_NAMES.token)\n                },\n                signal: that.abortController.signal\n              }\n            )\n          ).json();\n\n          if (res.status !== 200) {\n            that.props.setAppLoading(false);\n            message.error(res.errors[0]);\n            return;\n          }\n\n          selectedWorkShift.workAssignments = selectedWorkShift.workAssignments.filter(wa => wa._id !== workAssignmentID);\n\n          for (let ws of selectedWorkDay.workShifts) {\n            if (ws._id === selectedWorkShift._id) {\n              ws.workAssignments = selectedWorkShift.workAssignments;\n              break;\n            }\n          }\n\n          for (const week of selectedWorkSchedule.workDays) {\n            for (let day of week) {\n              if (day.workDayInMonth === selectedWorkDay.workDayInMonth) {\n                day = selectedWorkDay;\n                break;\n              }\n            }\n          }\n\n          for (let wsc of workSchedules) {\n            if (wsc._id === selectedWorkSchedule._id) {\n              wsc = selectedWorkSchedule;\n              break;\n            }\n          }\n\n          that.reloadWorkSchedules(workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift);\n          message.success(res.messages[0]);\n          that.props.setAppLoading(false);\n        } catch (error) {\n          return error;\n        }\n      },\n      onCancel() { },\n    });\n  }\n\n  handleSelectYear(year) {\n    this.setState({ selectedWorkYear: year });\n    this.loadWorkSchedules(year);\n  }\n\n  render() {\n    let {\n      workSchedules,\n      selectedWorkSchedule,\n      selectedWorkDay,\n      selectedWorkShift,\n      listWorkYears,\n      selectedWorkYear,\n      listStaffs,\n    } = this.state;\n\n    selectedWorkSchedule.workDays = this.generateWorkDays(selectedWorkSchedule);\n\n    return (\n      <div className=\"work-assignment\">\n        <Row>\n          <Col className=\"work-assignment__left-sidebar animated slideInLeft\" span={4}>\n            <BtnAddWorkSchedule reloadWorkSchedules={selectedYear => this.loadWorkSchedules(selectedYear)} />\n\n            <div className=\"work-assignment__left-sidebar__year-selection\">\n              <div className=\"work-assignment__left-sidebar__title\">\n                <span>Năm làm việc</span>\n              </div>\n              <div style={{ minHeight: 37 }}>\n                {\n                  (listWorkYears || []).length > 0 ? (\n                    <Select\n                      className=\"animated fadeIn\"\n                      defaultValue={selectedWorkYear}\n                      onChange={e => this.handleSelectYear(e)}>\n                      {listWorkYears.map((y, i) => (\n                        <Option key={i} value={y.value}>{y.text}</Option>\n                      ))}\n                    </Select>\n                  ) : (\n                      <Skeleton.Input\n                        style={{ width: '100%', height: 30, borderRadius: 3, background: 'rgba(0,0,0,0.15)' }}\n                        active={true} size=\"small\"\n                      />\n                    )\n                }\n              </div>\n            </div>\n\n            <div className=\"work-assignment__left-sidebar__list-tasks\">\n\n              <div className=\"work-assignment__left-sidebar__title\">\n                <span>Tháng làm việc</span>\n              </div>\n\n              <div className=\"work-assignment__left-sidebar__list-tasks__wrapper\">\n                <List\n                  locale={{ emptyText: <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"Chưa có dữ liệu\" /> }}\n                  size=\"small\"\n                  dataSource={workSchedules}\n                  renderItem={(item, index) => {\n                    return (\n                      <List.Item\n                        className={\n                          `work-assignment__left-sidebar__list-tasks__item animated fadeIn\n                          ${index === selectedWorkSchedule.index ? 'work-assignment__left-sidebar__list-tasks__item--selected' : ''}`\n                        }\n                        onClick={() => this.handleSelectWorkSchedule(item, index)}>\n                        <Row style={{ width: '90%' }}>\n                          <Col span={22}>\n                            <span className=\"work-assignment__left-sidebar__list-tasks__item__task-name\">Tháng {item.month}</span>\n                          </Col>\n                          <Col span={2}>\n                            <Button\n                              onClick={() => this.openRemoveWorkScheduleConfirm(item._id)}\n                              className=\"work-assignment__left-sidebar__list-tasks__item__btn-remove\"\n                              type=\"link\"\n                              icon={<CloseCircleOutlined />} />\n                          </Col>\n                        </Row>\n                      </List.Item>\n                    )\n                  }}\n                />\n              </div>\n            </div>\n          </Col>\n          <Col className=\"work-assignment__content\" span={20}>\n            <div className=\"work-assignment__content__task-work-day-panel\">\n              <div className=\"work-assignment__content__task-work-day-panel__panel animated slideInRight\">\n\n                <div className=\"work-assignment__content__task-work-day-panel__panel__main\">\n                  <h3>{\n                    `${selectedWorkDay.workWeekDay ? selectedWorkDay.workWeekDay + ', ' : ''} ${selectedWorkDay.workYear ? moment(new Date(selectedWorkDay.workYear, selectedWorkDay.workMonth - 1, selectedWorkDay.workDayInMonth)).format('DD/MM/YYYY') : ''}`\n                  }</h3>\n\n                  <div\n                    className=\"work-assignment__content__task-work-day-panel__panel__main__list-staffs work-assignment__content__task-work-day-panel__panel__main__list-work-shifts\">\n                    <Row>\n                      <Col span={21}>\n                        <span className=\"work-assignment__content__task-work-day-panel__panel__main__title\">\n                          Ca làm việc trong ngày</span>\n                      </Col>\n                      <Col span={3}>\n                        <BtnAddWorkShift\n                          workSchedules={[...workSchedules]}\n                          selectedWorkSchedule={{ ...selectedWorkSchedule }}\n                          selectedWorkDay={{ ...selectedWorkDay }}\n                          selectedWorkShift={{ ...selectedWorkShift }}\n                          reloadWorkSchedules={\n                            (workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift) => {\n                              this.reloadWorkSchedules(workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift)\n                            }\n                          }\n                        />\n                      </Col>\n                    </Row>\n                    <div className=\"work-assignment__content__task-work-day-panel__panel__main__list-work-shifts__wrapper\">\n                      <List\n                        locale={{ emptyText: <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"Chưa có dữ liệu\" /> }}\n                        itemLayout=\"horizontal\"\n                        dataSource={selectedWorkDay.workShifts}\n                        renderItem={(ws, index) => (\n                          <List.Item onClick={() => this.handleSelectWorkShift(ws, index)}>\n                            <Row\n                              className={`\n                                animated fadeIn\n                                ${index === selectedWorkShift.index ?\n                                  'work-assignment__content__task-work-day-panel__panel__main__list-work-shifts__item--selected'\n                                  : 'work-assignment__content__task-work-day-panel__panel__main__list-work-shifts__item'}`}\n                            >\n                              <Col span={22}>\n                                <span>\n                                  Từ {moment(ws.startTime).format('HH:mm')} đến {moment(ws.endTime).format('HH:mm')}\n                                </span>\n                              </Col>\n                              <Col span={2}>\n                                <Button\n                                  className=\"work-assignment__content__task-work-day-panel__panel__main__list-staffs__btn-close\"\n                                  type=\"link\"\n                                  onClick={() => this.openRemoveWorkShiftConfirm(ws._id)}\n                                  icon={<CloseCircleOutlined />} />\n                              </Col>\n                            </Row>\n                          </List.Item>\n                        )}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"work-assignment__content__task-work-day-panel__panel__main__list-work-shifts__details\">\n                    <h3>Chi tiết ca làm việc</h3>\n                    <Row>\n                      <Col span={8}>\n                        <ul\n                          className=\"work-assignment__content__task-work-day-panel__panel__main__list-work-shifts__time--label\">\n                          <li>Bắt đầu</li>\n                          <li>Kết thúc</li>\n                        </ul>\n                      </Col>\n                      <Col span={16}>\n                        <ul\n                          className=\"work-assignment__content__task-work-day-panel__panel__main__list-work-shifts__time--value\">\n                          <li>{\n                            selectedWorkShift.startTime ? moment(selectedWorkShift.startTime).format('HH:mm') : ''\n                          }</li>\n                          <li>{\n                            selectedWorkShift.endTime ? moment(selectedWorkShift.endTime).format('HH:mm') : ''\n                          }</li>\n                        </ul>\n                      </Col>\n                    </Row>\n                    <div className=\"work-assignment__content__task-work-day-panel__panel__main__list-staffs\">\n                      <Row>\n                        <Col span={21}>\n                          <span className=\"work-assignment__content__task-work-day-panel__panel__main__title\">\n                            Nhân viên phụ trách ({\n                              selectedWorkShift.workAssignments ? selectedWorkShift.workAssignments.length : 0\n                            })</span>\n                        </Col>\n                        <Col span={3}>\n                          <BtnAddWorkShiftAssigner\n                            workSchedules={[...workSchedules]}\n                            selectedWorkSchedule={{ ...selectedWorkSchedule }}\n                            selectedWorkDay={{ ...selectedWorkDay }}\n                            selectedWorkShift={{ ...selectedWorkShift }}\n                            staffs={listStaffs.filter(\n                              s => !(selectedWorkShift.workAssignments || []).find(wa => wa.assigner._id === s._id) && s.role !== USER_ROLE.MANAGER.type)\n                            }\n                            reloadWorkSchedules={\n                              (workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift) => {\n                                this.reloadWorkSchedules(workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift)\n                              }\n                            }\n                          />\n                        </Col>\n                      </Row>\n\n                      <div className=\"work-assignment__content__task-work-day-panel__panel__main__list-staffs__wrapper\">\n                        <List\n                          locale={{ emptyText: <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"Chưa có dữ liệu\" /> }}\n                          itemLayout=\"horizontal\"\n                          dataSource={selectedWorkShift.workAssignments}\n                          renderItem={wa => (\n                            <List.Item>\n                              <div className=\"work-assignment__content__task-work-day-panel__panel__main__list-staffs__staff animated fadeIn\">\n                                <Row style={{ width: '100%' }}>\n                                  <Col span={22}>\n                                    <List.Item.Meta\n                                      avatar={<Avatar src={wa.assigner.avatar} />}\n                                      title={<span>{wa.assigner.fullname}</span>}\n                                      description={USER_ROLE[wa.assigner.role].name}\n                                    />\n                                  </Col>\n                                  <Col span={2}>\n                                    <Tooltip placement=\"bottom\" title=\"Hủy phân công\">\n                                      <Button\n                                        className=\"work-assignment__content__task-work-day-panel__panel__main__list-staffs__btn-unassign\"\n                                        type=\"link\"\n                                        icon={<LogoutOutlined />}\n                                        onClick={() => this.openRemoveWorkShiftAssignerConfirm(wa.assigner)}\n                                      />\n                                    </Tooltip>\n                                  </Col>\n                                </Row>\n                              </div>\n                            </List.Item>\n                          )}\n                        />\n                      </div>\n\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"work-assignment__content__header\">\n              <div className=\"work-assignment__content__header__dark-bg\"></div>\n              <div className=\"work-assignment__content__header__task-name\">\n                <h3>Tháng {selectedWorkSchedule.month} năm {selectedWorkSchedule.year}</h3>\n              </div>\n            </div>\n            <div className=\"work-assignment__content__body\">\n              <Tabs\n                defaultActiveKey=\"1\"\n                tabBarGutter={50}\n                className=\"work-assignment__content__body__tabs\"\n                onChange={e => console.log(e)}>\n                <TabPane tab=\"Lịch làm việc\" key=\"1\" className=\"work-assignment__content__body__tabs__work-schedule\">\n                  {selectedWorkSchedule.workDays.map((row, iRow) => (\n                    <Row key={iRow + 1}>\n                      {row.map((col, iCol) => (\n                        <Col key={`${iRow + 1}_${iCol}`} span={2}\n                          className={`\n                            animated zoomIn \n                            work-assignment__content__body__tabs__work-schedule__work-day \n                            ${col.workDayInMonth === selectedWorkDay.workDayInMonth ?\n                              'work-assignment__content__body__tabs__work-schedule__work-day--selected' : ''\n                            }\n                          `}\n                          style={{ animationDelay: `${0.03 * iRow * iCol}s` }}\n                          onClick={() => this.handleSelectWorkDay(iRow, iCol)}>\n                          <span\n                            className={`\n                              work-assignment__content__body__tabs__work-schedule__work-day__day-in-month\n                              ${col.workWeekDay === WEEK_DAY.SUNDAY ? 'work-assignment__content__body__tabs__work-schedule__work-day__day-in-month--sunday' : ''}\n                            `}>{col.workDayInMonth}</span>\n                          <span\n                            className={`\n                              work-assignment__content__body__tabs__work-schedule__work-day__week-day\n                              ${col.workWeekDay === WEEK_DAY.SUNDAY ? 'work-assignment__content__body__tabs__work-schedule__work-day__week-day--sunday' : ''}\n                            `}>{col.workWeekDay}</span>\n                          <div className=\"work-assignment__content__body__tabs__work-schedule__work-day__staffs\">\n                            {col.staffs.slice(0, 2).map(staff => (\n                              <Tooltip\n                                key={staff._id}\n                                placement=\"bottom\"\n                                title={staff.fullname}\n                              >\n                                <Avatar\n                                  key={staff._id}\n                                  size={16}\n                                  className=\"work-assignment__content__body__tabs__work-schedule__work-day__staffs__avatar\"\n                                  src={staff.avatar} />\n                              </Tooltip>\n                            ))}\n                            {col.staffs.length > 2 ? (\n                              <Tooltip\n                                placement=\"bottom\"\n                                title={col.staffs.slice(2).map(staff => (\n                                  <Row gutter={7} key={staff._id}>\n                                    <Col><Avatar\n                                      style={{ marginTop: -3 }}\n                                      key={staff._id}\n                                      size={16}\n                                      src={staff.avatar} /></Col>\n                                    <Col><span>{staff.fullname}</span></Col>\n                                  </Row>\n                                ))}\n                              >\n                                <div className=\"work-assignment__content__body__tabs__work-schedule__work-day__staffs__avatar--plus\">\n                                  <span>+{col.staffs.slice(2).length}</span>\n                                </div>\n                              </Tooltip>\n                            ) : <></>}\n                          </div>\n                        </Col>\n                      ))}\n                    </Row>\n                  ))}\n                </TabPane>\n              </Tabs>\n            </div>\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(WorkAssignment));\n","import React, { Component } from 'react';\nimport GooglePlacesAutocomplete from 'react-google-places-autocomplete';\nimport 'react-google-places-autocomplete/dist/index.min.css';\nimport './GooglePlacesAutocomplete.style.scss';\nimport { Input } from 'antd';\nimport { geocodeByAddress } from 'react-google-places-autocomplete';\n\n/**\n * REMEMBER: Enable Maps Javascript API & Places API from Google Cloud Flatform\n */\nexport default class PlacesAutocomplete extends Component {\n  constructor(props) {\n    super(props);\n    this.inputRef = React.createRef();\n  }\n\n  async handleSelectPlace(e) {\n    try {\n      const { description } = e;\n      const res = await geocodeByAddress(description);\n      const placeInfo = {\n        address: description,\n        location: {\n          lat: res[0].geometry.location.lat(),\n          lng: res[0].geometry.location.lng()\n        }\n      };\n      this.props.setAddress(placeInfo);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"google-places-autocomplete\">\n        <GooglePlacesAutocomplete\n          placeholder=\"Tối đa 100 kí tự\"\n          suggestionsClassNames={{ suggestion: 'google-places-autocomplete__suggestions' }}\n          onSelect={e => this.handleSelectPlace(e)}\n          initialValue={this.props.initialValue}\n          renderInput={(props) => (\n            <Input {...props} maxLength={150} />\n          )}\n        />\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport { Button, Modal, Form, Input, message } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport './AddSupplierDialog.style.scss';\nimport { connect } from 'react-redux';\nimport { withCookies } from 'react-cookie';\nimport * as actions from '../../../../../../redux/actions';\nimport PageBase from '../../../../../utilities/PageBase/PageBase';\nimport { API } from '../../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../../constants/cookie-name.constant';\nimport GooglePlacesAutocomplete from '../../../../../utilities/GooglePlacesAutocomplete/GooglePlacesAutocomplete';\n\nconst layout = {\n  labelCol: { span: 5 },\n  wrapperCol: { span: 19 },\n};\n\nclass AddSupplierDialog extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false\n    }\n    this.formRef = React.createRef();\n  }\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  onOk() {\n    if (this.formRef.current) {\n      this.formRef.current.submit();\n    }\n  }\n\n  async onFinish(values) {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Manager.SupplierManagment.addSupplier,\n          {\n            method: 'POST',\n            body: JSON.stringify(values),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      if (this.formRef.current) {\n        this.formRef.current.resetFields();\n      }\n\n      this.props.addToSuppliersDataSource(res.data.supplier);\n      this.setDialogVisible(false);\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  setAddress(placeInfo) {\n    if (this.formRef.current) {\n      this.formRef.current.setFieldsValue({ address: placeInfo.address });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"importing-request__container__suppliers__toolbar__add-supplier-dialog\">\n        <Button\n          icon={<PlusOutlined />}\n          className=\"importing-request__container__suppliers__toolbar__add-supplier-dialog__btn-open\"\n          onClick={() => this.setDialogVisible(true)}\n        />\n\n        <Modal\n          className=\"importing-request__container__suppliers__toolbar__add-supplier-dialog__content\"\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>Nhà cung cấp mới</span>}\n          centered\n          visible={this.state.isVisible}\n          onOk={() => this.onOk()}\n          onCancel={() => this.setDialogVisible(false)}\n          okText=\"Thêm\"\n          cancelText=\"Hủy bỏ\"\n          okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n        >\n          <Form\n            {...layout}\n            ref={current => this.formRef.current = current}\n            onFinish={values => this.onFinish(values)}\n            onFinishFailed={() => message.error('Chưa đầy đủ thông tin, vui lòng kiểm tra lại')}\n          >\n            <Form.Item\n              name=\"name\"\n              label=\"Thương thiệu\"\n              rules={[{ required: true, message: 'Vui lòng nhập thương hiệu' }]}\n            >\n              <Input maxLength={50} placeholder=\"Tối đa 50 kí tự\" autoFocus={true} />\n            </Form.Item>\n            <Form.Item\n              name=\"phone\"\n              label=\"Điện thoại\"\n              rules={[{ required: true, message: 'Vui lòng nhập số điện thoại' }]}\n            >\n              <Input maxLength={11} placeholder=\"Bao gồm 10 hoặc 11 số\" />\n            </Form.Item>\n            <Form.Item\n              name=\"address\"\n              label=\"Địa chỉ\"\n              rules={[{ required: true, message: 'Vui lòng nhập vào chọn địa chỉ' }]}\n            >\n              <GooglePlacesAutocomplete\n                setAddress={placeInfo => this.setAddress(placeInfo)}\n              />\n            </Form.Item>\n\n            <Form.Item style={{ display: 'none' }}>\n              <Button htmlType=\"submit\" />\n            </Form.Item>\n\n          </Form>\n\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(AddSupplierDialog));\n","import React from 'react';\nimport { Button, Modal, Form, Input, message } from 'antd';\nimport { EditOutlined } from '@ant-design/icons';\nimport './EditSupplierDialog.style.scss';\nimport { connect } from 'react-redux';\nimport { withCookies } from 'react-cookie';\nimport * as actions from '../../../../../../redux/actions';\nimport PageBase from '../../../../../utilities/PageBase/PageBase';\nimport { API } from '../../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../../constants/cookie-name.constant';\nimport GooglePlacesAutocomplete from '../../../../../utilities/GooglePlacesAutocomplete/GooglePlacesAutocomplete';\n\nconst layout = {\n  labelCol: { span: 5 },\n  wrapperCol: { span: 19 },\n};\n\nclass EditSupplierDialog extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false\n    }\n    this.formRef = React.createRef();\n  }\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  onOk() {\n    if (this.formRef.current) {\n      this.formRef.current.submit();\n    }\n  }\n\n  async onFinish(values) {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Manager.SupplierManagment.updateSupplier.replace('{supplierID}', this.props.supplier._id),\n          {\n            method: 'PUT',\n            body: JSON.stringify(values),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.props.updateSuppliersDataSource(res.data.supplier);\n      this.setDialogVisible(false);\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  setAddress(placeInfo) {\n    if (this.formRef.current) {\n      this.formRef.current.setFieldsValue({ address: placeInfo.address });\n    }\n  }\n\n  render() {\n    const { supplier } = this.props;\n    if (!supplier)\n      return <></>;\n\n    return (\n      <div className=\"importing-request__container__suppliers__details__header__toolbar__edit-supplier-dialog\">\n        <Button\n          icon={<EditOutlined />}\n          shape=\"circle\"\n          className=\"importing-request__container__suppliers__details__header__toolbar__edit-supplier-dialog__btn-open\"\n          onClick={() => this.setDialogVisible(true)}\n        />\n\n        <Modal\n          className=\"importing-request__container__suppliers__details__header__toolbar__edit-supplier-dialog__content\"\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>{supplier.name}</span>}\n          centered\n          visible={this.state.isVisible}\n          onOk={() => this.onOk()}\n          onCancel={() => this.setDialogVisible(false)}\n          okText=\"Lưu thay đổi\"\n          cancelText=\"Hủy bỏ\"\n          okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n        >\n          <Form\n            {...layout}\n            ref={current => {\n              this.formRef.current = current;\n              if (this.formRef.current) {\n                this.formRef.current.setFieldsValue({\n                  name: supplier.name,\n                  phone: supplier.phone,\n                  address: supplier.address\n                });\n              }\n            }}\n            onFinish={values => this.onFinish(values)}\n            onFinishFailed={() => message.error('Chưa đầy đủ thông tin, vui lòng kiểm tra lại')}\n          >\n            <Form.Item\n              name=\"name\"\n              label=\"Thương thiệu\"\n              rules={[{ required: true, message: 'Vui lòng nhập thương hiệu' }]}\n            >\n              <Input maxLength={50} placeholder=\"Tối đa 50 kí tự\" autoFocus={true} />\n            </Form.Item>\n            <Form.Item\n              name=\"phone\"\n              label=\"Điện thoại\"\n              rules={[{ required: true, message: 'Vui lòng nhập số điện thoại' }]}\n            >\n              <Input maxLength={11} placeholder=\"Bao gồm 10 hoặc 11 số\" />\n            </Form.Item>\n            <Form.Item\n              name=\"address\"\n              label=\"Địa chỉ\"\n              rules={[{ required: true, message: 'Vui lòng nhập vào chọn địa chỉ' }]}\n            >\n              <GooglePlacesAutocomplete\n                setAddress={placeInfo => this.setAddress(placeInfo)}\n                initialValue={supplier.address}\n              />\n            </Form.Item>\n\n            <Form.Item style={{ display: 'none' }}>\n              <Button htmlType=\"submit\" />\n            </Form.Item>\n\n          </Form>\n\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(EditSupplierDialog));\n","import React from 'react';\nimport { Row, Col, Input, Empty, Button, Divider, List, message, Modal } from 'antd';\nimport { SearchOutlined, DeleteOutlined, EnvironmentTwoTone, ExclamationCircleOutlined } from '@ant-design/icons';\nimport './SupplierManagement.style.scss';\nimport { connect } from 'react-redux';\nimport { withCookies } from 'react-cookie';\nimport * as actions from '../../../../../redux/actions';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport { API } from '../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport * as _ from 'lodash';\nimport AddSupplierDialog from './AddSupplierDialog/AddSupplierDialog';\nimport GoogleMap from '../../../../utilities/GoogleMap/GoogleMap';\nimport EditSupplierDialog from './EditSupplierDialog/EditSupplierDialog';\n\nclass SupplierManagement extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      suppliersDataSource: [],\n      filteredSuppliers: [],\n      selectedSupplier: {},\n      supplierSearchText: ''\n    }\n  }\n\n  componentDidMount() {\n    this.loadSuppliers();\n  }\n\n  openRemoveSupplierConfirmDialog(supplierID) {\n    const that = this;\n    let { suppliersDataSource } = this.state;\n    const supplier = suppliersDataSource.find(s => s._id === supplierID);\n    Modal.confirm({\n      title: `Bạn muốn xóa nhà cung cấp ${supplier.name}?`,\n      icon: <ExclamationCircleOutlined />,\n      content: '',\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      async onOk() {\n        try {\n          that.props.setAppLoading(true);\n          const res = await (\n            await fetch(\n              API.Manager.SupplierManagment.removeSupplier.replace('{supplierID}', supplierID),\n              {\n                method: 'DELETE',\n                headers: {\n                  'Content-type': 'application/json; charset=UTF-8',\n                  'token': that.props.cookies.get(COOKIE_NAMES.token)\n                },\n                signal: that.abortController.signal\n              }\n            )\n          ).json();\n\n          that.props.setAppLoading(false);\n          if (res.status !== 200) {\n            message.error(res.errors[0]);\n            return;\n          }\n\n          suppliersDataSource = suppliersDataSource.filter(s => s._id !== supplierID);\n          that.onSupplierSearchInputChange(that.state.supplierSearchText, suppliersDataSource);\n          that.setState({ suppliersDataSource });\n          message.success(res.messages[0]);\n        } catch (error) {\n          return error;\n        }\n      }\n    });\n  }\n\n  async loadSuppliers() {\n    try {\n      // this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Manager.SupplierManagment.getSuppliers,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      // this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      const { suppliers } = res.data;\n      this.onSupplierSearchInputChange(this.state.supplierSearchText, suppliers);\n      this.setState({ suppliersDataSource: suppliers });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  onSupplierSearchInputChange(text, suppliersDataSource, defaultSelectedSupplier) {\n    let { filteredSuppliers } = this.state;\n    if (!text) {\n      filteredSuppliers = [...suppliersDataSource];\n    } else {\n      filteredSuppliers = suppliersDataSource.filter(s => {\n        const searchKeys = Object.keys(s).filter(k => ['name'].includes(k));\n        for (const k of searchKeys) {\n          if (s[k].toLowerCase().includes(text.toLowerCase()))\n            return true;\n        }\n        return false;\n      })\n    }\n\n    this.setState({\n      filteredSuppliers,\n      selectedSupplier: defaultSelectedSupplier || (filteredSuppliers.length > 0 ? filteredSuppliers[0] : {}),\n      supplierSearchText: text\n    });\n  }\n\n  handleSelectSupplier(_id) {\n    const selectedSupplier = _.find(this.state.suppliersDataSource, s => s._id === _id);\n    this.setState({ selectedSupplier });\n  }\n\n  addToSuppliersDataSource(supplier) {\n    let { suppliersDataSource } = this.state;\n    suppliersDataSource.push(supplier);\n    this.onSupplierSearchInputChange(this.state.supplierSearchText, suppliersDataSource);\n    this.setState({ suppliersDataSource });\n  }\n\n  updateSuppliersDataSource(supplier) {\n    const { suppliersDataSource } = this.state;\n    const index = _.findIndex(suppliersDataSource, s => s._id === supplier._id);\n\n    if (index < 0)\n      return;\n\n    suppliersDataSource[index] = { ...supplier };\n    this.onSupplierSearchInputChange(this.state.supplierSearchText, suppliersDataSource, { ...supplier });\n    this.setState({ suppliersDataSource });\n  }\n\n  render() {\n    const { filteredSuppliers, selectedSupplier } = this.state;\n    return (\n      <div className=\"importing-request__container__suppliers animated fadeInRight\" style={{ animationDelay: '0.8s' }}>\n        <div className=\"importing-request__container__suppliers__header\">\n          <span className=\"importing-request__container__suppliers__header__title\">\n            Nhà cung cấp sản phẩm ({filteredSuppliers.length})\n          </span>\n        </div>\n        <div className=\"importing-request__container__suppliers__toolbar\">\n          <Row style={{ width: '100%' }}>\n            <Col span={21}>\n              <Input\n                prefix={<SearchOutlined style={{ marginRight: 5 }} />}\n                placeholder=\"Tìm kiếm theo tên, địa chỉ, điện thoại...\"\n                onChange={e => this.onSupplierSearchInputChange(e.target.value, this.state.suppliersDataSource)}\n              />\n            </Col>\n            <Col span={3} align=\"center\">\n              <AddSupplierDialog\n                addToSuppliersDataSource={supplier => this.addToSuppliersDataSource(supplier)}\n              />\n            </Col>\n          </Row>\n        </div>\n        <div className=\"importing-request__container__suppliers__list\">\n          <List\n            size=\"small\"\n            dataSource={filteredSuppliers}\n            renderItem={s => (\n              <List.Item\n                onClick={() => this.handleSelectSupplier(s._id)}\n                className={`importing-request__container__suppliers__list__item animated fadeIn \n                  ${selectedSupplier._id === s._id ? '--selected' : ''}\n                `}\n                key={s._id}>\n                {s.name}\n              </List.Item>\n            )}\n            locale={{ emptyText: <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"Chưa có dữ liệu\" /> }}\n          />\n        </div>\n        <div className=\"importing-request__container__suppliers__details\">\n          <div className=\"importing-request__container__suppliers__details__header\">\n            <span className=\"importing-request__container__suppliers__details__header__title\">\n              Thông tin liên hệ\n                    </span>\n            <div className=\"importing-request__container__suppliers__details__header__toolbar\">\n              <EditSupplierDialog\n                supplier={{ ...selectedSupplier }}\n                updateSuppliersDataSource={supplier => this.updateSuppliersDataSource(supplier)}\n              />\n\n              <Button\n                shape=\"circle\"\n                icon={<DeleteOutlined />}\n                className=\"importing-request__container__suppliers__details__header__toolbar__btn\"\n                onClick={() => this.openRemoveSupplierConfirmDialog(selectedSupplier._id)}\n              />\n            </div>\n          </div>\n          <Divider />\n          <div className=\"importing-request__container__suppliers__details__content\">\n            <Row style={{ width: '100%' }}>\n              <Col span={6}>\n                <span className=\"importing-request__container__suppliers__details__content__label\">\n                  Thương hiệu\n                        </span>\n              </Col>\n              <Col span={18}>{selectedSupplier.name}</Col>\n            </Row>\n            <Row style={{ width: '100%' }}>\n              <Col span={6}>\n                <span className=\"importing-request__container__suppliers__details__content__label\">\n                  Số điện thoại\n                        </span>\n              </Col>\n              <Col span={18}>{selectedSupplier.phone}</Col>\n            </Row>\n            <Row style={{ width: '100%' }}>\n              <Col span={6}>\n                <span className=\"importing-request__container__suppliers__details__content__label\">\n                  Địa chỉ\n                        </span>\n              </Col>\n              <Col span={18}>\n                <p style={{ minHeight: 35, maxHeight: 35 }}>\n                  {selectedSupplier.address}\n                </p>\n              </Col>\n            </Row>\n\n            <div className=\"importing-request__container__suppliers__details__content__map\">\n              {selectedSupplier.address ? (\n                <GoogleMap\n                  width={'100%'}\n                  height={200}\n                  address={selectedSupplier.address}\n                  locationIcon={\n                    <EnvironmentTwoTone\n                      twoToneColor=\"#ff8220\"\n                      style={{ fontSize: 24 }}\n                    />\n                  }\n                />\n              ) : <></>}\n            </div>\n\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(SupplierManagement));","import React from 'react';\nimport { Avatar, Row, Col, Modal, Table, Button, message } from 'antd';\nimport { ExclamationCircleOutlined, CloseOutlined } from '@ant-design/icons';\nimport './PendingRequest.style.scss';\nimport moment from 'moment';\nimport NumberFormat from 'react-number-format';\nimport IMPORTING_REQUEST from '../../../../../constants/importing-request.constant';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../../redux/actions';\nimport { API } from '../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport { withCookies } from 'react-cookie';\nimport SupplierContactPopover from '../../../../utilities/SupplierContactPopover/SupplierContactPopover';\n\nclass PendingRequest extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false\n    }\n  }\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  openCancelRequestConfirmDialog() {\n    const that = this;\n    Modal.confirm({\n      title: `Từ chối yêu cầu từ ${this.props.details.sender.fullname}?`,\n      icon: <ExclamationCircleOutlined />,\n      content: '',\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      async onOk() {\n        try {\n          that.props.setAppLoading(true);\n          const res = await (\n            await fetch(\n              API.Manager.ImportingRequestManagement.cancelImportingRequest.replace('{importingRequestID}', that.props.details._id),\n              {\n                method: 'DELETE',\n                headers: {\n                  'Content-type': 'application/json; charset=UTF-8',\n                  'token': that.props.cookies.get(COOKIE_NAMES.token)\n                },\n                signal: that.abortController.signal\n              }\n            )\n          ).json();\n          that.props.setAppLoading(false);\n          if (res.status !== 200) {\n            message.error(res.errors[0]);\n            return;\n          }\n\n          that.props.onUpdateImportingRequests(res.data.importingRequests);\n          that.setDialogVisible(false);\n          message.success(res.messages[0]);\n        } catch (error) {\n          return error;\n        }\n      }\n    });\n  }\n\n  render() {\n    const { details } = this.props;\n    const columns = [\n      {\n        title: 'Sản phẩm',\n        dataIndex: 'product',\n        key: 'product',\n        width: 200,\n        render: (value, record) => (\n          <div>\n            <img src={record.product.image} alt=\"product\" style={{ width: 20, margin: 15 }} />\n            <span>{record.product.name}</span>\n          </div>\n        )\n      },\n      {\n        title: 'Nhà cung cấp',\n        dataIndex: 'supplier',\n        key: 'supplier',\n        width: 200,\n        render: (value, record) => (\n          <SupplierContactPopover\n            supplier={{ ...record.product.supplier }}\n            buttonText={record.product.supplier.name}\n            buttonStyle={{ fontSize: 11 }}\n            placement=\"right\"\n          />\n        )\n      },\n      {\n        title: 'Giá bán',\n        dataIndex: 'price',\n        key: 'price',\n        width: 100,\n        render: (value, record) => (\n          <NumberFormat\n            value={record.product.price}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n            style={{ fontWeight: 'bold' }}\n          />\n        )\n      }\n    ];\n\n    return (\n      <div className=\"pending-importing-request\">\n        <div className=\"pending-importing-request__summary animated fadeIn\">\n          <Row\n            gutter={10}\n            style={{ width: '100%', height: '100%' }}\n            onClick={() => this.setDialogVisible(true)}\n          >\n            <Col span={4}>\n              <Avatar\n                className=\"pending-importing-request__summary__avatar\"\n                src={details.sender.avatar} size={24} />\n            </Col>\n            <Col span={20}>\n              <div className=\"pending-importing-request__summary__details\">\n                <span className=\"pending-importing-request__summary__details__title\">\n                  {details.sender.fullname}\n                </span>\n                <span className=\"pending-importing-request__summary__details__time\">\n                  Yêu cầu lúc {moment(details.createdAt).format('HH:mm DD-MM-YYYY')}\n                </span>\n                <p className=\"pending-importing-request__summary__details__products\">\n                  {details.requiredProducts.map(rp => rp.product.name).join(', ')}.\n                </p>\n              </div>\n            </Col>\n          </Row>\n\n          <CloseOutlined\n            className=\"pending-importing-request__summary__btn-cancel\"\n            onClick={() => this.openCancelRequestConfirmDialog()}\n          />\n        </div>\n\n        <Modal\n          className=\"pending-importing-request__content\"\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>Thông tin yêu cầu</span>}\n          visible={this.state.isVisible}\n          footer={null}\n          onCancel={() => this.setDialogVisible(false)}\n        >\n          <Row style={{ width: '100%' }}>\n            <Col span={7}>\n              <ul className=\"pending-importing-request__content__labels\">\n                <li>Người yêu cầu</li>\n                <li>Vào lúc</li>\n                <li>Trạng thái</li>\n                <li>Sản phẩm yêu cầu ({details.requiredProducts.length})</li>\n              </ul>\n            </Col>\n            <Col span={17}>\n              <ul className=\"pending-importing-request__content__values\">\n                <li><strong>{details.sender.fullname}</strong></li>\n                <li>{moment(details.createdAt).format('HH:mm DD-MM-YYYY')}</li>\n                <li><span className=\"pending-importing-request__content__values__status\">{IMPORTING_REQUEST.STATUS.PENDING.name}</span></li>\n              </ul>\n            </Col>\n          </Row>\n\n          <div className=\"pending-importing-request__content__products\">\n            <Table\n              dataSource={[...details.requiredProducts]}\n              columns={columns}\n              pagination={false}\n              scroll={{ y: 250 }}\n            />\n          </div>\n\n          <div className=\"pending-importing-request__content__btn-cancel-wrapper\">\n            <Button\n              className=\"pending-importing-request__content__btn-cancel-wrapper__btn\"\n              onClick={() => this.openCancelRequestConfirmDialog()}\n              type=\"primary\"\n              shape=\"round\"\n            >\n              Từ chối yêu cầu\n            </Button>\n          </div>\n\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(PendingRequest));","import React from 'react';\nimport { Button, Modal, Table, InputNumber, Divider, Dropdown, Menu, Avatar, Form, Input, Row, Col, message } from 'antd';\nimport NumberFormat from 'react-number-format';\nimport { DownOutlined, ArrowRightOutlined } from '@ant-design/icons';\nimport './StatisticPendingRequestDialog.style.scss';\nimport * as _ from 'lodash';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../../redux/actions';\nimport { withCookies } from 'react-cookie';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport { API } from '../../../../../constants/api.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport SupplierContactPopover from '../../../../utilities/SupplierContactPopover/SupplierContactPopover';\n\nclass StatisticPendingRequestDialog extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false,\n      requiredProducts: [],\n      executor: {},\n      priceTotal: 0\n    }\n    this.formRef = React.createRef();\n  }\n\n  componentWillReceiveProps(props) {\n    const { pendingRequests } = props;\n    let requiredProducts = [];\n    for (const r of pendingRequests) {\n      for (const p of r.requiredProducts)\n        requiredProducts.push(p);\n    }\n    requiredProducts = requiredProducts.map((p, i) => ({ ...p, key: i }));\n    requiredProducts = _.uniqBy(requiredProducts, p => p.product._id);\n    this.setState({\n      requiredProducts,\n      priceTotal: requiredProducts.reduce((acc, cur) => acc + cur.product.price, 0)\n    });\n  }\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  onRequiredProductQuantityInputChanged(id, quantity) {\n    const { requiredProducts } = this.state;\n    const index = _.findIndex(requiredProducts, p => p._id === id);\n    requiredProducts[index].requiredQuantity = quantity;\n    this.setState({\n      requiredProducts,\n      priceTotal: requiredProducts.reduce((acc, cur) => acc + (cur.requiredQuantity * cur.product.price), 0)\n    });\n  }\n\n  async acceptRequests(values) {\n    try {\n      if (!values.executor) {\n        message.error('Thông tin bàn giao chưa đầy đủ, vui lòng kiểm tra lại');\n        return;\n      }\n\n      this.props.setAppLoading(true);\n      const { requiredProducts, priceTotal } = this.state;\n      let { pendingRequests } = this.props;\n      const params = {\n        ...values,\n        priceTotal,\n        requests: pendingRequests.map(r => ({ _id: r._id })),\n        importedProducts: requiredProducts.map(rp => ({\n          productID: rp.product._id,\n          requiredQuantity: rp.requiredQuantity\n        }))\n      }\n      const res = await (\n        await fetch(\n          API.Manager.ImportingRequestManagement.acceptImportingRequests,\n          {\n            method: 'PUT',\n            body: JSON.stringify(params),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.props.onAcceptRequests();\n      this.setDialogVisible(false);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  handleSelectExcecutor(data) {\n    const executor = JSON.parse(data);\n    if (this.formRef.current) {\n      this.formRef.current.setFieldsValue({ executor: executor._id });\n    }\n    this.setState({ executor });\n  }\n\n  render() {\n    const { importers } = this.props;\n    const { requiredProducts, executor, priceTotal } = this.state;\n    const columns = [\n      {\n        title: 'Sản phẩm',\n        dataIndex: 'product',\n        key: 'product',\n        width: 220,\n        render: (value, record) => (\n          <div>\n            <img src={record.product.image} alt=\"product\" style={{ width: 20, margin: 15 }} />\n            <span>{record.product.name}</span>\n          </div>\n        )\n      },\n      {\n        title: 'Nhà cung cấp',\n        dataIndex: 'supplier',\n        key: 'supplier',\n        width: 220,\n        render: (value, record) => (\n          <SupplierContactPopover\n            supplier={{ ...record.product.supplier }}\n            buttonText={record.product.supplier.name}\n            buttonStyle={{ fontSize: 11 }}\n            placement=\"right\"\n          />\n        )\n      },\n      {\n        title: 'Giá bán',\n        dataIndex: 'price',\n        key: 'price',\n        width: 100,\n        render: (value, record) => (\n          <NumberFormat\n            value={record.product.price}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n            style={{ fontWeight: 'bold' }}\n          />\n        )\n      },\n      {\n        title: <center><span style={{ marginLeft: 15 }}>SL yêu cầu</span></center>,\n        dataIndex: 'quantity',\n        key: 'quantity',\n        render: (value, record) => (\n          <center>\n            <InputNumber\n              min={1}\n              max={999}\n              defaultValue={1}\n              onChange={e => this.onRequiredProductQuantityInputChanged(record._id, e)}\n            />\n          </center>\n        )\n      }\n    ];\n\n    const executorMenu = (\n      <Menu onClick={e => this.handleSelectExcecutor(e.key)}>\n        {importers.map(i => (\n          <Menu.Item key={JSON.stringify(i)}>\n            <Avatar\n              src={i.avatar}\n              size={20}\n              style={{ marginRight: 10 }}\n            />\n            {i.fullname}\n          </Menu.Item>\n        ))}\n      </Menu>\n    );\n\n    return (\n      <div className=\"statistic-pending-request-dialog\">\n        <div className=\"statistic-pending-request-dialog__btn-open-wrapper\">\n          <Button\n            shape=\"round\"\n            className=\"statistic-pending-request-dialog__btn-open-wrapper__btn\"\n            onClick={() => this.setDialogVisible(true)}\n            disabled={requiredProducts.length === 0}\n          >\n            Thống kê sản phẩm yêu cầu\n            <ArrowRightOutlined />\n          </Button>\n        </div>\n\n        <Modal\n          className=\"statistic-pending-request-dialog__content\"\n          title={\n            <span style={{ color: '#ff8220', fontWeight: 'bold' }}>\n              Sản phẩm yêu cầu ({requiredProducts.length})\n            </span>\n          }\n          visible={this.state.isVisible}\n          footer={null}\n          onCancel={() => this.setDialogVisible(false)}\n        >\n          <div className=\"statistic-pending-request-dialog__content__products\">\n            <Table\n              dataSource={requiredProducts}\n              columns={columns}\n              pagination={false}\n              scroll={{ y: 250 }}\n            />\n          </div>\n\n          <Row\n            align=\"middle\"\n            className=\"statistic-pending-request-dialog__content__price-total\"\n\n          >\n            <Col span={19}>Tổng tiền</Col>\n            <Col span={5} align=\"center\">\n              <NumberFormat\n                value={priceTotal}\n                displayType=\"text\"\n                thousandSeparator={true}\n                suffix=\" đ̲\"\n                style={{ fontWeight: 'bold' }}\n              />\n            </Col>\n          </Row>\n\n          <div className=\"statistic-pending-request-dialog__content__executor\">\n            <Row align=\"middle\">\n              <Col span={19}>\n                <div className=\"statistic-pending-request-dialog__content__executor__title\">\n                  <span>Bàn giao thực hiện</span>\n                </div>\n              </Col>\n              <Col span={5}>\n                <Button\n                  shape=\"round\"\n                  type=\"primary\"\n                  className=\"statistic-pending-request-dialog__content__executor__btn-submit\"\n                  onClick={() => {\n                    if (this.formRef.current) {\n                      this.formRef.current.submit();\n                    }\n                  }}\n                >\n                  <span>Bàn giao</span>\n                  <ArrowRightOutlined />\n                </Button>\n              </Col>\n            </Row>\n\n            <Divider />\n\n            <Form\n              ref={current => this.formRef.current = current}\n              onFinish={values => this.acceptRequests(values)}\n            >\n              <Row style={{ width: '100%' }}>\n                <Col span={5}><ul className=\"statistic-pending-request-dialog__content__labels\">\n                  <li>Người thực hiện</li>\n                  <li>Ghi chú</li>\n                </ul></Col>\n                <Col span={19}>\n                  <ul className=\"statistic-pending-request-dialog__content__values\">\n                    <li>\n                      <Form.Item name=\"executor\" >\n                        <Dropdown overlay={executorMenu}>\n                          <Button>\n                            <Row style={{ width: 200 }} align=\"middle\">\n                              <Col span={22} align=\"left\">{executor.fullname || 'Chọn nhân viên...'}</Col>\n                              <Col span={2}><DownOutlined /></Col>\n                            </Row>\n                          </Button>\n                        </Dropdown>\n                      </Form.Item>\n                    </li>\n                    <li><Form.Item name=\"note\">\n                      <Input.TextArea placeholder=\"Nhập ghi chú...\" />\n                    </Form.Item></li>\n                  </ul>\n                </Col>\n              </Row>\n            </Form>\n          </div>\n\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(StatisticPendingRequestDialog));","import React from 'react';\nimport { Row, Col, Avatar, Modal, Table, Progress } from 'antd';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport moment from 'moment';\nimport './ImporterAssignment.style.scss';\nimport NumberFormat from 'react-number-format';\nimport IMPORTING_REQUEST from '../../../../../constants/importing-request.constant';\nimport * as _ from 'lodash';\nimport SupplierContactPopover from '../../../../utilities/SupplierContactPopover/SupplierContactPopover';\n\nexport default class ImporterAssignment extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false\n    }\n  }\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  render() {\n    const { data } = this.props;\n    const importedProducts = data.importedProducts.map((p, i) => ({ ...p, key: i }));\n    const columns = [\n      {\n        title: 'Sản phẩm',\n        dataIndex: 'product',\n        key: 'product',\n        width: 200,\n        render: (value, record) => (\n          <div>\n            <img src={record.product.image} alt=\"product\" style={{ width: 20, margin: 15 }} />\n            <span>{record.product.name}</span>\n          </div>\n        )\n      },\n      {\n        title: 'Nhà cung cấp',\n        dataIndex: 'supplier',\n        key: 'supplier',\n        width: 200,\n        render: (value, record) => (\n          <SupplierContactPopover\n            supplier={{ ...record.product.supplier }}\n            buttonText={record.product.supplier.name}\n            buttonStyle={{ fontSize: 11 }}\n            placement=\"right\"\n          />\n        )\n      },\n      {\n        title: 'Giá bán',\n        dataIndex: 'price',\n        key: 'price',\n        width: 100,\n        render: (value, record) => (\n          <NumberFormat\n            value={record.product.price}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n            style={{ fontWeight: 'bold' }}\n          />\n        )\n      },\n      {\n        title: <center>SL yêu cầu</center>,\n        dataIndex: 'requiredQuantity',\n        key: 'requiredQuantity',\n        width: 100,\n        render: (value, record) => <center>{record.requiredQuantity}</center>\n      },\n      {\n        title: <center>SL đã nhập</center>,\n        dataIndex: 'importedQuantity',\n        key: 'importedQuantity',\n        width: 100,\n        render: (value, record) => <center>{record.importedQuantity}</center>\n      }\n    ];\n    const importedQuantityTotal = importedProducts.reduce((acc, cur) => acc + cur.importedQuantity, 0);\n    const requiredQuantityTotal = importedProducts.reduce((acc, cur) => acc + cur.requiredQuantity, 0);\n    const importedPriceTotal = importedProducts.reduce((acc, cur) => acc + (cur.importedQuantity * cur.product.price), 0);\n\n    return (\n      <div className=\"importer-assignment\">\n        <div\n          className=\"importer-assignment__summary animated fadeIn\"\n          onClick={() => this.setDialogVisible(true)}\n        >\n          <Row gutter={10} style={{ width: '100%', height: '100%' }}>\n            <Col span={4}>\n              <Avatar\n                className=\"importer-assignment__summary__avatar\"\n                src={data.importer.avatar} size={24}\n              />\n            </Col>\n            <Col span={20}>\n              <div className=\"importer-assignment__summary__details\">\n                <span className=\"importer-assignment__summary__details__title\">\n                  {data.importer.fullname}\n                </span>\n                <span className=\"importer-assignment__summary__details__time\">\n                  {data.finishedAt ? (\n                    <span>Hoàn tất lúc {moment(data.finishedAt).format('HH:mm DD-MM-YYYY')}</span>\n                  ) : (<span>Bàn giao lúc {moment(data.createdAt).format('HH:mm DD-MM-YYYY')}</span>)}\n                </span>\n                <p className=\"importer-assignment__summary__details__products\">\n                  {data.importedProducts.map((item, index) => {\n                    return index < data.importedProducts.length - 1 ? (\n                      <span key={index}>{`${item.product.name} x${item.requiredQuantity}, `}</span>\n                    ) : (\n                        <span key={index}>{`${item.product.name} x${item.requiredQuantity}.`}</span>\n                      )\n                  })}\n                </p>\n              </div>\n            </Col>\n          </Row>\n        </div>\n        <Modal\n          className=\"importer-assignment__content\"\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>Thông tin yêu cầu</span>}\n          visible={this.state.isVisible}\n          footer={null}\n          onCancel={() => this.setDialogVisible(false)}\n        >\n          <Row style={{ width: '100%' }}>\n            <Col span={7}>\n              <ul className=\"importer-assignment__content__labels\">\n                <li>Người thực hiện</li>\n                <li>Bàn giao lúc</li>\n                <li>Trạng thái</li>\n                {data.finishedAt ? <></> : (<li>Mức độ hoàn thành</li>)}\n                {data.finishedAt ? (<li>Hoàn tất lúc</li>) : <></>}\n                <li>Tổng chi phí nhập hàng</li>\n                <li>Tổng sản phẩm cần nhập</li>\n              </ul>\n            </Col>\n            <Col span={17}>\n              <ul className=\"importer-assignment__content__values\">\n                <li><strong>{data.importer.fullname}</strong></li>\n                <li>{moment(data.createdAt).format('HH:mm DD-MM-YYYY')}</li>\n                <li><span className=\"importer-assignment__content__values__status\">\n                  {data.finishedAt ? (\n                    <span>{IMPORTING_REQUEST.STATUS.FINISHED.name}</span>\n                  ) : (<span>{IMPORTING_REQUEST.STATUS.ACCEPTED.name}</span>)}\n                </span></li>\n                <li>\n                  {data.finishedAt ? <></> : (\n                    <Progress\n                      strokeColor=\"#ff8220\"\n                      percent={_.round((importedQuantityTotal / requiredQuantityTotal) * 100, 0)} status=\"active\"\n                    />\n                  )}\n                </li>\n                {data.finishedAt ? (<li>{moment(data.finishedAt).format('HH:mm DD-MM-YYYY')}</li>) : <></>}\n                <li>\n                  <strong>\n                    <NumberFormat\n                      value={importedPriceTotal}\n                      displayType=\"text\"\n                      thousandSeparator={true}\n                      style={{ marginRight: 3 }}\n                    />/\n                    <NumberFormat\n                      value={data.priceTotal}\n                      displayType=\"text\"\n                      thousandSeparator={true}\n                      suffix=\" đ̲\"\n                      style={{ marginLeft: 3 }}\n                    />\n                  </strong>\n                </li>\n                <li>\n                  <span style={{ marginRight: 3 }}>{importedQuantityTotal}</span>/\n                  <span style={{ marginLeft: 3 }}>{requiredQuantityTotal}</span>\n                </li>\n              </ul>\n            </Col>\n          </Row>\n\n          <div className=\"importer-assignment__content__products\">\n            <Table\n              dataSource={importedProducts}\n              columns={columns}\n              pagination={false}\n              scroll={{ y: 250 }}\n            />\n          </div>\n\n        </Modal>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport { Row, Col, Button } from 'antd';\nimport './ImportingRequest.style.scss';\nimport { connect } from 'react-redux';\nimport { withCookies } from 'react-cookie';\nimport * as actions from '../../../../redux/actions';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nimport { API } from '../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport SupplierManagement from './SupplierManagement/SupplierManagement';\nimport PendingRequest from './PendingRequest/PendingRequest';\nimport { message } from 'antd';\nimport CONSTANT from '../../../../constants/importing-request.constant';\nimport USER_ROLES from '../../../../constants/user-role.constant';\nimport StatisticPendingRequestDialog from './StatisticPendingRequestDialog/StatisticPendingRequestDialog';\nimport ImporterAssignment from './ImporterAssignment/ImporterAssignment';\nimport { ReloadOutlined } from '@ant-design/icons';\n\nclass ImportingRequest extends PageBase {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      staffs: [],\n      importingRequests: [],\n      importerAssignments: []\n    }\n  }\n\n  componentWillUnmount() {\n    // fix Warning: Can't perform a React state update on an unmounted component\n    this.setState = (state, callback) => {\n      return;\n    };\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  async loadData() {\n    try {\n      const results = await Promise.all([\n        this.loadStaffs(),\n        this.loadImportingRequests(),\n        this.loadImporterAssignments()\n      ]);\n      const staffs = results[0];\n      const importingRequests = results[1];\n      const importerAssignments = results[2];\n      this.setState({\n        staffs,\n        importingRequests,\n        importerAssignments\n      });\n    } catch (error) {\n      if (typeof error === 'string')\n        message.error(error);\n    }\n  }\n\n  async loadStaffs() {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Manager.StaffManagement.getListStaffs,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        return Promise.reject(res.errors[0]);\n      }\n\n      return Promise.resolve(res.data.users);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async loadImportingRequests() {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Manager.ImportingRequestManagement.getImportingRequest,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        return Promise.reject(res.errors[0]);\n      }\n\n      return Promise.resolve(res.data.importingRequests);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async loadImporterAssignments() {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Manager.ImportingRequestManagement.getImporterAssignments,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        return Promise.reject(res.errors[0]);\n      }\n\n      return Promise.resolve(res.data.importerAssignments);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  getStaffByID(staffID) {\n    return { ...this.state.staffs.find(s => s._id === staffID) };\n  }\n\n  async onAcceptRequests() {\n    const importerAssignments = await this.loadImporterAssignments();\n    this.setState({\n      importingRequests: [],\n      importerAssignments\n    });\n  }\n\n  setImportingRequests(importingRequests) {\n    this.setState({ importingRequests });\n  }\n\n  async reloadImportingRequests() {\n    try {\n      const importingRequests = await this.loadImportingRequests();\n      this.setState({ importingRequests });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    const { importingRequests, staffs, importerAssignments } = this.state;\n    const pendingRequests = importingRequests.filter(r => r.status === CONSTANT.STATUS.PENDING.type);\n    const notFinishedAssignments = importerAssignments.filter(a => a.finishedAt === null);\n    const finishedAssignments = importerAssignments.filter(a => a.finishedAt !== null);\n\n    return (\n      <div className=\"importing-request\">\n        <div className=\"importing-request__container\">\n          <Row gutter={10} style={{ width: '100%', height: '100%', margin: 0 }}>\n            <Col span={5}>\n              <div\n                className=\"importing-request__container__block animated fadeInUp\" style={{ animationDelay: '0.2s' }}>\n                <div className=\"importing-request__container__block__header\">\n                  <span className=\"importing-request__container__block__header__title --pending\">\n                    Đang chờ duyệt\n                  </span>\n                  <Button\n                    type=\"primary\"\n                    shape=\"circle\"\n                    icon={<ReloadOutlined />}\n                    className=\"importing-request__container__block__header__btn-update\"\n                    onClick={() => this.reloadImportingRequests()}\n                  />\n                  <span className=\"importing-request__container__block__header__number --pending\">\n                    {pendingRequests.length}\n                  </span>\n                </div>\n                <StatisticPendingRequestDialog\n                  pendingRequests={[...pendingRequests]}\n                  importers={staffs.filter(s => s.role === USER_ROLES.IMPORTER.type && s.isImporterAssignmentFinished)}\n                  onAcceptRequests={() => this.onAcceptRequests()}\n                />\n                <div className=\"importing-request__container__block__body --pending\">\n                  {pendingRequests.map(r => (\n                    <PendingRequest\n                      key={r._id}\n                      details={{ ...r }}\n                      importers={staffs.filter(s => s.role === USER_ROLES.IMPORTER.type)}\n                      onUpdateImportingRequests={requests => this.setImportingRequests(requests)}\n                    />\n                  ))}\n                </div>\n              </div>\n            </Col>\n            <Col span={5}>\n              <div\n                className=\"importing-request__container__block animated fadeInUp\" style={{ animationDelay: '0.4s' }}>\n                <div className=\"importing-request__container__block__header\">\n                  <span className=\"importing-request__container__block__header__title --accepted\">\n                    Đang thực hiện\n                  </span>\n                  <span className=\"importing-request__container__block__header__number --accepted\">\n                    {notFinishedAssignments.length}\n                  </span>\n                </div>\n                <div className=\"importing-request__container__block__body\">\n                  {notFinishedAssignments.map(a => (\n                    <ImporterAssignment data={{ ...a }} key={a._id} />\n                  ))}\n                </div>\n              </div>\n            </Col>\n            <Col span={5}>\n              <div\n                className=\"importing-request__container__block animated fadeInUp\" style={{ animationDelay: '0.6s' }}>\n                <div className=\"importing-request__container__block__header\">\n                  <span className=\"importing-request__container__block__header__title --finished\">\n                    Đã hoàn tất\n                  </span>\n                  <span className=\"importing-request__container__block__header__number --finished\">\n                    {finishedAssignments.length}\n                  </span>\n                </div>\n                <div className=\"importing-request__container__block__body\">\n                  {finishedAssignments.map(a => (\n                    <ImporterAssignment data={{ ...a }} key={a._id} />\n                  ))}\n                </div>\n              </div>\n            </Col>\n            <Col span={9}>\n              <SupplierManagement />\n            </Col>\n          </Row>\n        </div>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(ImportingRequest));","import Profile from '../components/pages/User/Profile/Profile';\nimport ChangePassword from '../components/pages/User/ChangePassword/ChangePassword';\n\nimport CheckoutPanel from '../components/pages/Cashier/CheckoutPanel/CheckoutPanel';\n\nimport ProductManagement from '../components/pages/Importer/ProductManagment/ProductManagement';\n\nimport Reporting from '../components/pages/Manager/Reporting/Reporting';\nimport StaffManagement from '../components/pages/Manager/StaffManagement/StaffManagement';\nimport WorkAssignment from '../components/pages/Manager/WorkAssignment/WorkAssignment';\nimport ImportingRequest from '../components/pages/Manager/ImportingRequest/ImportingRequest';\n\nimport {\n  DollarOutlined, InboxOutlined, BarChartOutlined, TeamOutlined, FileDoneOutlined, UserOutlined, LockOutlined, MessageOutlined\n} from '@ant-design/icons';\n\nexport default [\n  {\n    role: 'USER',\n    pages: [\n      {\n        title: 'Thông tin cá nhân',\n        path: '/profile',\n        icon: UserOutlined,\n        component: Profile,\n        key: 'PROFILE'\n      },\n      {\n        title: 'Đổi mật khẩu',\n        path: '/change-password',\n        icon: LockOutlined,\n        component: ChangePassword,\n        key: 'CHANGE_PASSWORD'\n      }\n    ]\n  },\n  {\n    role: \"CASHIER\",\n    pages: [\n      {\n        title: 'Quầy thu ngân',\n        path: '/checkout',\n        icon: DollarOutlined,\n        component: CheckoutPanel\n      }\n    ]\n  },\n  {\n    role: \"IMPORTER\",\n    pages: [\n      {\n        title: 'Kho chứa sản phẩm',\n        path: '/products',\n        icon: InboxOutlined,\n        component: ProductManagement\n      }\n    ]\n  },\n  {\n    role: \"MANAGER\",\n    pages: [\n      {\n        title: 'Báo cáo - Thống kê',\n        path: '/reports',\n        icon: BarChartOutlined,\n        component: Reporting\n      },\n      {\n        title: 'Tổ chức nhân sự',\n        path: '/staffs',\n        icon: TeamOutlined,\n        component: StaffManagement\n      },\n      {\n        title: 'Phân ca làm việc',\n        path: '/work-assignments',\n        icon: FileDoneOutlined,\n        component: WorkAssignment\n      },\n      {\n        title: 'Yêu cầu nhập hàng',\n        path: '/importing-requests',\n        icon: MessageOutlined,\n        component: ImportingRequest\n      }\n    ]\n  }\n];","import React from 'react';\nimport { Form, Input, Button, Tooltip, message } from 'antd';\nimport './Login.style.scss';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport { API } from '../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport { withCookies } from 'react-cookie';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../redux/actions';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nimport USER_ROLES from '../../../../constants/user-role.constant';\nimport SIDEBAR from '../../../../constants/sidebar.constant';\n\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 16,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16,\n  },\n};\n\nclass Login extends PageBase {\n\n  componentDidMount() {\n    const { cookies } = this.props;\n    const user = cookies.get(COOKIE_NAMES.user);\n    const token = cookies.get(COOKIE_NAMES.token);\n    if (user && token)\n      this.props.history.push('/');\n  }\n\n  login = async (values) => {\n    try {\n      this.props.setAppLoading(true);\n      const params = {\n        username: values.username,\n        password: values.password\n      };\n\n      const res = await (await fetch(API.User.login, {\n        method: 'POST',\n        body: JSON.stringify(params),\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8',\n          'token': this.props.cookies.get(COOKIE_NAMES.token)\n        },\n        signal: this.abortController.signal\n      })).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      const user = res.data.user;\n      const token = res.data.meta.token;\n\n      this.props.login(user, token);\n\n      const { cookies } = this.props;\n      cookies.set(COOKIE_NAMES.user, user, { path: '/' });\n      cookies.set(COOKIE_NAMES.token, token, { path: '/' });\n\n      let pathToNavigate;\n      if (user.role === USER_ROLES.CASHIER.type) {\n        pathToNavigate = SIDEBAR[1].pages[0].path;\n      }\n\n      if (user.role === USER_ROLES.IMPORTER.type) {\n        pathToNavigate = SIDEBAR[2].pages[0].path;\n      }\n\n      if (user.role === USER_ROLES.MANAGER.type) {\n        pathToNavigate = SIDEBAR[3].pages[0].path;\n      }\n\n      this.props.history.length = 0;\n      this.props.history.push(pathToNavigate);\n    } catch (error) {\n      return error;\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"dark-bg\"></div>\n        <div className=\"__header\">\n          <img className=\"__company-logo\" src={require('../../../../assets/images/app-logo.png')} alt=\"logo\" />\n          <div className=\"__company-brand\">\n            <div className=\"__name\"><span>Mini Mart</span></div>\n            <div className=\"__slogan\"><span>Tiện Lợi mà Chất Lượng</span></div>\n          </div>\n        </div>\n        <div className=\"login animated bounceInDown\">\n          <h2 className=\"__main-title\">STAFF ONLY</h2>\n          <div className=\"__cover-img\"></div>\n          <Form\n            className=\"__form\"\n            {...layout}\n            name=\"basic\"\n            initialValues={{\n              remember: true,\n            }}\n            onFinish={this.login}\n            onFinishFailed={() => { message.error('Vui lòng nhập đầy đủ thông tin'); }}\n          >\n            <Form.Item\n              name=\"username\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập tài khoản',\n                },\n              ]}\n            >\n              <Input prefix={<UserOutlined className=\"__form__icon\" />} placeholder=\"Tài khoản\" autoFocus={true} />\n            </Form.Item>\n\n            <Form.Item\n              name=\"password\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập mật khẩu',\n                },\n              ]}\n            >\n              <Input.Password prefix={<LockOutlined className=\"__form__icon\" />} placeholder=\"Mật khẩu\" />\n            </Form.Item>\n\n            <div className=\"__form__forgot-password\">\n              <Tooltip title=\"Yêu cầu khôi phục mật khẩu\">\n                <a href=\"/login\" style={{ marginLeft: 8 }}>\n                  Quên mật khẩu?\n                    </a>\n              </Tooltip>\n            </div>\n\n            <Form.Item {...tailLayout}>\n              <Button className=\"__form__btn-submit\" type=\"primary\" htmlType=\"submit\">\n                ĐĂNG NHẬP\n                  </Button>\n            </Form.Item>\n\n          </Form>\n        </div>\n\n        <svg className=\"wave\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1440 320\">\n          {/* <path fill=\"url(#my-cool-gradient)\" fillOpacity={1} d=\"M0,160L1440,0L1440,320L0,320Z\" />\n          <linearGradient id=\"my-cool-gradient\" x2=\"1\" y2=\"1\">\n            <stop offset=\"0%\" stopColor=\"#ff5858\" />\n            <stop offset=\"100%\" stopColor=\"#f09819\" />\n          </linearGradient> */}\n          <path fillOpacity={1}\n            d=\"M0,0L1440,192L1440,320L0,320Z\"\n          />\n        </svg>\n\n        <svg className=\"wave2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1440 320\">\n          <path fillOpacity=\"1\"\n            d=\"M0,64L1440,320L1440,0L0,0Z\"\n          />\n        </svg>\n\n        <p className=\"__footer\">Mini Mart &copy;2020 All right reserved.</p>\n\n      </div>\n    )\n  }\n}\n\nexport default connect(null, actions)(withCookies(withRouter(Login)));\n","import { combineReducers } from 'redux';\nimport appReducer from './app.reducer';\nimport loggedInUserReducer from './logged-in-user.reducer';\n\nexport default combineReducers({\n  app: appReducer,\n  loggedInUser: loggedInUserReducer\n});\n","import { APP_LOADING, SET_CURRENT_PAGE_TITLE, SET_SIDEBAR_SELECTED_INDEX } from '../actions/types.action';\nimport { UserOutlined } from '@ant-design/icons';\n\nexport default function (\n\tstate = {\n\t\tisLoading: false,\n\t\tcurrentPageTitle: '',\n\t\tcurrentPageIcon: UserOutlined,\n\t\tsidebarSelectedIndex: 0\n\t},\n\taction\n) {\n\tswitch (action.type) {\n\t\tcase APP_LOADING:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLoading: action.isLoading\n\t\t\t};\n\t\tcase SET_CURRENT_PAGE_TITLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentPageTitle: action.title,\n\t\t\t\tcurrentPageIcon: action.icon,\n\t\t\t}\n\t\tcase SET_SIDEBAR_SELECTED_INDEX:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsidebarSelectedIndex: action.sidebarSelectedIndex\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}","import { LOGIN_SUCCESS } from '../actions/types.action';\n\nexport default function (state = {\n  username: null,\n  token: null\n}, action) {\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      return {\n        user: action.user,\n        token: action.token\n      }\n    default:\n      return state;\n  }\n}","import { createStore } from 'redux';\nimport reducers from '../reducers';\n\nexport default createStore(reducers, {});","import React, { Component } from 'react';\nimport { Row, Col, Avatar, Dropdown, Menu } from 'antd';\nimport { LogoutOutlined, CaretDownFilled } from '@ant-design/icons';\nimport { withCookies } from 'react-cookie';\nimport { withRouter } from 'react-router-dom';\nimport { COOKIE_NAMES } from '../../../constants/cookie-name.constant';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../redux/actions';\nimport './Toolbar.style.scss';\n\nclass Toolbar extends Component {\n\n  handleSelectMenuItem = (e) => {\n    const code = e.split('***');\n    const key = code[0];\n    const path = code[1];\n\n    if (key === 'LOGOUT') {\n      this.logout();\n      return;\n    }\n\n    this.props.history.push(path);\n  }\n\n  logout = () => {\n    const { cookies } = this.props;\n    cookies.remove(COOKIE_NAMES.token, { path: '/' });\n    cookies.remove(COOKIE_NAMES.user, { path: '/' });\n    this.props.history.length = 0;\n    this.props.history.push('/login');\n  }\n\n  render() {\n    const { user, avatarMenuItems } = this.props;\n    const { currentPageTitle, currentPageIcon } = this.props.app;\n    const CurrentPage = { Icon: currentPageIcon };\n\n    return (\n      <Row className=\"toolbar\" justify=\"start\" align=\"middle\">\n        <Col className=\"__page-title\" span={16}>\n          <Row align=\"center\">\n            <Col span={1}><div className=\"__page-title__icon\"><CurrentPage.Icon /></div></Col>\n            <Col span={23}><span className=\"__page-title__text\">{currentPageTitle}</span></Col>\n          </Row>\n        </Col>\n        <Col span={8}>\n          <Row className=\"__account\" justify=\"end\" align=\"middle\">\n            <Col span={14}></Col>\n            <Col span={10}>\n              <Dropdown overlay={\n                <Menu onClick={e => this.handleSelectMenuItem(e.key)}>\n                  {(avatarMenuItems || []).map((item) => (\n                    <Menu.Item key={item.key + '***' + item.path}\n                      onClick={() => {\n                        this.props.setCurrentPageTitle(item.title, item.icon);\n                        this.props.setSidebarSelectedIndex(item.sidebarIndex);\n                      }}>\n                      <item.icon />\n                      {item.title}\n                    </Menu.Item>\n                  ))}\n                  <Menu.Item key=\"LOGOUT\">\n                    <LogoutOutlined />\n                    Đăng xuất\n                  </Menu.Item>\n                </Menu>\n              } className=\"__account__avatar-menu\">\n                <Row align=\"middle\" gutter={5}>\n                  <Col span={4}><Avatar size={30} src={user.avatar} /></Col>\n                  <Col span={20}>\n                    <span style={{ margin: '0 10px' }}>{user.fullname || ''}</span><CaretDownFilled style={{ color: 'white' }} />\n                  </Col>\n                </Row>\n              </Dropdown>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  app: state.app\n});\n\nexport default connect(mapStateToProps, actions)(withCookies(withRouter(Toolbar)));\n","import React, { Component } from 'react';\nimport { Avatar } from 'antd';\nimport './UserInfo.style.scss';\nimport USER_ROLE from '../../../../constants/user-role.constant';\n\nexport default class UserInfo extends Component {\n\n  render() {\n    const user = this.props.user;\n    const userRoleName = USER_ROLE[user.role].name;\n    let userRoleStyle;\n    switch (user.role) {\n      case USER_ROLE.CASHIER.type: userRoleStyle = '__wallpaper__role--cashier'; break;\n      case USER_ROLE.IMPORTER.type: userRoleStyle = '__wallpaper__role--importer'; break;\n      case USER_ROLE.MANAGER.type: userRoleStyle = '__wallpaper__role--manager'; break;\n      default: break;\n    }\n\n    return (\n      <div className=\"user-info\">\n        <div className=\"__wallpaper\" style={{backgroundImage: `url(${user.avatar})`}}>\n          <div className=\"__wallpaper__dark-bg\"></div>\n          <div className={`__wallpaper__role ${userRoleStyle}`}>\n            <span>{userRoleName}</span>\n          </div>\n          <div className=\"__wallpaper__info\">\n            <div className=\"__wallpaper__info__fullname\"><span>{user.fullname || ''}</span></div>\n            <span className=\"__wallpaper__info__email\">{user.email || ''}</span>\n          </div>\n        </div>\n        <div className=\"__avatar\">\n          <Avatar size={58} src={user.avatar} className=\"__avatar__image\" />\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Layout, Menu } from 'antd';\nimport { Link, withRouter } from 'react-router-dom';\nimport { withCookies } from 'react-cookie';\nimport './Sidebar.style.scss';\nimport UserInfo from './UserInfo/UserInfo';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../redux/actions';\nimport links from '../../../constants/sidebar.constant';\nimport USER_ROLES from '../../../constants/user-role.constant';\nimport SIDEBAR from '../../../constants/sidebar.constant';\nimport { COOKIE_NAMES } from '../../../constants/cookie-name.constant';\n\nconst { Sider } = Layout;\n\nclass Sidebar extends Component {\n  componentDidMount() {\n    const { pagesByUserRole } = this.props;\n    const href = window.location.href.split('?')[0];\n    const position = href.split('/');\n    const currentPath = position[position.length - 1];\n\n    if (currentPath) {\n      pagesByUserRole.forEach((page, index) => {\n        if (page.path === `/${currentPath}`) {\n          const currentPage = pagesByUserRole[index];\n          this.props.setSidebarSelectedIndex(index);\n          this.props.setCurrentPageTitle(currentPage.title, currentPage.icon);\n        }\n      });\n    } else {\n      const user = this.props.cookies.get(COOKIE_NAMES.user);\n      let page = {};\n      if (user.role === USER_ROLES.CASHIER.type) {\n        page = SIDEBAR[1].pages[0];\n      }\n\n      if (user.role === USER_ROLES.IMPORTER.type) {\n        page = SIDEBAR[2].pages[0];\n      }\n\n      if (user.role === USER_ROLES.MANAGER.type) {\n        page = SIDEBAR[3].pages[0];\n      }\n\n      this.props.setSidebarSelectedIndex(0);\n      this.props.setCurrentPageTitle(page.title, page.icon);\n      this.props.history.length = 0;\n      this.props.history.push(page.path);\n    }\n  }\n\n  isCommonPage(path) {\n    const page = links.find(link => link.role === USER_ROLES.USER.type).pages.find(page => page.path === path);\n    if (page)\n      return true;\n    return false;\n  }\n\n  render() {\n    const { user, pagesByUserRole } = this.props;\n    const { sidebarSelectedIndex } = this.props.app;\n\n    return (\n      <Sider className=\"sidebar\">\n        <div className=\"sidebar__header\">\n          <img className=\"sidebar__header__company-logo\" src={require('../../../assets/images/app-logo.png')} alt=\"logo\" />\n          <div className=\"sidebar__header__company-brand\">\n            <div className=\"sidebar__header__company-brand__name\"><span>Mini Mart</span></div>\n            <div className=\"sidebar__header__company-brand__slogan\"><span>Tiện Lợi mà Chất Lượng</span></div>\n          </div>\n        </div>\n        <UserInfo user={user} />\n        <Menu\n          theme='light'\n          mode='inline'\n          selectedKeys={[sidebarSelectedIndex ? sidebarSelectedIndex.toString() : '0']}>\n          {pagesByUserRole.map((page, pageIndex) => {\n            const Page = { Icon: page.icon };\n            return (\n              <Menu.Item key={pageIndex}\n                onClick={() => {\n                  this.props.setCurrentPageTitle(page.title, page.icon);\n                  this.props.setSidebarSelectedIndex(pageIndex);\n                }}>\n                <Page.Icon style={{ color: '#ff8220' }} />\n                <span className=\"sidebar__nav-title\">{page.title}</span>\n                <Link to={page.path} />\n              </Menu.Item>\n            )\n          })}\n        </Menu>\n      </Sider>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  app: state.app\n});\n\nexport default connect(mapStateToProps, actions)(withCookies(withRouter(Sidebar)));","import React, { Component } from 'react';\nimport { Layout } from 'antd';\nimport './Main.style.scss';\nimport links from '../../../constants/sidebar.constant';\nimport { withRouter, Route } from 'react-router-dom';\nimport { withCookies } from 'react-cookie';\nimport { COOKIE_NAMES } from '../../../constants/cookie-name.constant';\nimport Toolbar from '../Toolbar/Toolbar';\nimport Sidebar from '../Sidebar/Sidebar';\nimport USER_ROLE from '../../../constants/user-role.constant';\nimport * as actions from '../../../redux/actions';\nimport { connect } from 'react-redux';\n\nconst { Content } = Layout;\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n    const loggedUser = this.props.cookies.get(COOKIE_NAMES.user);\n    const token = this.props.cookies.get(COOKIE_NAMES.token);\n    if (!(loggedUser && token)) {\n      this.isAuthenticated = false;\n      this.props.history.length = 0;\n      this.props.history.push('/login');\n    } else {\n      this.isAuthenticated = true;\n    }\n  }\n  render() {\n    if (!this.isAuthenticated)\n      return null;\n\n    const user = this.props.cookies.get(COOKIE_NAMES.user) || this.props.loggedInUser.user;\n    let pagesByUserRole = links.find(link => link.role === user.role).pages;\n    const commonPages = links.find(link => link.role === USER_ROLE.USER.type).pages\n      .map((page, index) => ({ ...page, sidebarIndex: pagesByUserRole.length + index }));\n    pagesByUserRole = [...pagesByUserRole].concat(commonPages);\n\n    const PrivateRoute = ({ component: Component, ...rest }) => {\n      return (\n        <Route\n          {...rest}\n          render={props => <Component {...props} />}\n        />\n      )\n    }\n\n    const renderContents = () => {\n      return (\n        <div>\n          {pagesByUserRole.map((page, pageIndex) => {\n            return (\n              <PrivateRoute\n                key={pageIndex}\n                exact={true}\n                component={page.component}\n                path={page.path}\n              />\n            )\n          })}\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"main\">\n        <Layout>\n          <Sidebar user={user} pagesByUserRole={pagesByUserRole} />\n          <Layout style={{ marginLeft: 200 }}>\n            <div style={{ position: 'relative' }}>\n              <Toolbar user={user} avatarMenuItems={commonPages} />\n            </div>\n            <Content className=\"main__content\">\n              {renderContents()}\n            </Content>\n          </Layout>\n        </Layout>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  loggedInUser: state.loggedInUser\n})\n\nexport default connect(mapStateToProps, actions)(withCookies(withRouter(Main)));","import React, { Component } from 'react';\nimport './AppLoading.style.scss';\nimport { Spin } from 'antd';\nimport * as actions from '../../../redux/actions';\nimport { connect } from 'react-redux';\n\nclass AppLoading extends Component {\n  render() {\n    return (\n      this.props.app.isLoading ? (\n        <div className=\"app-loading\">\n          <Spin size=\"large\" />\n        </div>\n      ) : <></>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  app: state.app\n});\n\nexport default connect(mapStateToProps, actions)(AppLoading);\n","import React, { Component } from 'react'\nimport 'antd/dist/antd.css';\nimport './assets/styles/animate.min.css';\nimport Login from './components/pages/User/Login/Login';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport { CookiesProvider } from 'react-cookie';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport Main from './components/layout/Main/Main';\nimport AppLoading from './components/utilities/AppLoading/AppLoading';\n\nexport default class App extends Component {\n\n  render() {\n    return (\n      <Provider store={store}>\n        <CookiesProvider>\n          <BrowserRouter>\n            <Switch>\n              <Route path='/login' component={Login} />\n              <Route path='/' component={Main} />\n              <Route\n                path='/**'\n                render={() => {\n                  return (\n                    <Redirect\n                      to={{\n                        pathname: '/'\n                      }}\n                    />\n                  );\n                }}\n              />\n            </Switch>\n            <AppLoading />\n          </BrowserRouter>\n        </CookiesProvider>\n      </Provider>\n    )\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './config/secret';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}