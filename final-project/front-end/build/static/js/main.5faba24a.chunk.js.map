{"version":3,"sources":["assets/images/app-logo.png","assets/images/tue-signature.png","assets/sounds/cashing.wav","assets/sounds/rejecting.wav","assets/sounds/warning.wav","config/secret.js","constants/api.constant.js","constants/cookie-name.constant.js","redux/actions/index.js","redux/actions/types.action.js","components/utilities/PageBase/PageBase.js","constants/user-role.constant.js","components/pages/User/Profile/Profile.js","components/pages/User/ChangePassword/ChangePassword.js","components/pages/Cashier/MoneyCounting/SubmitCheckoutSessionDialog/BillToPrint/BillToPrint.js","components/pages/Cashier/MoneyCounting/SubmitCheckoutSessionDialog/SubmitCheckoutSessionDialog.js","components/pages/Cashier/MoneyCounting/ImportingRequestDialog/ImportingRequestDialog.js","components/pages/Cashier/MoneyCounting/MoneyCounting.js","constants/importing-request.constant.js","components/pages/Cashier/ImportingRequestHistory/ImportingRequestHistory.js","components/pages/Cashier/TransactionHistory/TransactionHistory.js","components/pages/Cashier/CheckoutPanel/CheckoutPanel.js","components/utilities/ImageUploader/ImageUploader.js","components/pages/Importer/ProductManagment/AddProductDialog/AddProductDialog.js","components/pages/Importer/ProductManagment/AddCategoryDialog/AddCategoryDialog.js","components/pages/Importer/ProductManagment/EditCategoryDialog/EditCategoryDialog.js","constants/google-maps.constant.js","components/utilities/GoogleMap/GoogleMap.js","components/utilities/SupplierContactPopover/SupplierContactPopover.js","components/pages/Importer/ProductManagment/ImportingAssignmentDialog/ImportingAssignmentDialog.js","constants/product-action-type.constant.js","components/pages/Importer/ProductManagment/ProductActionHistory/ProductActionHistory.js","components/pages/Importer/ProductManagment/ProductManagement.js","services/collection-sorting.service.js","components/pages/Manager/Reporting/RevenueStatistic/RevenueStatistic.js","constants/months.constant.js","components/pages/Manager/Reporting/BestSelling/BestSelling.js","components/pages/Manager/Reporting/ImportingHistory/ImportingHistory.js","components/pages/Manager/Reporting/ImportingStatistic/ImportingStatistic.js","components/pages/Manager/Reporting/NewProductList/NewProductList.js","components/pages/Manager/Reporting/SellingHistory/SellingHistory.js","components/pages/Manager/Reporting/ProductQuantityStatistic/ProductQuantityStatistic.js","components/pages/Manager/Reporting/ReportToPrint/ReportToPrint.js","components/pages/Manager/Reporting/Reporting.js","constants/user-sex.js","components/pages/Manager/StaffManagement/AddStaffDialog/AddStaffDialog.js","components/pages/Manager/StaffManagement/UpdateStaffDialog/UpdateStaffDialog.js","components/pages/Manager/Reporting/WorkScheduleReport/WorkScheduleReportToPrint/WorkScheduleReportToPrint.js","constants/report.constant.js","components/pages/Manager/StaffManagement/StaffManagement.js","constants/week-day.constant.js","components/pages/Manager/WorkAssignment/BtnAddWorkSchedule/BtnAddWorkSchedule.js","components/pages/Manager/WorkAssignment/BtnAddWorkShift/BtnAddWorkShift.js","components/pages/Manager/WorkAssignment/BtnAddWorkShiftAssigner/BtnAddWorkShiftAssigner.js","components/pages/Manager/WorkAssignment/WorkAssignment.js","components/utilities/GooglePlacesAutocomplete/GooglePlacesAutocomplete.js","components/pages/Manager/ImportingRequest/SupplierManagement/AddSupplierDialog/AddSupplierDialog.js","components/pages/Manager/ImportingRequest/SupplierManagement/EditSupplierDialog/EditSupplierDialog.js","components/pages/Manager/ImportingRequest/SupplierManagement/SupplierManagement.js","components/pages/Manager/ImportingRequest/PendingRequest/PendingRequest.js","components/pages/Manager/ImportingRequest/StatisticPendingRequestDialog/StatisticPendingRequestDialog.js","components/pages/Manager/ImportingRequest/ImporterAssignment/ImporterAssignment.js","components/pages/Manager/ImportingRequest/ImportingRequest.js","constants/sidebar.constant.js","components/pages/User/Login/Login.js","redux/reducers/index.js","redux/reducers/app.reducer.js","redux/reducers/logged-in-user.reducer.js","redux/store/index.js","components/layout/Toolbar/Toolbar.js","components/layout/Sidebar/UserInfo/UserInfo.js","components/layout/Sidebar/Sidebar.js","components/layout/Main/Main.js","components/utilities/AppLoading/AppLoading.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","ENV","API_URL","process","GOOGLE_MAPS_API_KEY","API","User","login","secret","changePassword","Cashier","Checkout","getCheckoutSessions","createCheckoutSession","cancelCheckoutSession","submitCheckoutSession","createImportingRequest","getImportingRequests","Manager","Reporting","getProducts","ImportingRequestManagement","getImportingRequest","acceptImportingRequests","cancelImportingRequest","getImporterAssignments","StaffManagement","getListStaffs","addStaff","updateStaffProfile","removeStaff","SupplierManagment","getSuppliers","addSupplier","removeSupplier","updateSupplier","WorkSchedule","getWorkSchedules","addWorkSchedule","removeWorkSchedule","WorkShift","addWorkShift","removeWorkShift","WorkAssignment","addWorkAssignments","removeWorkAssignment","Importer","ProductManagement","addCategory","getCategories","getCategoryProducts","updateCategory","removeCategory","addProduct","updateProduct","removeProduct","getProductActionLogs","ImporterAssignmentManagement","COOKIE_NAMES","user","token","type","setAppLoading","isLoading","setCurrentPageTitle","title","icon","setSidebarSelectedIndex","sidebarSelectedIndex","BasePage","abortController","AbortController","this","abort","React","Component","CASHIER","name","IMPORTER","MANAGER","USER","Profile","props","cookies","get","userFields","Object","keys","filter","k","includes","map","index","value","moment","format","sort","a","b","className","style","width","height","src","avatar","fullname","USER_ROLES","role","span","field","key","withCookies","layout","labelCol","wrapperCol","ChangePassword","onFinish","values","params","fetch","method","body","JSON","stringify","headers","signal","json","res","status","message","error","errors","formRef","current","resetFields","success","messages","createRef","SafetyOutlined","ref","onFinishFailed","Item","label","rules","required","Password","autoFocus","shape","htmlType","PageBase","connect","actions","BillToPrint","checkoutSession","require","alt","submittedAt","_id","fontWeight","paddingBottom","soldItems","item","product","quantity","Number","price","displayType","thousandSeparator","priceTotal","suffix","fgColor","SubmitCheckoutSessionDialog","openNotification","description","placement","notification","duration","state","isVisible","setState","document","getElementById","click","checkoutSessionID","checkedOutProducts","products","p","replace","data","notExistedProductIDs","notExistedProducts","_","id","notifyNotExistedProducts","loadLackingItems","lackingItems","setLackingItemsDialogVisible","setCheckoutDoneScreenVisible","setMainPanelOnWorking","setDialogVisible","paddingLeft","disabled","length","onClick","marginRight","ArrowRightOutlined","color","visible","onOk","onOK","onCancel","okText","okButtonProps","display","cancelButtonProps","maskClosable","PrinterOutlined","trigger","content","componentToPrintRef","el","ImportingRequestDialog","columns","dataIndex","render","record","image","ExclamationCircleFilled","footer","dataSource","pagination","scroll","y","sendImportingRequest","confirm","Modal","MoneyCounting","open","handleScan","availableProducts","productID","ap","playSound","warningSound","openNotExistedProductNotification","clearScannedProduct","checkoutSound","productDetails","push","order","category","supplier","reduce","pre","cur","scannedProduct","handleError","onWorking","sound","isCheckoutDoneScreenVisible","isLackingItemsDialogVisible","soundRef","setOnWorking","setCheckoutPanelCheckoutSessionID","play","setCheckoutPanelOnWorking","that","ExclamationCircleOutlined","okType","cancelText","rejectingSound","clearAllStates","isProductScanned","text","QuestionCircleOutlined","DeleteFilled","openRemoveCheckoutProductConfirm","controls","autoPlay","CheckCircleOutlined","continueToCheckout","ArrowLeftOutlined","backToGettingStarted","delay","onError","onScan","align","ReloadOutlined","gutter","Empty","PRESENTED_IMAGE_SIMPLE","ShoppingCartOutlined","items","locale","emptyText","xmlns","viewBox","fill","fillOpacity","d","x2","y2","offset","stopColor","STATUS","PENDING","ACCEPTED","FINISHED","CANCELLED","ImportingRequestHistory","importingRequests","loadImportingRequests","MessageOutlined","mode","r","requiredProducts","createdAt","animationDelay","IMPORTING_REQUEST","TransactionHistory","checkoutSessions","loadCheckoutSessions","HistoryOutlined","cs","navbarMenuItems","QrcodeOutlined","CheckoutPanel","toggleCollapsed","collapsed","selectedMenuItem","e","find","defaultSelectedKeys","theme","inlineCollapsed","handleSelectMenuItem","setCheckoutSessionID","ImageUpload","handleChange","info","file","getBase64","originFileObj","imageUrl","loading","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","isJpgOrPng","isLt2M","size","clearImage","defaultImageUrl","tooltipTitle","tooltipPlacement","isAvatar","uploadedImage","PictureOutlined","uploadButton","LoadingOutlined","listType","showUploadList","action","beforeUpload","onChange","AddProductDialog","supplierID","categoryID","selectedCategory","availableQuantity","addToListProducts","PlusOutlined","background","border","setFieldsValue","suppliers","placeholder","s","Option","formatter","parser","AddCategoryDialog","addToListCategories","centered","EditCategoryDialog","updateCategoryInList","API_KEY","GEOCODING","LANGUAGE","REGION","defaultLocation","lat","lng","LocationIndicator","GoogleMap","address","location","loadData","getAddressLocation","latitude","longitude","Geocode","fromLatLng","GOOGLE_MAPS","results","formatted_address","fromAddress","geometry","locationIcon","bootstrapURLKeys","center","defaultZoom","SupplierContactPopover","buttonText","buttonStyle","phone","EnvironmentTwoTone","twoToneColor","fontSize","overlayClassName","ImportingAssignmentDialog","importedProducts","i","margin","requiredQuantity","importedQuantity","importedQuantityTotal","acc","requiredQuantityTotal","importedPriceTotal","setImportingAssignmentDialogVisible","manager","strokeColor","percent","marginLeft","ADD","UPDATE","REMOVE","ProductActionHistory","logs","productActionLogs","d1","Date","getTime","l","PRODUCT_ACTION_TYPES","actionType","isProductDetailsPanelShown","selectedProduct","productSearchText","filteredProducts","categories","categorySearchText","filteredCategories","importerAssignments","isImportingAssignmentDialogVisible","productDetailsFormRef","Promise","all","loadCategories","loadSuppliers","loadImporterAssignments","loadCategoryProducts","selectedSupplier","reject","resolve","onProductSearchInputChange","isToggled","toggleProductDetailsPanel","c","toLowerCase","isImporterAssignmentUpdated","reloadImporterAssignments","option","time1","time2","onCategorySearchInputChange","newSupplier","updateSuppliers","updatingProductMessage","prefix","SearchOutlined","target","renderItem","handleSelectCategory","overlay","openRemoveCategoryDialog","EditOutlined","BellFilled","padding","CloseOutlined","openRemoveProductDialog","updateProductDetails","isImportedProduct","onRow","handleSelectProduct","rowClassName","RevenueStatistic","statisticData","revenueTotal","paymentTotal","salaryTotal","importingCostTotal","profitTotal","window","innerWidth","paymentItems","paymentItemColumns","position","justify","xs","md","StarFilled","UnorderedListOutlined","TagFilled","ScheduleFilled","canvas","gradient","getContext","createLinearGradient","addColorStop","labels","date","datasets","lineTension","backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","revenue","options","legend","scales","xAxes","gridLines","0","1","2","3","4","5","6","7","8","9","10","11","Meta","Card","responsive","desktop","breakpoint","max","min","slidesToSlide","tablet","mobile","BestSelling","deviceType","swipeable","draggable","ssr","keyBoardControl","containerClass","itemClass","details","cover","ImportingHistory","ImportingStatistic","requiredImportingCostTotal","importingCompletedRatio","NewProductList","newProducts","SellingHistory","sellingHistories","h","sh","cashier","ProductQuantityStatistic","soldQuantityTotal","newProductTotal","availableQuantityTotal","soldQuantityStatisticData","soldQuantityStatisticChartData","ticks","yAxes","ReportToPrint","href","soldProducts","sellingRevenueTotal","month","year","newProduct","sellingRevenue","slice","soldProductColumns","importingCost","importedProductColumns","incomes","incomeColumns","payments","paymentColumns","getMonth","getFullYear","bestSellingProducts","revenueStatisticData","productCurrentPage","productPageLimit","productTotal","loadProducts","loadProductResult","page","statisticStartDate","startOf","statisticEndDate","daysInMonth","endOf","toString","monthIndex","MONTHS","selectedDate","isPaginationShown","Math","ceil","sorter","soldQuantity","PrinterFilled","reportToPrintRef","defaultValue","picker","clearIcon","bordered","monthCellRender","onDatePickerChange","lg","paddingRight","marginTop","pageSize","total","onProductPageChange","Select","AddStaffDialog","password","confirmedPassword","dateOfBirth","reloadStaffs","UserAddOutlined","UserOutlined","allowClear","USER_SEX","MALE","FEMALE","maxLength","TextArea","textAlign","KeyOutlined","UpdateStaffDialog","sex","selectedStaff","formInitialValues","split","loadSelectedStaffProfile","weekDays","WorkScheduleReportToPrint","staff","workShifts","workAssignments","wa","weekday","startTime","isoWeekday","ws","endTime","startDate","subtract","endDate","add","dates","loadStaffs","defaultStaff","url","users","filteredStaffs","u","staffs","searchStaffText","filteredStaffRole","staffID","filterListStaffsByRole","parse","colIndex","column","Avatar","active","Input","updatedStaff","borderRadius","CalendarOutlined","basicInfo","REPORTS","openRemoveStaffConfirm","UserDeleteOutlined","onChangeSearchStaffInput","TeamOutlined","newStaff","onClickListStaffsRow","BtnAddWorkSchedule","reloadWorkSchedules","setModalVisible","_date","monthFullCellRender","fullscreen","onPanelChange","handleSelectMonth","BtnAddWorkShift","workSchedules","selectedWorkSchedule","selectedWorkDay","selectedWorkShift","workScheduleID","workShift","sortWorkShiftsByStartTime","selectedWorkShiftIndex","findIndex","workDays","week","day","workDayInMonth","wsc","fieldName","selectedTime","hours","getHours","mins","getMinutes","workMonth","workYear","workShiftTime","PlusCircleFilled","workWeekDay","onChangeTimePicker","BtnAddWorkShiftAssigner","assigners","isAllStaffsChecked","assigner","checked","UsergroupAddOutlined","onCheckAllStaffs","itemLayout","onCheckStaff","TabPane","Tabs","listStaffs","loadWorkSchedules","refreshAllCurrenStates","availableYears","listWorkYears","selectedWorkYear","isWorkShiftFound","j","isTaskWorkDayPanelToggled","isTaskWorkDayPanelShown","wsDay","getDate","workSchedule","workDaysLength","temp","filteredWorkShifts","filterWorkShiftsByDay","getWeekDay","WEEK_DAY","generateWorkDays","row","col","workShiftID","assinger","workAssignment","workAssignmentID","isMobile","selectedYear","minHeight","handleSelectYear","handleSelectWorkSchedule","openRemoveWorkScheduleConfirm","CloseCircleOutlined","handleSelectWorkShift","openRemoveWorkShiftConfirm","USER_ROLE","LogoutOutlined","openRemoveWorkShiftAssignerConfirm","defaultActiveKey","tabBarGutter","console","log","tab","iRow","iCol","handleSelectWorkDay","PlacesAutocomplete","inputRef","geocodeByAddress","placeInfo","setAddress","suggestionsClassNames","suggestion","onSelect","handleSelectPlace","initialValue","renderInput","AddSupplierDialog","submit","addToSuppliersDataSource","EditSupplierDialog","updateSuppliersDataSource","SupplierManagement","suppliersDataSource","filteredSuppliers","supplierSearchText","onSupplierSearchInputChange","defaultSelectedSupplier","searchKeys","handleSelectSupplier","DeleteOutlined","openRemoveSupplierConfirmDialog","maxHeight","PendingRequest","sender","onUpdateImportingRequests","rp","join","openCancelRequestConfirmDialog","StatisticPendingRequestDialog","executor","pendingRequests","requests","onAcceptRequests","importers","onRequiredProductQuantityInputChanged","executorMenu","handleSelectExcecutor","acceptRequests","DownOutlined","ImporterAssignment","importer","finishedAt","ImportingRequest","CONSTANT","notFinishedAssignments","finishedAssignments","reloadImportingRequests","isImporterAssignmentFinished","setImportingRequests","pages","path","component","LockOutlined","DollarOutlined","InboxOutlined","BarChartOutlined","FileDoneOutlined","tailLayout","Login","username","meta","set","pathToNavigate","SIDEBAR","history","initialValues","remember","withRouter","combineReducers","app","currentPageTitle","currentPageIcon","loggedInUser","createStore","reducers","Toolbar","code","logout","remove","avatarMenuItems","CurrentPage","Icon","sidebarIndex","CaretDownFilled","UserInfo","userRoleStyle","userRoleName","backgroundImage","email","Sider","Layout","Sidebar","pagesByUserRole","currentPath","forEach","currentPage","links","link","MenuOutlined","selectedKeys","pageIndex","Page","to","Content","Main","isAuthenticated","commonPages","concat","PrivateRoute","rest","exact","AppLoading","App","store","CookiesProvider","pathname","Boolean","hostname","match","ReactDOM","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.5faba24a.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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e/IDUBi7J38OFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRwBQAkcAUAJHAFACRPLlntZ5CCgVAmpvTO8Y77B/b/VXm/wGYkli8D/ZHAgAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/tue-signature.76b5d34e.png\";","module.exports = __webpack_public_path__ + \"static/media/cashing.9897c7f7.wav\";","module.exports = __webpack_public_path__ + \"static/media/rejecting.01f737d7.wav\";","module.exports = __webpack_public_path__ + \"static/media/warning.4af9c980.wav\";","const ENV = {\n  API_URL: process.env.REACT_APP_API_URL,\n  GOOGLE_MAPS_API_KEY: process.env.REACT_APP_GOOGLE_MAPS_API_KEY\n}\n\nexport default ENV;","import secret from '../config/secret';\n\nexport const API = {\n  User: {\n    login: `${secret.API_URL}/users/login`,\n    changePassword: `${secret.API_URL}/users/change-password`\n  },\n  Cashier: {\n    Checkout: {\n      getCheckoutSessions: `${secret.API_URL}/checkout-sessions`,\n      createCheckoutSession: `${secret.API_URL}/checkout-sessions`,\n      cancelCheckoutSession: `${secret.API_URL}/checkout-sessions/{checkoutSessionID}`,\n      submitCheckoutSession: `${secret.API_URL}/checkout-sessions/{checkoutSessionID}`,\n\n      createImportingRequest: `${secret.API_URL}/importing-requests`,\n      getImportingRequests: `${secret.API_URL}/users/importing-requests`\n    }\n  },\n  Manager: {\n    Reporting: {\n      getProducts: `${secret.API_URL}/products?page={page}&limit={limit}&statisticStartDate={statisticStartDate}&statisticEndDate={statisticEndDate}`\n    },\n    ImportingRequestManagement: {\n      getImportingRequest: `${secret.API_URL}/importing-requests`,\n      acceptImportingRequests: `${secret.API_URL}/importing-requests`,\n      cancelImportingRequest: `${secret.API_URL}/importing-requests/{importingRequestID}`,\n\n      getImporterAssignments: `${secret.API_URL}/importer-assignments`,\n    },\n    StaffManagement: {\n      getListStaffs: `${secret.API_URL}/users`,\n      addStaff: `${secret.API_URL}/users`,\n      updateStaffProfile: `${secret.API_URL}/users/{updatedUserID}`,\n      removeStaff: `${secret.API_URL}/users/{deletedUserID}`\n    },\n    SupplierManagment: {\n      getSuppliers: `${secret.API_URL}/suppliers`,\n      addSupplier: `${secret.API_URL}/suppliers`,\n      removeSupplier: `${secret.API_URL}/suppliers/{supplierID}`,\n      updateSupplier: `${secret.API_URL}/suppliers/{supplierID}`\n    },\n    WorkSchedule: {\n      getWorkSchedules: `${secret.API_URL}/work-schedules`,\n      addWorkSchedule: `${secret.API_URL}/work-schedules`,\n      removeWorkSchedule: `${secret.API_URL}/work-schedules/{workScheduleID}`\n    },\n    WorkShift: {\n      addWorkShift: `${secret.API_URL}/work-shifts`,\n      removeWorkShift: `${secret.API_URL}/work-shifts/{workShiftID}`\n    },\n    WorkAssignment: {\n      addWorkAssignments: `${secret.API_URL}/work-assignments`,\n      removeWorkAssignment: `${secret.API_URL}/work-assignments/{workAssignmentID}`\n    }\n  },\n  Importer: {\n    ProductManagement: {\n      addCategory: `${secret.API_URL}/categories`,\n      getCategories: `${secret.API_URL}/categories`,\n      getCategoryProducts: `${secret.API_URL}/categories/{categoryID}/products`,\n      updateCategory: `${secret.API_URL}/categories/{categoryID}`,\n      removeCategory: `${secret.API_URL}/categories/{categoryID}`,\n\n      getSuppliers: `${secret.API_URL}/suppliers`,\n      addSupplier: `${secret.API_URL}/suppliers`,\n      removeSupplier: `${secret.API_URL}/suppliers/{supplierID}`,\n      updateSupplier: `${secret.API_URL}/suppliers/{supplierID}`,\n\n      addProduct: `${secret.API_URL}/products`,\n      updateProduct: `${secret.API_URL}/products/{productID}`,\n      removeProduct: `${secret.API_URL}/products/{productID}`,\n\n      getProductActionLogs: `${secret.API_URL}/product-action-logs`\n    },\n    ImporterAssignmentManagement: {\n      getImporterAssignments: `${secret.API_URL}/users/importer-assignments`\n    }\n  }\n}","export const COOKIE_NAMES = {\n  token: 'token',\n  user: 'user'\n}","import { APP_LOADING, LOGIN_SUCCESS, SET_CURRENT_PAGE_TITLE, SET_SIDEBAR_SELECTED_INDEX } from './types.action';\n\n// App authentication\nexport const login = (user, token) => ({ type: LOGIN_SUCCESS, user, token });\n\n// App utilities\nexport const setAppLoading = (isLoading) => ({ type: APP_LOADING, isLoading });\nexport const setCurrentPageTitle = (title, icon) => ({ type: SET_CURRENT_PAGE_TITLE, title, icon });\nexport const setSidebarSelectedIndex = (sidebarSelectedIndex) => ({ type: SET_SIDEBAR_SELECTED_INDEX, sidebarSelectedIndex });","export const APP_LOADING = 'APP_LOADING';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const SET_CURRENT_PAGE_TITLE = 'CURRENT_PAGE_TITLE';\nexport const SET_SIDEBAR_SELECTED_INDEX = 'SET_SIDEBAR_SELECTED_INDEX';","import React from 'react';\n\nexport default class BasePage extends React.Component {\n  abortController = new AbortController();\n\n  componentWillUnmount() {\n    this.abortController.abort();\n  }\n}","export default {\n  CASHIER: {\n    type: 'CASHIER',\n    name: 'NV Thu ngân'\n  },\n  IMPORTER: {\n    type: 'IMPORTER',\n    name: 'NV Nhập hàng'\n  },\n  MANAGER: {\n    type: 'MANAGER',\n    name: 'NV Quản lý'\n  },\n  USER: {\n    type: 'USER',\n    name: 'Người dùng'\n  }\n}","import React, { Component } from 'react';\nimport { Avatar, Row, Col } from 'antd';\nimport { withCookies } from 'react-cookie';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport USER_ROLES from '../../../../constants/user-role.constant';\nimport './Profile.style.scss';\nimport * as moment from 'moment';\n\nclass Profile extends Component {\n  render() {\n    const user = this.props.cookies.get(COOKIE_NAMES.user);\n    const userFields = Object.keys(user)\n      .filter(k => !['fullname', 'avatar', 'role', 'updatedAt', '__v'].includes(k))\n      .map(k => {\n        switch (k) {\n          case '_id': return { index: 0, name: 'ID', value: user[k] };\n          case 'dateOfBirth': return { index: 1, name: 'Ngày sinh', value: user[k] };\n          case 'sex': return { index: 2, name: 'Giới tính', value: user[k] };\n          case 'email': return { index: 3, name: 'Email', value: user[k] };\n          case 'phone': return { index: 4, name: 'Số điện thoại', value: user[k] };\n          case 'address': return { index: 5, name: 'Địa chỉ', value: user[k] };\n          case 'salaryRate': return { index: 6, name: 'Hệ số lương', value: user[k] };\n          case 'createdAt': return { index: 7, name: 'Ngày tham gia', value: moment(user[k]).format('DD-MM-YYYY') };\n          default: return {};\n        }\n      })\n      .sort((a, b) => a.index - b.index);\n\n    return (\n      <div className=\"profile\">\n        <div className=\"profile__main animated slideInUp\">\n          <div className=\"profile__main__header\">\n            <Avatar\n              className=\"profile__main__header__user-avatar\"\n              style={{ width: '4.0625rem', height: '4.0625rem' }}\n              src={user.avatar} />\n            <div className=\"profile__main__header__user-info\">\n              <div className=\"profile__main__header__user-info__name\"><span>{user.fullname}</span></div>\n              <div className=\"profile__main__header__user-info__role\"><span>{USER_ROLES[user.role].name}</span></div>\n            </div>\n          </div>\n          <Row className=\"profile__main__body\">\n            <Col span={8}>\n              <ul className=\"profile__main__body__list-user-fields\">\n                {userFields.map((field, index) => (\n                  <li key={index}>{field.name}</li>\n                ))}\n              </ul>\n            </Col>\n            <Col span={16}>\n              <ul className=\"profile__main__body__list-user-values\">\n                {userFields.map((field, index) => (\n                  <li key={index} className={`${field.name === 'ID' ? '--highline' : ''}`}>{field.value}</li>\n                ))}\n              </ul>\n            </Col>\n          </Row>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withCookies(Profile);\n","import React from 'react';\nimport { Form, Input, Button, message } from 'antd';\nimport { SafetyOutlined } from '@ant-design/icons'\nimport './ChangePassword.style.scss';\nimport { API } from '../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport { withCookies } from 'react-cookie';\nimport * as actions from '../../../../redux/actions';\nimport { connect } from 'react-redux';\nimport PageBase from '../../../utilities/PageBase/PageBase';\n\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 16,\n  },\n};\n\nclass ChangePassword extends PageBase {\n  constructor(props) {\n    super(props);\n    this.formRef = React.createRef();\n  }\n\n  onFinish = async (values) => {\n    try {\n      this.props.setAppLoading(true);\n      const params = { ...values };\n      const res = await (\n        await fetch(\n          API.User.changePassword,\n          {\n            method: 'PUT',\n            body: JSON.stringify(params),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.formRef.current.resetFields();\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"change-password\">\n        <div className=\"change-password__content animated jackInTheBox\">\n          <div className=\"change-password__content__icon-wrapper\">\n            <SafetyOutlined className=\"change-password__content__icon-wrapper__icon\" />\n          </div>\n          <Form\n            {...layout}\n            ref={this.formRef}\n            onFinish={values => this.onFinish(values)}\n            onFinishFailed={() => message.error('Vui lòng kiểm tra lại thông tin')}\n            className=\"change-password__content__form\"\n          >\n            <Form.Item\n              label=\"Mật khẩu hiện tại\"\n              name=\"currentPassword\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập mật khẩu hiện tại',\n                },\n              ]}\n            >\n              <Input.Password autoFocus={true} />\n            </Form.Item>\n\n            <Form.Item\n              label=\"Mật khẩu mới\"\n              name=\"newPassword\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập mật khẩu mới',\n                },\n              ]}\n            >\n              <Input.Password />\n            </Form.Item>\n\n            <Form.Item\n              label=\"Nhập lại mật khẩu\"\n              name=\"confirmedNewPassword\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập lại mật khẩu mới',\n                },\n              ]}\n            >\n              <Input.Password />\n            </Form.Item>\n\n            <div className=\"change-password__content__form__btn-submit-div\">\n              <Form.Item>\n                <Button shape=\"round\" htmlType=\"submit\" className=\"change-password__content__form__btn-submit-div__btn\">\n                  LƯU THAY ĐỔI\n              </Button>\n              </Form.Item>\n            </div>\n\n          </Form>\n        </div>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(ChangePassword));","import React, { Component } from 'react';\nimport { Row, Col, Divider } from 'antd';\nimport NumberFormat from 'react-number-format';\nimport './BillToPrint.style.scss';\nimport moment from 'moment';\nimport QRCode from 'qrcode.react';\nimport { COOKIE_NAMES } from '../../../../../../constants/cookie-name.constant';\nimport { withCookies } from 'react-cookie';\n\nclass BillToPrint extends Component {\n  render() {\n    const { checkoutSession } = this.props;\n    return (\n      <div className=\"money-counting__submit-checkout-session-dialog__bill\">\n        <div className=\"money-counting__submit-checkout-session-dialog__bill__header\">\n          <div className=\"money-counting__submit-checkout-session-dialog__bill__header__company\">\n            <img className=\"money-counting__submit-checkout-session-dialog__bill__header__company__logo\" src={require('../../../../../../assets/images/app-logo.png')} alt=\"logo\" />\n            <div className=\"money-counting__submit-checkout-session-dialog__bill__header__company__brand\">\n              <div className=\"money-counting__submit-checkout-session-dialog__bill__header__company__brand__name\"><span>Mini Mart</span></div>\n              <div className=\"money-counting__submit-checkout-session-dialog__bill__header__company__brand__slogan\"><span>Tiện Lợi mà Chất Lượng</span></div>\n            </div>\n          </div>\n        </div>\n        <div className=\"money-counting__submit-checkout-session-dialog__bill__title\">\n          <span>HÓA ĐƠN THANH TOÁN</span>\n        </div>\n        <div className=\"money-counting__submit-checkout-session-dialog__bill__details\">\n          <Row>\n            <Col span={8}>Địa chỉ:</Col>\n            <Col span={16}>227 Nguyễn Văn Cừ, Quận 5</Col>\n          </Row>\n          <Row>\n            <Col span={8}>Vào lúc:</Col>\n            <Col span={16}>{moment(checkoutSession.submittedAt).format('HH:mm DD-MM-YYYY')}</Col>\n          </Row>\n          <Row>\n            <Col span={8}>Thu ngân:</Col>\n            <Col span={16}>{this.props.cookies.get(COOKIE_NAMES.user)._id}</Col>\n          </Row>\n        </div>\n        <Divider />\n        <ul className=\"money-counting__submit-checkout-session-dialog__bill__list-items\">\n          <li style={{ fontWeight: 'bold', paddingBottom: 10 }}>\n            <Row>\n              <Col span={10}>Sản phẩm</Col>\n              <Col span={7}><center>SL</center></Col>\n              <Col span={7}>Thành tiền</Col>\n            </Row>\n          </li>\n          {checkoutSession.soldItems.map(item => (\n            <li key={item._id}>\n              <Row>\n                <Col span={10}>{item.product.name}</Col>\n                <Col span={7}><center>{item.quantity}</center></Col>\n                <Col span={7}>\n                  <NumberFormat\n                    value={Number(item.product.price * item.quantity)}\n                    displayType=\"text\"\n                    thousandSeparator={true}\n                  />\n                </Col>\n              </Row>\n            </li>\n          ))}\n        </ul>\n        <Divider />\n        <div className=\"money-counting__submit-checkout-session-dialog__bill__price-total\">\n          <Row>\n            <Col span={10}>Tổng tiền</Col>\n            <Col span={7}></Col>\n            <Col span={7}>\n              <NumberFormat\n                value={Number(checkoutSession.priceTotal)}\n                displayType=\"text\"\n                thousandSeparator={true}\n                suffix={' đ̲'}\n              />\n            </Col>\n          </Row>\n        </div>\n        <div className=\"money-counting__submit-checkout-session-dialog__bill__qrcode\">\n          <QRCode\n            value={checkoutSession._id}\n            fgColor={'gray'}\n          />\n        </div>\n      </div>\n    )\n  }\n}\nexport default withCookies(BillToPrint);","import React from 'react';\nimport { Button, Modal, Tooltip, message, notification } from 'antd';\nimport { PrinterOutlined, ArrowRightOutlined } from '@ant-design/icons';\nimport './SubmitCheckoutSessionDialog.style.scss';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport { connect } from 'react-redux';\nimport { withCookies } from 'react-cookie';\nimport * as actions from '../../../../../redux/actions';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport moment from 'moment';\nimport BillToPrint from './BillToPrint/BillToPrint';\nimport ReactToPrint from 'react-to-print';\nimport { API } from '../../../../../constants/api.constant';\nimport * as _ from 'lodash';\n\nclass SubmitCheckoutSessionDialog extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false,\n      checkoutSession: {}\n    }\n  }\n\n  openNotification = (message, description, placement) => {\n    notification['warning']({\n      message,\n      description,\n      placement,\n      duration: null\n    });\n  };\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  onOK() {\n    document.getElementById('money-counting-submit-checkout-session-dialog-btn-print-bill').click();\n  }\n\n  async submitCheckoutSession() {\n    try {\n      const { checkoutSessionID, checkedOutProducts } = this.props;\n      const params = { products: checkedOutProducts.map(p => p._id) };\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Cashier.Checkout.submitCheckoutSession.replace('{checkoutSessionID}', checkoutSessionID),\n          {\n            method: 'PUT',\n            body: JSON.stringify(params),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        if (res.status === 404 && res.data) {\n          const { notExistedProductIDs } = res.data;\n          let notExistedProducts = checkedOutProducts\n            .filter(p => _.findIndex(notExistedProductIDs, id => id === p._id) >= 0);\n          notExistedProducts = _.uniqBy(notExistedProducts, '_id');\n          this.notifyNotExistedProducts(notExistedProducts, res.errors[0]);\n          return;\n        }\n\n        if (res.status === 400 && res.data) {\n          this.props.loadLackingItems(res.data.lackingItems);\n          this.props.setLackingItemsDialogVisible(true);\n          return;\n        }\n\n        message.error(res.errors[0]);\n        return;\n      }\n\n      const { checkoutSession } = res.data;\n      this.setState({ checkoutSession });\n      this.props.setCheckoutDoneScreenVisible(true);\n      this.props.setMainPanelOnWorking(false);\n      this.setDialogVisible(true);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  notifyNotExistedProducts(products, message) {\n    this.openNotification(\n      message,\n      <ul style={{ paddingLeft: 18 }}>\n        {products.map(p => (\n          <li key={p._id}>{p.name}</li>\n        ))}\n      </ul>,\n      'bottomRight'\n    )\n  }\n\n  render() {\n    const { checkedOutProducts } = this.props;\n    const { checkoutSession } = this.state;\n    return (\n      <div className=\"money-counting__submit-checkout-session-dialog\">\n        <Button\n          className=\"money-counting__submit-checkout-session-dialog__btn-open\"\n          type=\"primary\"\n          disabled={checkedOutProducts.length === 0}\n          onClick={() => this.submitCheckoutSession()}\n        >\n          <span style={{ marginRight: 5 }}>Hoàn tất tính tiền</span>\n          <ArrowRightOutlined />\n        </Button>\n\n        <Modal\n          className=\"money-counting__submit-checkout-session-dialog__content\"\n          title={\n            <span style={{ color: '#ff8220', fontWeight: 'bold' }}>\n              Hóa đơn bán hàng | Lúc {moment(checkoutSession.submittedAt).format('HH:mm DD-MM-YYYY')}\n            </span>\n          }\n          visible={this.state.isVisible}\n          onOk={() => this.onOK()}\n          onCancel={() => this.setDialogVisible(false)}\n          okText=\"In hóa đơn\"\n          okButtonProps={{ style: { display: 'none' } }}\n          cancelButtonProps={{ style: { display: 'none' } }}\n          maskClosable={false}\n        >\n          {Object.keys(checkoutSession).length > 0 ? (\n            <div className=\"money-counting__submit-checkout-session-dialog__content__bill\">\n              <div className=\"money-counting__submit-checkout-session-dialog__content__bill__toolbar\">\n                <Tooltip title=\"In hóa đơn\" placement=\"left\">\n                  <Button\n                    className=\"money-counting__submit-checkout-session-dialog__content__bill__toolbar__item\"\n                    shape=\"circle\"\n                    icon={<PrinterOutlined />}\n                    onClick={() => this.onOK()}\n                  />\n                </Tooltip>\n              </div>\n              <div className=\"money-counting__submit-checkout-session-dialog__content__bill__wrapper\">\n                <ReactToPrint\n                  trigger={() => (\n                    <Button style={{ display: 'none' }} id=\"money-counting-submit-checkout-session-dialog-btn-print-bill\" />\n                  )}\n                  content={() => this.componentToPrintRef}\n                />\n                <BillToPrint\n                  ref={el => (this.componentToPrintRef = el)}\n                  checkoutSession={{ ...checkoutSession }}\n                />\n              </div>\n            </div>\n          ) : <></>}\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(SubmitCheckoutSessionDialog));","import React from 'react';\nimport { Modal, Table, Button, message } from 'antd';\nimport { ExclamationCircleFilled } from '@ant-design/icons';\nimport './ImportingRequestDialog.style.scss';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../../redux/actions';\nimport { withCookies } from 'react-cookie';\nimport { API } from '../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\n\nclass ImportingRequestDialog extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false\n    }\n  }\n\n  componentWillReceiveProps(props) {\n    const { isVisible } = props;\n    this.setDialogVisible(isVisible);\n  }\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  async sendImportingRequest() {\n    try {\n      const params = {\n        products: this.props.lackingItems.map(item => item.product._id)\n      }\n\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Cashier.Checkout.createImportingRequest,\n          {\n            method: 'POST',\n            body: JSON.stringify(params),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      message.success(res.messages[0]);\n      this.setDialogVisible(false);\n      this.props.setLackingItemsDialogVisible(false);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    let { lackingItems } = this.props;\n    lackingItems = lackingItems.map(item => ({ ...item, key: item.product._id }));\n    const columns = [\n      {\n        title: 'Sản phẩm',\n        dataIndex: 'productName',\n        key: 'productName',\n        render: (value, record) => (\n          <div>\n            <img src={record.product.image} alt=\"\" />\n            <span>{record.product.name}</span>\n          </div>\n        )\n      },\n      {\n        title: <center>SL yêu cầu</center>,\n        dataIndex: 'requiredQuantity',\n        key: 'requiredQuantity',\n        width: 100,\n        render: value => <center>{value}</center>\n      },\n      {\n        title: <center>SL hiện có</center>,\n        dataIndex: 'availableQuantity',\n        key: 'availableQuantity',\n        width: 100,\n        render: value => <center>{value}</center>\n      },\n    ];\n\n    return (\n      <div className=\"importing-request-dialog\">\n        <Modal\n          className=\"importing-request-dialog__content\"\n          title={\n            <div className=\"importing-request-dialog__content__title\">\n              <ExclamationCircleFilled className=\"importing-request-dialog__content__title__icon\" />\n              <span className=\"importing-request-dialog__content__title__text\">Sản phẩm không đủ</span>\n            </div>\n          }\n          visible={this.state.isVisible}\n          footer={null}\n          onCancel={() => {\n            this.setDialogVisible(false);\n            this.props.setLackingItemsDialogVisible(false);\n          }}\n          maskClosable={false}\n        >\n          <Table\n            dataSource={lackingItems}\n            columns={columns}\n            pagination={false}\n            scroll={{ y: 300 }}\n          />\n          <div className=\"importing-request-dialog__content__btn-send-request\">\n            <Button\n              className=\"importing-request-dialog__content__btn-send-request__btn\"\n              type=\"primary\"\n              shape=\"round\"\n              onClick={() => this.sendImportingRequest()}\n            >\n              Gửi yêu cầu nhập hàng\n            </Button>\n          </div>\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(ImportingRequestDialog));","import React from 'react';\nimport './MoneyCounting.style.scss';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nimport { withCookies } from 'react-cookie';\nimport QrReader from 'react-qr-reader';\nimport { Row, Col, Empty, notification, Button, Tooltip, Table, Modal, message } from 'antd';\nimport { ReloadOutlined, ShoppingCartOutlined, QuestionCircleOutlined, ArrowLeftOutlined, ExclamationCircleOutlined, DeleteFilled, CheckCircleOutlined } from '@ant-design/icons';\nimport NumberFormat from 'react-number-format';\nimport checkoutSound from '../../../../assets/sounds/cashing.wav';\nimport rejectingSound from '../../../../assets/sounds/rejecting.wav';\nimport warningSound from '../../../../assets/sounds/warning.wav';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../redux/actions';\nimport { API } from '../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport SubmitCheckoutSessionDialog from './SubmitCheckoutSessionDialog/SubmitCheckoutSessionDialog';\nimport * as _ from 'lodash';\nimport ImportingRequestDialog from './ImportingRequestDialog/ImportingRequestDialog';\n\nconst { confirm } = Modal;\n\nclass MoneyCounting extends PageBase {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tscannedProduct: {},\n\t\t\tavailableProducts: [],\n\t\t\tcheckedOutProducts: [],\n\t\t\tpriceTotal: 0,\n\t\t\tonWorking: false,\n\t\t\tsound: '',\n\t\t\tcheckoutSessionID: '',\n\t\t\tisCheckoutDoneScreenVisible: false,\n\t\t\tlackingItems: [],\n\t\t\tisLackingItemsDialogVisible: false\n\t\t}\n\t\tthis.soundRef = React.createRef();\n\t}\n\n\tclearAllStates() {\n\t\tthis.setState({\n\t\t\tscannedProduct: {},\n\t\t\tcheckedOutProducts: [],\n\t\t\tpriceTotal: 0,\n\t\t\tonWorking: false,\n\t\t\tsound: '',\n\t\t\tcheckoutSessionID: '',\n\t\t\tisCheckoutDoneScreenVisible: false\n\t\t});\n\t}\n\n\tasync createCheckoutSession() {\n\t\ttry {\n\t\t\tthis.props.setAppLoading(true);\n\t\t\tconst res = await (\n\t\t\t\tawait fetch(\n\t\t\t\t\tAPI.Cashier.Checkout.createCheckoutSession,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-type': 'application/json; charset=UTF-8',\n\t\t\t\t\t\t\t'token': this.props.cookies.get(COOKIE_NAMES.token)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsignal: this.abortController.signal\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t).json();\n\n\t\t\tthis.props.setAppLoading(false);\n\t\t\tif (res.status !== 200) {\n\t\t\t\tmessage.error(res.errors[0]);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { _id } = res.data.checkoutSession;\n\t\t\tconst { availableProducts } = res.data;\n\t\t\tmessage.success(res.messages[0]);\n\n\t\t\tthis.setOnWorking(true);\n\t\t\tthis.props.setCheckoutPanelCheckoutSessionID(_id);\n\t\t\tthis.setState({\n\t\t\t\tcheckoutSessionID: _id,\n\t\t\t\tavailableProducts\n\t\t\t});\n\t\t} catch (error) {\n\t\t\treturn error;\n\t\t}\n\t}\n\n\tasync cancelCheckoutSession() {\n\t\ttry {\n\t\t\tthis.props.setAppLoading(true);\n\t\t\tconst res = await (\n\t\t\t\tawait fetch(\n\t\t\t\t\tAPI.Cashier.Checkout.cancelCheckoutSession.replace('{checkoutSessionID}', this.state.checkoutSessionID),\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-type': 'application/json; charset=UTF-8',\n\t\t\t\t\t\t\t'token': this.props.cookies.get(COOKIE_NAMES.token)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsignal: this.abortController.signal\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t).json();\n\n\t\t\tthis.props.setAppLoading(false);\n\t\t\tif (res.status !== 200) {\n\t\t\t\tmessage.error(res.errors[0]);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.setOnWorking(false);\n\t\t\tmessage.success(res.messages[0]);\n\t\t} catch (error) {\n\t\t\treturn error;\n\t\t}\n\t}\n\n\topenNotification = (message, description, placement) => {\n\t\tnotification.open({\n\t\t\tmessage,\n\t\t\tdescription,\n\t\t\tplacement\n\t\t});\n\t};\n\n\topenNotExistedProductNotification() {\n\t\tnotification['warning']({\n\t\t\tmessage: 'Cảnh báo',\n\t\t\tdescription: 'Sản phẩm này không có trong siêu thị'\n\t\t});\n\t}\n\n\thandleScan = data => {\n\t\tif (data) {\n\t\t\tconst { availableProducts } = this.state;\n\t\t\tconst productID = data;\n\t\t\tconst index = _.findIndex(availableProducts, ap => ap._id === productID);\n\t\t\tif (index < 0) {\n\t\t\t\tthis.playSound(warningSound);\n\t\t\t\tthis.openNotExistedProductNotification();\n\t\t\t\tthis.clearScannedProduct();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.playSound(checkoutSound);\n\t\t\tconst productDetails = { ...availableProducts[index] };\n\t\t\tthis.openNotification(\n\t\t\t\t<span>\n\t\t\t\t\t<span style={{ color: '#44b543', fontWeight: 'bold', marginRight: 10 }}>+1</span>\n\t\t\t\t\t{productDetails.name}\n\t\t\t\t</span>,\n\t\t\t\t`Vừa xong`,\n\t\t\t\t'topRight'\n\t\t\t);\n\n\t\t\tlet { checkedOutProducts, priceTotal } = this.state;\n\t\t\tcheckedOutProducts.push({\n\t\t\t\t_id: productDetails._id,\n\t\t\t\tkey: productDetails._id,\n\t\t\t\torder: checkedOutProducts.length + 1,\n\t\t\t\tname: productDetails.name,\n\t\t\t\tprice: productDetails.price,\n\t\t\t\tcategory: productDetails.category.name,\n\t\t\t\tsupplier: productDetails.supplier.name,\n\t\t\t\timage: productDetails.image\n\t\t\t});\n\n\t\t\tpriceTotal = checkedOutProducts.reduce((pre, cur) => {\n\t\t\t\treturn pre + cur.price;\n\t\t\t}, 0);\n\n\t\t\tthis.setState({\n\t\t\t\tscannedProduct: { ...productDetails },\n\t\t\t\tcheckedOutProducts,\n\t\t\t\tpriceTotal\n\t\t\t});\n\t\t}\n\t}\n\n\thandleError = error => {\n\t\tif (error) {\n\t\t\tmessage.error(error);\n\t\t}\n\t}\n\n\tclearScannedProduct() {\n\t\tthis.setState({ scannedProduct: {} });\n\t}\n\n\tplaySound(sound) {\n\t\tthis.soundRef.src = sound;\n\t\tthis.soundRef.play();\n\t}\n\n\tsetOnWorking(onWorking) {\n\t\tthis.setState({ onWorking });\n\t\tthis.props.setCheckoutPanelOnWorking(onWorking);\n\t}\n\n\tbackToGettingStarted() {\n\t\tconst that = this;\n\t\tconfirm({\n\t\t\ttitle: `Đang thao tác, bạn có muốn rời khỏi?`,\n\t\t\ticon: <ExclamationCircleOutlined />,\n\t\t\tcontent: '',\n\t\t\tokText: 'Đồng ý',\n\t\t\tokType: 'danger',\n\t\t\tcancelText: 'Không, cảm ơn',\n\t\t\tonOk() {\n\t\t\t\tthat.cancelCheckoutSession();\n\t\t\t}\n\t\t});\n\t}\n\n\topenRemoveCheckoutProductConfirm(product) {\n\t\tconst that = this;\n\t\tconfirm({\n\t\t\ttitle: `Bạn muốn loại bỏ 1 ${product.name}?`,\n\t\t\ticon: <ExclamationCircleOutlined />,\n\t\t\tcontent: '',\n\t\t\tokText: 'Đồng ý',\n\t\t\tokType: 'danger',\n\t\t\tcancelText: 'Không, cảm ơn',\n\t\t\tonOk() {\n\t\t\t\tlet { checkedOutProducts, priceTotal } = that.state;\n\t\t\t\tcheckedOutProducts = checkedOutProducts.filter(p => p.order !== product.order);\n\t\t\t\tcheckedOutProducts.sort((a, b) => a.order - b.order);\n\t\t\t\tpriceTotal -= product.price;\n\n\t\t\t\tif (product.order === that.state.scannedProduct.order || checkedOutProducts.length === 0)\n\t\t\t\t\tthat.clearScannedProduct();\n\n\t\t\t\tthat.setState({ checkedOutProducts, priceTotal });\n\n\t\t\t\tthat.playSound(rejectingSound);\n\t\t\t\tthat.openNotification(\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<span style={{ color: 'crimson', fontWeight: 'bold', marginRight: 10 }}>-1</span>\n\t\t\t\t\t\t{product.name}\n\t\t\t\t\t</span>,\n\t\t\t\t\t`Vừa xong`,\n\t\t\t\t\t'topRight'\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}\n\n\tsetCheckoutDoneScreenVisible(isVisible) {\n\t\tthis.setState({ isCheckoutDoneScreenVisible: isVisible });\n\t}\n\n\tcontinueToCheckout() {\n\t\tthis.clearAllStates();\n\t\tthis.createCheckoutSession();\n\t\tthis.props.setMainPanelOnWorking(true);\n\t}\n\n\tloadLackingItems(lackingItems) {\n\t\tthis.setState({ lackingItems });\n\t}\n\n\tsetLackingItemsDialogVisible(isVisible) {\n\t\tthis.setState({ isLackingItemsDialogVisible: isVisible });\n\t}\n\n\trender() {\n\t\tconst { scannedProduct, checkedOutProducts, priceTotal, onWorking, lackingItems } = this.state;\n\t\tconst isProductScanned = Object.keys(scannedProduct).length > 0;\n\n\t\tconst columns = [\n\t\t\t{\n\t\t\t\ttitle: <center>STT</center>,\n\t\t\t\tdataIndex: 'order',\n\t\t\t\tkey: 'order',\n\t\t\t\twidth: '5rem',\n\t\t\t\trender: order => <center>{order}</center>\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Sản phẩm',\n\t\t\t\tdataIndex: 'name',\n\t\t\t\tkey: 'name',\n\t\t\t\twidth: '15.625rem',\n\t\t\t\trender: (text, record) => (\n\t\t\t\t\t<div className=\"money-counting__panel__right__shopping-cart__list-products__item\">\n\t\t\t\t\t\t{record.image ? (<img src={record.image} alt=\"product\" />) : (<QuestionCircleOutlined />)}\n\t\t\t\t\t\t<span className=\"money-counting__panel__right__shopping-cart__list-products__item__name\">{text}</span>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Giá bán',\n\t\t\t\tdataIndex: 'price',\n\t\t\t\tkey: 'price',\n\t\t\t\twidth: '9.375rem',\n\t\t\t\trender: (text) => (\n\t\t\t\t\t<NumberFormat\n\t\t\t\t\t\tvalue={Number(text)}\n\t\t\t\t\t\tdisplayType=\"text\"\n\t\t\t\t\t\tthousandSeparator={true}\n\t\t\t\t\t\tsuffix=\" đ̲\"\n\t\t\t\t\t\tstyle={{ fontWeight: 'bold' }}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Danh mục',\n\t\t\t\tdataIndex: 'category',\n\t\t\t\tkey: 'category',\n\t\t\t\twidth: '9.375rem'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: 'Nhà cung cấp',\n\t\t\t\tdataIndex: 'supplier',\n\t\t\t\tkey: 'supplier',\n\t\t\t\twidth: '9.375rem'\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: '',\n\t\t\t\tdataIndex: '',\n\t\t\t\tkey: '',\n\t\t\t\twidth: 80,\n\t\t\t\trender: (value, record) => (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"money-counting__panel__right__shopping-cart__list-products__btn-remove-item\"\n\t\t\t\t\t\tshape=\"circle\"\n\t\t\t\t\t\ticon={<DeleteFilled />}\n\t\t\t\t\t\tonClick={() => this.openRemoveCheckoutProductConfirm({ ...record })}\n\t\t\t\t\t/>\n\t\t\t\t)\n\t\t\t}\n\t\t];\n\n\t\treturn (\n\t\t\t<div className=\"money-counting\">\n\t\t\t\t{!onWorking ? (\n\t\t\t\t\t<div className=\"money-counting__getting-started animated fadeIn\">\n\t\t\t\t\t\t<div className=\"money-counting__getting-started__content\">\n\t\t\t\t\t\t\t<div className=\"money-counting__getting-started__content__left animated bounceInLeft\">\n\t\t\t\t\t\t\t\t<h1 className=\"money-counting__getting-started__content__left__title\">\n\t\t\t\t\t\t\t\t\tTính tiền cho khách\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tclassName=\"money-counting__getting-started__content__left__btn-start\"\n\t\t\t\t\t\t\t\t\tonClick={() => this.createCheckoutSession()}\n\t\t\t\t\t\t\t\t>Bắt đầu tính tiền</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"money-counting__getting-started__content__right-cover\">\n\t\t\t\t\t\t\t\t<div className=\"money-counting__getting-started__content__right-cover__img\"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"money-counting__getting-started__bottom-wave\">\n\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1440 320\">\n\t\t\t\t\t\t\t\t<path fill=\"url(#my-cool-gradient)\" fillOpacity={1}\n\t\t\t\t\t\t\t\t\td=\"M0,256L48,250.7C96,245,192,235,288,197.3C384,160,480,96,576,74.7C672,53,768,75,864,112C960,149,1056,203,1152,192C1248,181,1344,107,1392,69.3L1440,32L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<linearGradient id=\"my-cool-gradient\" x2=\"1\" y2=\"1\">\n\t\t\t\t\t\t\t\t\t<stop offset=\"0%\" stopColor=\"#ff5858\" />\n\t\t\t\t\t\t\t\t\t<stop offset=\"100%\" stopColor=\"#f09819\" />\n\t\t\t\t\t\t\t\t</linearGradient>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t\t<div style={{ height: '100%' }}>\n\t\t\t\t\t\t\t<ImportingRequestDialog\n\t\t\t\t\t\t\t\tlackingItems={[...lackingItems]}\n\t\t\t\t\t\t\t\tisVisible={this.state.isLackingItemsDialogVisible}\n\t\t\t\t\t\t\t\tsetLackingItemsDialogVisible={isVisible => this.setLackingItemsDialogVisible(isVisible)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<audio ref={ref => { this.soundRef = ref; }} src=\"\" controls autoPlay style={{ display: 'none' }} />\n\t\t\t\t\t\t\t<div className=\"money-counting__panel\">\n\t\t\t\t\t\t\t\t{this.state.isCheckoutDoneScreenVisible ? (\n\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__checkout-done\">\n\t\t\t\t\t\t\t\t\t\t<h1 className=\"money-counting__panel__checkout-done__title\">\n\t\t\t\t\t\t\t\t\t\t\tPhiên tính tiền đã hoàn tất\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t\t<CheckCircleOutlined className=\"money-counting__panel__checkout-done__icon\" />\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"money-counting__panel__checkout-done__btn-continue\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.continueToCheckout()}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tTiếp tục tính tiền\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : <></>}\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<Col span={6}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__left\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__left__header\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tshape=\"circle\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={<ArrowLeftOutlined />}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"money-counting__panel__left__header__btn-back\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.backToGettingStarted()}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__left__header__company\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img className=\"money-counting__panel__left__header__company__logo\" src={require('../../../../assets/images/app-logo.png')} alt=\"logo\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__left__header__company__brand\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__left__header__company__brand__name\"><span>Mini Mart</span></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__left__header__company__brand__slogan\"><span>Tiện Lợi mà Chất Lượng</span></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__left__product-scanning animated fadeIn\">\n\t\t\t\t\t\t\t\t\t\t\t\t<QrReader\n\t\t\t\t\t\t\t\t\t\t\t\t\tdelay={1500}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonError={error => this.handleError(error)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonScan={data => this.handleScan(data)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"money-counting__panel__left__product-scanning__scanner\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__left__product-details\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Row align=\"middle\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col span={21}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"money-counting__panel__left__product-details__title\">Thông tin quét mã</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col span={3} align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip title=\"Làm sạch\" placement=\"bottom\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tshape=\"circle\" icon={<ReloadOutlined />}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"money-counting__panel__left__product-details__btn-clear\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.clearScannedProduct()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t{isProductScanned ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Row gutter={20}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col span={8}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className=\"money-counting__panel__left__product-details__labels\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>Tên sản phẩm</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>Giá bán</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>Thể loại</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>Nhà phân phối</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Col span={16}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className=\"money-counting__panel__left__product-details__texts\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>{scannedProduct.name}</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<NumberFormat\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={scannedProduct.price}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayType=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthousandSeparator={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuffix=\" đ̲\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ fontWeight: 'bold' }} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>{scannedProduct.category.name}</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li>{scannedProduct.supplier.name}</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Empty\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\timage={Empty.PRESENTED_IMAGE_SIMPLE}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdescription=\"Chưa tìm thấy\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"money-counting__panel__left__product-details__empty\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t<Col span={18}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__right\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__right__header\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Row align=\"middle\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col span={12}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__right__header__title\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__right__header__title__icon-wrapper\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ShoppingCartOutlined className=\"money-counting__panel__right__header__title__icon-wrapper__icon\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__right__header__title__icon-wrapper__total-item\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{checkedOutProducts.length}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Giỏ hàng của khách</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col span={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__right__header__total-price\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"money-counting__panel__right__header__total-price__label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTổng tiền:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<NumberFormat\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={priceTotal}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayType=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthousandSeparator={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuffix=\" đ̲\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"money-counting__panel__right__header__total-price__price\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Col span={6}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SubmitCheckoutSessionDialog\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckedOutProducts={[...checkedOutProducts]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckoutSessionID={this.state.checkoutSessionID}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetCheckoutDoneScreenVisible={isVisible => this.setCheckoutDoneScreenVisible(isVisible)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetMainPanelOnWorking={onWorking => this.props.setMainPanelOnWorking(onWorking)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloadLackingItems={items => this.loadLackingItems(items)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetLackingItemsDialogVisible={isVisible => this.setLackingItemsDialogVisible(isVisible)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__right__shopping-cart\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"money-counting__panel__right__shopping-cart__list-products\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Table\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataSource={[...checkedOutProducts]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpagination={false}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscroll={{ y: 500 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocale={{ emptyText: (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"Giỏ hàng trống\" />) }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t</div>\n\t\t)\n\t}\n}\nexport default connect(null, actions)(withCookies(MoneyCounting));\n","export default {\n  STATUS: {\n    PENDING: {\n      type: 'PENDING',\n      name: 'Đang chờ duyệt'\n    },\n    ACCEPTED: {\n      type: 'ACCEPTED',\n      name: 'Đang thực hiện'\n    },\n    FINISHED: {\n      type: 'FINISHED',\n      name: 'Đã hoàn tất'\n    },\n    CANCELLED: {\n      type: 'CANCELLED',\n      name: 'Đã bị từ chối'\n    }\n  }\n}","import React from 'react';\nimport './ImportingRequestHistory.style.scss';\nimport { withCookies } from 'react-cookie';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../redux/actions';\nimport { MessageOutlined } from '@ant-design/icons';\nimport { Timeline, Empty, message } from 'antd';\nimport moment from 'moment';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport { API } from '../../../../constants/api.constant';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nimport IMPORTING_REQUEST from '../../../../constants/importing-request.constant';\n\nclass ImportingRequestHistory extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      importingRequests: [],\n      isLoading: true\n    }\n  }\n\n  componentDidMount() {\n    this.loadImportingRequests();\n  }\n\n  async loadImportingRequests() {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Cashier.Checkout.getImportingRequests,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.setState({ importingRequests: res.data.importingRequests, isLoading: false });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    const { importingRequests } = this.state;\n    return (\n      <div className=\"importing-request-history\">\n        <div className=\"importing-request-history__header\">\n          <div className=\"importing-request-history__header__title\">\n            <MessageOutlined className=\"importing-request-history__header__title__icon\" />\n            <span className=\"importing-request-history__header__title__text\">Yêu cầu nhập hàng</span>\n          </div>\n        </div>\n        {!this.state.isLoading ? (\n          <div className=\"importing-request-history__content animated slideInUp\">\n            <div className=\"importing-request-history__content__timeline\">\n              {importingRequests.length === 0 ? (\n                <div className=\"importing-request-history__content__timeline__empty\">\n                  <Empty description=\"Chưa có ghi nhận nào\" />\n                </div>\n              ) : (\n                  <Timeline mode=\"left\">\n                    {importingRequests.map(r => {\n                      return r.requiredProducts.length > 0 ? (\n                        <Timeline.Item\n                          key={r._id}\n                          label={r.createdAt ? moment(r.createdAt).format('DD-MM-YYYY HH:mm') : moment().format('DD-MM-YYYY HH:mm')}\n                          color=\"#ff8220\">\n                          <div className=\"importing-request-history__content__timeline__item animated fadeInRight\" style={{ animationDelay: '0.5s' }}>\n                            <p className=\"importing-request-history__content__timeline__item__list-products\">\n                              {r.requiredProducts.map((item, index) => {\n                                return index < r.requiredProducts.length - 1 ? (\n                                  <span key={index}>{`${item.product.name}, `}</span>\n                                ) : (\n                                    <span key={index}>{`${item.product.name}.`}</span>\n                                  )\n                              })}\n                            </p>\n                            <span style={{ color: 'rgba(0,0,0,0.4)' }}>\n                              Trạng thái:\n                              <span\n                                className={`importing-request-history__content__timeline__item__status --${r.status}`}\n                              >\n                                {IMPORTING_REQUEST.STATUS[r.status].name}\n                              </span>\n                            </span>\n                          </div>\n                        </Timeline.Item>\n                      ) : <></>\n                    })}\n                  </Timeline>\n                )}\n            </div>\n          </div>\n        ) : <></>}\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(ImportingRequestHistory));\n","import React from 'react';\nimport './TransactionHistory.style.scss';\nimport { withCookies } from 'react-cookie';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../redux/actions';\nimport { HistoryOutlined } from '@ant-design/icons';\nimport { Timeline, Empty, message } from 'antd';\nimport moment from 'moment';\nimport NumberFormat from 'react-number-format';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport { API } from '../../../../constants/api.constant';\nimport PageBase from '../../../utilities/PageBase/PageBase';\n\nclass TransactionHistory extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      checkoutSessions: [],\n      isLoading: true\n    }\n  }\n\n  componentDidMount() {\n    this.loadCheckoutSessions();\n  }\n\n  async loadCheckoutSessions() {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Cashier.Checkout.getCheckoutSessions,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.setState({ checkoutSessions: res.data.checkoutSessions, isLoading: false });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    const { checkoutSessions } = this.state;\n    return (\n      <div className=\"transaction-history\">\n        <div className=\"transaction-history__header\">\n          <div className=\"transaction-history__header__title\">\n            <HistoryOutlined className=\"transaction-history__header__title__icon\" />\n            <span className=\"transaction-history__header__title__text\">Lịch sử bán hàng</span>\n          </div>\n        </div>\n        {!this.state.isLoading ? (\n          <div className=\"transaction-history__content animated slideInUp\">\n            <div className=\"transaction-history__content__timeline\">\n              {checkoutSessions.length === 0 ? (\n                <div className=\"transaction-history__content__timeline__empty\">\n                  <Empty description=\"Chưa có ghi nhận nào\" />\n                </div>\n              ) : (\n                  <Timeline mode=\"left\">\n                    {checkoutSessions.map(cs => {\n                      return cs.soldItems.length > 0 ? (\n                        <Timeline.Item\n                          key={cs._id}\n                          label={cs.submittedAt ? moment(cs.submittedAt).format('DD-MM-YYYY HH:mm') : moment().format('DD-MM-YYYY HH:mm')}\n                          color=\"#ff8220\">\n                          <div className=\"transaction-history__content__timeline__item animated fadeInRight\" style={{ animationDelay: '0.5s' }}>\n                            <p className=\"transaction-history__content__timeline__item__list-products\">\n                              {cs.soldItems.map((item, index) => {\n                                return index < cs.soldItems.length - 1 ? (\n                                  <span key={index}>{`${item.product.name} x${item.quantity}, `}</span>\n                                ) : (\n                                    <span key={index}>{`${item.product.name} x${item.quantity}.`}</span>\n                                  )\n                              })}\n                            </p>\n                            <div className=\"transaction-history__content__timeline__item__price-total\">\n                              <span className=\"transaction-history__content__timeline__item__price-total__label\">\n                                Tổng tiền:\n                              </span>\n                              <NumberFormat\n                                className=\"transaction-history__content__timeline__item__price-total__number\"\n                                value={Number(cs.priceTotal)}\n                                displayType=\"text\"\n                                thousandSeparator={true}\n                                suffix=\" đ̲\"\n                                style={{ fontWeight: 'bold' }}\n                              />\n                            </div>\n                          </div>\n                        </Timeline.Item>\n                      ) : <span key={cs._id}></span>\n                    })}\n                  </Timeline>\n                )}\n            </div>\n          </div>\n        ) : <></>}\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(TransactionHistory));","import React from 'react';\nimport './CheckoutPanel.style.scss';\nimport { Menu, Modal, message } from 'antd';\nimport {\n  HistoryOutlined,\n  QrcodeOutlined,\n  ExclamationCircleOutlined,\n  MessageOutlined\n} from '@ant-design/icons';\nimport MoneyCounting from '../MoneyCounting/MoneyCounting';\nimport ImportingRequestHistory from '../ImportingRequestHistory/ImportingRequestHistory';\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\nimport { connect } from 'react-redux';\nimport { API } from '../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport * as actions from '../../../../redux/actions';\nimport { withCookies } from 'react-cookie';\nimport PageBase from '../../../utilities/PageBase/PageBase';\n\nconst navbarMenuItems = [\n  {\n    key: '1',\n    title: 'Tính tiền cho khách',\n    icon: QrcodeOutlined\n  },\n  {\n    key: '2',\n    title: 'Yêu cầu nhập hàng',\n    icon: MessageOutlined\n  },\n  {\n    key: '3',\n    title: 'Lịch sử bán hàng',\n    icon: HistoryOutlined\n  }\n];\n\nconst { confirm } = Modal;\n\nclass CheckoutPanel extends PageBase {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      collapsed: false,\n      selectedMenuItem: { ...navbarMenuItems[0] },\n      onWorking: false,\n      checkoutSessionID: ''\n    }\n  }\n\n  toggleCollapsed = () => {\n    this.setState({\n      collapsed: !this.state.collapsed,\n    });\n  };\n\n  setCheckoutSessionID(id) {\n    this.setState({ checkoutSessionID: id });\n  }\n\n  handleSelectMenuItem(e) {\n    const { key } = e;\n\n    if (key === this.state.selectedMenuItem.key)\n      return;\n\n    if (!this.state.onWorking) {\n      this.setState({ selectedMenuItem: navbarMenuItems.find(item => item.key === key) });\n      return;\n    }\n\n    const that = this;\n    confirm({\n      title: `Đang thao tác, bạn có muốn rời khỏi?`,\n      icon: <ExclamationCircleOutlined />,\n      content: '',\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      onOk() {\n        that.cancelCheckoutSession(key);\n      }\n    });\n  }\n\n  setOnWorking(onWorking) {\n    this.setState({ onWorking });\n  }\n\n  async cancelCheckoutSession(key) {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Cashier.Checkout.cancelCheckoutSession.replace('{checkoutSessionID}', this.state.checkoutSessionID),\n          {\n            method: 'DELETE',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.setState({\n        selectedMenuItem: navbarMenuItems.find(item => item.key === key),\n        onWorking: false,\n        checkoutSessionID: ''\n      });\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    const { selectedMenuItem } = this.state;\n    return (\n      <div className=\"checkout-panel\">\n        <div className=\"checkout-panel__main-board\">\n          <div className=\"checkout-panel__main-board__navbar\">\n            <Menu\n              defaultSelectedKeys={['1']}\n              mode=\"inline\"\n              theme=\"dark\"\n              inlineCollapsed={true}\n              onClick={e => this.handleSelectMenuItem(e)}\n            >\n              {navbarMenuItems.map(item => (\n                <Menu.Item key={item.key}\n                  className={`checkout-panel__main-board__navbar__item animated fadeIn ${selectedMenuItem.key === item.key ?\n                    'checkout-panel__main-board__navbar__item--selected' : ''}`}\n                >\n                  <item.icon className=\"checkout-panel__main-board__navbar__item__icon\" />\n                  <span>{item.title}</span>\n                </Menu.Item>\n              ))}\n            </Menu>\n          </div>\n          <div className=\"checkout-panel__main-board__content\">\n            {selectedMenuItem.key === '1' ? (\n              <MoneyCounting\n                setCheckoutPanelOnWorking={onWorking => this.setOnWorking(onWorking)}\n                setCheckoutPanelCheckoutSessionID={checkoutSessionID => this.setCheckoutSessionID(checkoutSessionID)}\n                setMainPanelOnWorking={onWorking => this.setOnWorking(onWorking)}\n              />\n            ) : <></>}\n\n            {selectedMenuItem.key === '2' ? (\n              <ImportingRequestHistory />\n            ) : <></>}\n\n            {selectedMenuItem.key === '3' ? (\n              <TransactionHistory />\n            ) : <></>}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(CheckoutPanel));","import React, { Component } from 'react';\nimport { Upload, message, Tooltip, Avatar } from 'antd';\nimport { LoadingOutlined, PictureOutlined } from '@ant-design/icons';\nimport './ImageUploader.style.scss'\n\nexport default class ImageUpload extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      imageUrl: ''\n    }\n  }\n\n  getBase64(img, callback) {\n    const reader = new FileReader();\n    reader.addEventListener('load', () => callback(reader.result));\n    reader.readAsDataURL(img);\n  }\n\n  beforeUpload(file) {\n    const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n    if (!isJpgOrPng) {\n      message.error('Chỉ cho phép ảnh có định dạng *.jpeg hoặc *.png');\n    }\n    const isLt2M = file.size / 1024 / 1024 < 2;\n    if (!isLt2M) {\n      message.error('Kích thước ảnh quá lớn');\n    }\n    return isJpgOrPng && isLt2M;\n  }\n\n  handleChange = info => {\n    if (info.file.status === 'uploading') {\n      this.setState({ loading: true });\n      return;\n    }\n    if (info.file.status === 'done') {\n      // Get this url from response in real world.\n      this.getBase64(info.file.originFileObj, imageUrl => {\n        this.props.onFinish(imageUrl);\n        this.setState({\n          imageUrl,\n          loading: false\n        });\n      });\n    }\n  };\n\n  componentWillReceiveProps(props) {\n    this.setState({ imageUrl: props.clearImage ? '' : this.state.imageUrl });\n  }\n\n  render() {\n    let { defaultImageUrl, width, height, tooltipTitle, tooltipPlacement, isAvatar } = this.props;\n    let { imageUrl } = this.state;\n\n    const uploadedImage = (\n      <div>\n        {defaultImageUrl ? (\n          <Tooltip title={tooltipTitle} placement={tooltipPlacement}>\n            <div\n              className=\"image-uploader__default-img\"\n              style={{ width, height }}>\n              {isAvatar ? (\n                <Avatar\n                  src={defaultImageUrl}\n                  size={width}\n                />\n              ) : (\n                  <img src={defaultImageUrl} alt=\"default\" />\n                )}\n            </div>\n          </Tooltip>\n        ) : (\n            <div className=\"image-uploader--empty\" style={{ width, height }}>\n              <PictureOutlined />\n              <span className=\"image-uploader--empty__text\">Tải ảnh lên</span>\n            </div>\n          )}\n      </div>\n    );\n\n    const uploadButton = (\n      <div style={{ width, height }} className=\"image-uploader__btn-upload\">\n        {\n          this.state.loading ? (\n            <LoadingOutlined />\n          ) : uploadedImage\n        }\n      </div>\n    );\n\n    return (\n      <div className=\"image-uploader\" style={{ width, height }}>\n        <Upload\n          name=\"avatar\"\n          listType=\"picture-card\"\n          showUploadList={false}\n          action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n          beforeUpload={e => this.beforeUpload(e)}\n          onChange={e => this.handleChange(e)}\n        >\n          {imageUrl ? (\n            <Tooltip title={tooltipTitle} placement={tooltipPlacement}>\n              <div\n                className=\"image-uploader__uploaded-img\"\n                style={{ width, height }}>\n                {isAvatar ? (\n                  <Avatar\n                    src={imageUrl}\n                    size={width}\n                  />\n                ) : (\n                    <img src={imageUrl} alt=\"uploaded\" />\n                  )}\n              </div>\n            </Tooltip>\n          ) : uploadButton}\n        </Upload>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport './AddProductDialog.style.scss';\nimport { withCookies } from 'react-cookie';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../../redux/actions';\nimport { Button, Modal, Form, Input, InputNumber, message, Select } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport ImageUploader from '../../../../utilities/ImageUploader/ImageUploader';\nimport { API } from '../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\n\nconst layout = {\n  labelCol: { span: 7 },\n  wrapperCol: { span: 17 },\n};\n\nclass AddProductDialog extends PageBase {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false\n    }\n\n    this.formRef = React.createRef();\n  }\n\n  setDialogVisible(isVisible) {\n    if (this.formRef.current) {\n      this.formRef.current.resetFields();\n    }\n    this.setState({ isVisible });\n  }\n\n  onOK() {\n    document.getElementById('product-management-add-product-dialog-btn-submit').click();\n  }\n\n  async onFinish(values) {\n    try {\n      this.props.setAppLoading(true);\n      const params = {\n        image: values.image,\n        name: values.name,\n        supplierID: values.supplier,\n        categoryID: this.props.selectedCategory._id,\n        price: values.price,\n        availableQuantity: values.availableQuantity\n      }\n      const res = await (\n        await fetch(\n          API.Importer.ProductManagement.addProduct,\n          {\n            method: 'POST',\n            body: JSON.stringify(params),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      const { product } = res.data;\n      this.setDialogVisible(false);\n      this.props.addToListProducts({ ...product });\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    const { selectedCategory } = this.props;\n    return (\n      <div className=\"product-management__add-product-dialog\">\n        <Button\n          shape=\"circle\"\n          icon={<PlusOutlined />}\n          className=\"product-management__add-product-dialog__btn-open animated bounceIn\"\n          onClick={() => this.setDialogVisible(true)}\n        />\n\n        <Modal\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>{`Danh mục: ${selectedCategory.name} | Sản phẩm mới`}</span>}\n          visible={this.state.isVisible}\n          onOk={() => this.onOK()}\n          onCancel={() => this.setDialogVisible(false)}\n          okText=\"Thêm\"\n          cancelText=\"Hủy bỏ\"\n          okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n        >\n          <div className=\"product-management__add-product-dialog__content\">\n            <div className=\"product-management__add-product-dialog__content__img-uploading\">\n              <ImageUploader\n                width={150}\n                height={150}\n                tooltipTitle=\"Nhấn để thay đổi ảnh\"\n                tooltipPlacement=\"bottom\"\n                onFinish={imageUrl => this.formRef.current.setFieldsValue({ image: imageUrl })}\n                clearImage={!this.state.isVisible}\n              />\n            </div>\n            <Form\n              {...layout}\n              ref={current => {\n                this.formRef.current = current;\n                if (this.formRef.current) {\n                  this.formRef.current.setFieldsValue({ supplier: this.props.suppliers[0]._id })\n                }\n              }}\n              className=\"product-management__add-product-dialog__content__form\"\n              onFinish={values => this.onFinish(values)}\n              onFinishFailed={() => message.error('Thông tin sản phẩm chưa đầy đủ, vui lòng kiểm tra lại.')}\n            >\n              <Form.Item name=\"image\" rules={[{ required: true }]} style={{ display: 'none' }}>\n                <Input />\n              </Form.Item>\n\n              <Form.Item style={{ display: 'none' }}>\n                <Button id=\"product-management-add-product-dialog-btn-submit\" htmlType=\"submit\" />\n              </Form.Item>\n\n              <Form.Item\n                name=\"name\"\n                label=\"Tên sản phẩm\"\n                rules={[{ required: true, message: 'Vui lòng nhập tên sản phẩm' }]}\n              >\n                <Input placeholder=\"Tối đa 50 kí tự\" />\n              </Form.Item>\n\n              <Form.Item\n                name=\"supplier\"\n                label=\"Nhà cung cấp\"\n                rules={[{ required: true }]}\n              >\n                <Select>\n                  {this.props.suppliers.map(s => (\n                    <Select.Option value={s._id} key={s._id}>{s.name}</Select.Option>\n                  ))}\n                </Select>\n              </Form.Item>\n\n              <Form.Item\n                name=\"price\"\n                label=\"Giá bán (đ̲)\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Vui lòng nhập giá bán'\n                  }\n                ]}\n              >\n                <InputNumber\n                  placeholder=\"Tối thiểu là 0\"\n                  formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                  parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\n                />\n              </Form.Item>\n\n              <Form.Item\n                name=\"availableQuantity\"\n                label=\"Số lượng hiện có\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Vui lòng nhập số lượng hiện có'\n                  }\n                ]}\n              >\n                <InputNumber\n                  placeholder=\"Tối thiểu là 0\"\n                  formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                  parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\n                />\n              </Form.Item>\n\n            </Form>\n          </div>\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(AddProductDialog));\n\n\n","import React from 'react';\nimport { withCookies } from 'react-cookie';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../../redux/actions';\nimport './AddCategoryDialog.style.scss';\nimport { Modal, Form, Input, Button, message } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport { API } from '../../../../../constants/api.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\n\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 18 },\n};\n\nclass AddCategoryDialog extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false\n    }\n    this.formRef = React.createRef();\n  }\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  onOk() {\n    document.getElementById('add-category-dialog-btn-submit').click();\n  }\n\n  async onFinish(values) {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Importer.ProductManagement.addCategory,\n          {\n            method: 'POST',\n            body: JSON.stringify(values),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.props.addToListCategories(res.data.category);\n      this.setDialogVisible(false);\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"product-management__add-category-dialog\">\n        <div className=\"product-management__add-category-dialog__btn-open-wrapper\">\n          <Button\n            icon={<PlusOutlined />}\n            className=\"product-management__add-category-dialog__btn-open-wrapper__btn animated fadeIn\"\n            onClick={() => this.setDialogVisible(true)} />\n        </div>\n\n        <Modal\n          className=\"product-management__add-category-dialog__content\"\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>Danh mục mới</span>}\n          centered\n          visible={this.state.isVisible}\n          onOk={() => this.onOk()}\n          onCancel={() => {\n            this.setDialogVisible(false);\n            if (this.formRef.current) {\n              this.formRef.current.resetFields();\n            }\n          }}\n          okText=\"Thêm\"\n          cancelText=\"Hủy bỏ\"\n          okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n        >\n          <Form\n            {...layout}\n            ref={current => this.formRef.current = current}\n            onFinish={values => this.onFinish(values)}\n            onFinishFailed={() => message.error('Chưa nhập đầy đủ thông tin, vui lòng kiểm tra lại.')}\n          >\n            <Form.Item\n              name=\"name\"\n              label=\"Tên danh mục\"\n              rules={[{ required: true, message: 'Vui lòng nhập tên danh mục' }]}\n            >\n              <Input placeholder=\"Tối đa 30 kí tự\" autoFocus={true} />\n            </Form.Item>\n            <Form.Item style={{ display: 'none' }}>\n              <Button id=\"add-category-dialog-btn-submit\" htmlType=\"submit\" />\n            </Form.Item>\n          </Form>\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(AddCategoryDialog));","import React from 'react';\nimport { withCookies } from 'react-cookie';\nimport { connect } from 'react-redux';\nimport { Modal, Form, Input, Button, message } from 'antd';\nimport './EditCategoryDialog.style.scss';\nimport * as actions from '../../../../../redux/actions';\nimport { API } from '../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\n\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 18 },\n};\n\nclass EditCategoryDialog extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false\n    }\n    this.formRef = React.createRef();\n  }\n\n  setDialogVisible(isVisible) {\n    if (!isVisible && this.formRef.current) {\n      this.formRef.current.resetFields();\n    }\n    this.setState({ isVisible });\n  }\n\n  onOk() {\n    document.getElementById('edit-category-dialog-btn-submit').click();\n  }\n\n  async onFinish(values) {\n    try {\n      this.props.setAppLoading(false);\n      const res = await (\n        await fetch(\n          API.Importer.ProductManagement.updateCategory.replace('{categoryID}', this.props.category._id),\n          {\n            method: 'PUT',\n            body: JSON.stringify(values),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      const { category } = this.props;\n      category.name = values.name;\n      this.props.updateCategoryInList(category);\n      this.setDialogVisible(false);\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    const { category } = this.props;\n    return (\n      <div className=\"product-management__edit-category-dialog\">\n        <Button\n          type=\"link\"\n          className=\"product-management__edit-category-dialog__btn-open\"\n          onClick={() => this.setDialogVisible(true)}\n        >Chỉnh sửa</Button>\n        <Modal\n          className=\"product-management__edit-category-dialog__content\"\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>{`Danh mục: ${category.name} | Sửa thông tin`}</span>}\n          centered\n          visible={this.state.isVisible}\n          onOk={() => this.onOk()}\n          onCancel={() => this.setDialogVisible(false)}\n          okText=\"Lưu thay đổi\"\n          cancelText=\"Hủy bỏ\"\n          okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n        >\n          <Form\n            {...layout}\n            ref={current => {\n              this.formRef.current = current;\n              if (this.formRef.current) {\n                this.formRef.current.setFieldsValue({\n                  name: this.props.category.name\n                });\n              }\n            }}\n            onFinish={values => this.onFinish(values)}\n            onFinishFailed={() => message.error('Chưa nhập đầy đủ thông tin, vui lòng kiểm tra lại.')}\n          >\n            <Form.Item\n              name=\"name\"\n              label=\"Tên danh mục\"\n              rules={[{ required: true, message: 'Vui lòng nhập tên danh mục' }]}\n            >\n              <Input placeholder=\"Tối đa 30 kí tự\" autoFocus={true} />\n            </Form.Item>\n            <Form.Item style={{ display: 'none' }}>\n              <Button id=\"edit-category-dialog-btn-submit\" htmlType=\"submit\" />\n            </Form.Item>\n          </Form>\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(EditCategoryDialog));\n","import secret from '../config/secret';\n\nexport default {\n  API_KEY: secret.GOOGLE_MAPS_API_KEY,\n  GEOCODING: {\n    LANGUAGE: 'en',\n    REGION: ''\n  }\n}","import React, { Component } from 'react';\nimport Geocode from \"react-geocode\";\nimport GoogleMapReact from 'google-map-react';\nimport './GoogleMap.style.scss';\nimport { Tooltip } from 'antd';\nimport GOOGLE_MAPS from '../../../constants/google-maps.constant';\n\nconst defaultLocation = { lat: 0, lng: 0 };\nconst defaultAddress = 'Unknown';\n\nconst LocationIndicator = ({ icon, text }) => (\n  <div className=\"google-map__location-icon\">\n    <Tooltip title={text} placement=\"right\">\n      {icon}\n    </Tooltip>\n  </div>\n);\n\n/**\n * REMEMBER: Enable Geocoding API from Google Cloud Flatform\n */\nexport default class GoogleMap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      address: defaultAddress,\n      location: defaultLocation\n    }\n  }\n\n  componentWillMount() {\n    this.loadData({ ...this.props });\n  }\n\n  componentWillReceiveProps(props) {\n    this.loadData({ ...props });\n  }\n\n  async loadData(props) {\n    try {\n      const { address } = props;\n      const location = await this.getAddressLocation(address);\n      this.setState({\n        address: address || defaultAddress,\n        location\n      });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async getAddressText(latitude, longitude) {\n    try {\n      const res = await Geocode.fromLatLng(\n        latitude,\n        longitude,\n        GOOGLE_MAPS.API_KEY,\n        GOOGLE_MAPS.GEOCODING.LANGUAGE,\n        GOOGLE_MAPS.GEOCODING.REGION\n      );\n      return res.results[0].formatted_address;\n    } catch (error) {\n      return defaultAddress;\n    }\n  }\n\n  async getAddressLocation(address) {\n    try {\n      if (!address)\n        return defaultLocation;\n\n      const res = await Geocode.fromAddress(\n        address,\n        GOOGLE_MAPS.API_KEY,\n        GOOGLE_MAPS.GEOCODING.LANGUAGE,\n        GOOGLE_MAPS.GEOCODING.REGION\n      );\n      return res.results[0].geometry.location;\n    } catch (error) {\n      return defaultLocation;\n    }\n  }\n\n  render() {\n    const { width, height, locationIcon } = this.props;\n    const { location, address } = this.state;\n\n    return (\n      <div className=\"google-map\" style={{ width, height }}>\n        <GoogleMapReact\n          bootstrapURLKeys={GOOGLE_MAPS.API_KEY}\n          center={location}\n          defaultZoom={15}\n        >\n          <LocationIndicator\n            lat={location.lat}\n            lng={location.lng}\n            icon={locationIcon}\n            text={address}\n          />\n        </GoogleMapReact>\n      </div>\n    )\n  }\n}","import React, { Component } from 'react';\nimport { Popover, Button, Row, Col } from 'antd';\nimport './SupplierContactPopover.style.scss';\nimport GoogleMap from '../GoogleMap/GoogleMap';\nimport { EnvironmentTwoTone } from '@ant-design/icons';\n\nexport default class SupplierContactPopover extends Component {\n  render() {\n    const { supplier, buttonText, buttonStyle, placement } = this.props;\n    const content = (\n      <div className=\"supplier-contact-popover__content\">\n        <Row style={{ width: '100%' }} gutter={15}>\n          <Col span={8}>Thương hiệu</Col>\n          <Col span={16}><strong>{supplier.name}</strong></Col>\n        </Row>\n        <Row style={{ width: '100%' }} gutter={15}>\n          <Col span={8}>Số điện thoại</Col>\n          <Col span={16}>{supplier.phone}</Col>\n        </Row>\n        <Row style={{ width: '100%' }} gutter={15}>\n          <Col span={8}>Địa chỉ</Col>\n          <Col span={16}>{supplier.address}</Col>\n        </Row>\n        <GoogleMap\n          width={'100%'}\n          height={200}\n          address={supplier.address}\n          locationIcon={\n            <EnvironmentTwoTone\n              twoToneColor=\"#ff8220\"\n              style={{ fontSize: 24 }}\n            />\n          }\n        />\n      </div>\n    )\n    return (\n      <div className=\"supplier-contact-popover\">\n        <Popover\n          placement={placement}\n          title=\"Liên hệ nhà cung cấp\"\n          content={content} trigger=\"click\"\n          overlayClassName=\"supplier-contact-popover__popover\"\n        >\n          <Button\n            type=\"link\"\n            style={{ ...buttonStyle, paddingLeft: 0 }}\n            className=\"supplier-contact-popover__btn\"\n          >\n            {buttonText}\n          </Button>\n        </Popover>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Modal, Row, Col, Table, Progress } from 'antd';\nimport './ImportingAssignmentDialog.style.scss';\nimport moment from 'moment';\nimport NumberFormat from 'react-number-format';\nimport IMPORTING_REQUEST from '../../../../../constants/importing-request.constant';\nimport * as _ from 'lodash';\nimport SupplierContactPopover from '../../../../utilities/SupplierContactPopover/SupplierContactPopover';\n\nexport default class ImportingAssignmentDialog extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false\n    }\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({ isVisible: props.isVisible });\n  }\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  render() {\n    const { data } = this.props;\n    const importedProducts = data.importedProducts.map((p, i) => ({ ...p, key: i }));\n    const columns = [\n      {\n        title: 'Sản phẩm',\n        dataIndex: 'product',\n        key: 'product',\n        width: 200,\n        render: (value, record) => (\n          <div>\n            <img src={record.product.image} alt=\"product\" style={{ width: 20, margin: 15 }} />\n            <span>{record.product.name}</span>\n          </div>\n        )\n      },\n      {\n        title: 'Nhà cung cấp',\n        dataIndex: 'supplier',\n        key: 'supplier',\n        width: 200,\n        render: (value, record) => (\n          <SupplierContactPopover\n            supplier={{ ...record.product.supplier }}\n            buttonText={record.product.supplier.name}\n            buttonStyle={{ fontSize: 11 }}\n            placement=\"right\"\n          />\n        )\n      },\n      {\n        title: 'Giá bán',\n        dataIndex: 'price',\n        key: 'price',\n        width: 100,\n        render: (value, record) => (\n          <NumberFormat\n            value={record.product.price}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n            style={{ fontWeight: 'bold' }}\n          />\n        )\n      },\n      {\n        title: <center>SL yêu cầu</center>,\n        dataIndex: 'requiredQuantity',\n        key: 'requiredQuantity',\n        width: 100,\n        render: (value, record) => <center>{record.requiredQuantity}</center>\n      },\n      {\n        title: <center>SL đã nhập</center>,\n        dataIndex: 'importedQuantity',\n        key: 'importedQuantity',\n        width: 100,\n        render: (value, record) => <center>{record.importedQuantity}</center>\n      }\n    ];\n    const importedQuantityTotal = importedProducts.reduce((acc, cur) => acc + cur.importedQuantity, 0);\n    const requiredQuantityTotal = importedProducts.reduce((acc, cur) => acc + cur.requiredQuantity, 0);\n    const importedPriceTotal = importedProducts.reduce((acc, cur) => acc + (cur.importedQuantity * cur.product.price), 0);\n\n    return (\n      <Modal\n        className=\"importing-assignment-dialog\"\n        title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>Yêu cầu nhập hàng</span>}\n        visible={this.state.isVisible}\n        footer={null}\n        onCancel={() => {\n          this.setDialogVisible(false);\n          this.props.setImportingAssignmentDialogVisible(false);\n        }}\n      >\n        <Row style={{ width: '100%' }}>\n          <Col span={7}>\n            <ul className=\"importing-assignment-dialog__labels\">\n              <li>Người bàn giao</li>\n              <li>Bàn giao lúc</li>\n              <li>Trạng thái</li>\n              <li>Mức độ hoàn thành</li>\n              <li>Tổng chi phí nhập hàng</li>\n              <li>Tổng sản phẩm cần nhập</li>\n            </ul>\n          </Col>\n          <Col span={17}>\n            <ul className=\"importing-assignment-dialog__values\">\n              <li><strong>{data.manager.fullname}</strong></li>\n              <li>{moment(data.createdAt).format('HH:mm DD-MM-YYYY')}</li>\n              <li><span className=\"importing-assignment-dialog__values__status\">{IMPORTING_REQUEST.STATUS.ACCEPTED.name}</span></li>\n              <li>\n                <Progress\n                  strokeColor=\"#ff8220\"\n                  percent={_.round((importedQuantityTotal / requiredQuantityTotal) * 100, 0)} status=\"active\"\n                />\n              </li>\n              <li>\n                <strong>\n                  <NumberFormat\n                    value={importedPriceTotal}\n                    displayType=\"text\"\n                    thousandSeparator={true}\n                    suffix=\" / \"\n                  />\n                  <NumberFormat\n                    value={data.priceTotal}\n                    displayType=\"text\"\n                    thousandSeparator={true}\n                    suffix=\" đ̲\"\n                  />\n                </strong>\n              </li>\n              <li>\n                <span style={{ marginRight: 3 }}>{importedQuantityTotal}</span>/\n                  <span style={{ marginLeft: 3 }}>{requiredQuantityTotal}</span>\n              </li>\n            </ul>\n          </Col>\n        </Row>\n\n        <div className=\"importing-assignment-dialog__products\">\n          <Table\n            dataSource={importedProducts}\n            columns={columns}\n            pagination={false}\n            scroll={{ y: 250 }}\n          />\n        </div>\n      </Modal>\n    )\n  }\n}\n","export default {\n  ADD: {\n    type: 'ADD',\n    name: 'Thêm sản phẩm'\n  },\n  UPDATE: {\n    type: 'UPDATE',\n    name: 'Cập nhật sản phẩm'\n  },\n  REMOVE: {\n    type: 'REMOVE',\n    name: 'Xóa sản phẩm'\n  }\n}","import React from 'react';\nimport { Popover, Button } from 'antd';\nimport { HistoryOutlined } from '@ant-design/icons';\nimport { withCookies } from 'react-cookie';\nimport { API } from '../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport './ProductActionHistory.style.scss';\nimport PRODUCT_ACTION_TYPES from '../../../../../constants/product-action-type.constant';\nimport moment from 'moment';\n\nclass ProductActionHistory extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      logs: [],\n      isLoading: true\n    }\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  async loadData() {\n    const res = await (\n      await fetch(\n        API.Importer.ProductManagement.getProductActionLogs,\n        {\n          method: 'GET',\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n            'token': this.props.cookies.get(COOKIE_NAMES.token)\n          },\n          signal: this.abortController.signal\n        }\n      )\n    ).json();\n    this.setState({ logs: res.data.productActionLogs, isLoading: false });\n  }\n\n  render() {\n    if (this.state.isLoading)\n      return <></>;\n\n    let { logs } = this.state;\n    logs.sort((a, b) => {\n      const d1 = new Date(a.createdAt).getTime();\n      const d2 = new Date(b.createdAt).getTime();\n      return d2 - d1;\n    });\n    const title = <span>Lịch sử thao tác</span>;\n    const content = (\n      <div className=\"product-action-logs\">\n        {logs.map((l, i) => (\n          <div\n            key={i}\n            className=\"product-action-logs__item\"\n          >\n            <p className=\"product-action-logs__item__content\">\n              {PRODUCT_ACTION_TYPES[l.actionType].name} <strong>{l.product.name}</strong>\n            </p>\n            <span className=\"product-action-logs__item__time\">Vào lúc {moment(l.createdAt).format('HH:mm DD-MM-YYYY')}</span>\n          </div>\n        ))}\n      </div>\n    );\n\n    return (\n      <Popover\n        overlayClassName=\"product-action-logs__content\"\n        placement=\"bottomRight\"\n        title={title}\n        content={content}\n        trigger=\"hover\"\n      >\n        <Button\n          shape=\"circle\"\n          icon={<HistoryOutlined />}\n          className=\"product-management__container__topbar__btn\"\n        />\n      </Popover>\n    )\n  }\n}\nexport default withCookies(ProductActionHistory);","import React from 'react';\nimport './ProductManagement.style.scss';\nimport { Row, Col, Input, List, Button, Table, Form, message, InputNumber, Modal, Empty, Dropdown, Select, Menu } from 'antd';\nimport { SearchOutlined, CloseOutlined, BellFilled, ExclamationCircleOutlined, EditOutlined } from '@ant-design/icons';\nimport moment from 'moment';\nimport ImageUploader from '../../../utilities/ImageUploader/ImageUploader';\nimport * as _ from 'lodash';\nimport { withCookies } from 'react-cookie';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../redux/actions';\nimport AddProductDialog from './AddProductDialog/AddProductDialog';\nimport AddCategoryDialog from './AddCategoryDialog/AddCategoryDialog';\nimport { API } from '../../../../constants/api.constant';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport { sortByCreatedAt } from '../../../../services/collection-sorting.service';\nimport EditCategoryDialog from './EditCategoryDialog/EditCategoryDialog';\nimport QRCode from 'qrcode.react';\nimport NumberFormat from 'react-number-format';\nimport ImportingAssignmentDialog from './ImportingAssignmentDialog/ImportingAssignmentDialog';\nimport ProductActionHistory from './ProductActionHistory/ProductActionHistory';\nimport SupplierContactPopover from '../../../utilities/SupplierContactPopover/SupplierContactPopover';\n\nconst { confirm } = Modal;\n\nconst layout = {\n  labelCol: { span: 9 },\n};\n\nclass ProductManagement extends PageBase {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isProductDetailsPanelShown: false,\n      selectedProduct: {},\n      selectedCategory: {},\n      products: [],\n      productSearchText: '',\n      filteredProducts: [],\n      categories: [],\n      categorySearchText: '',\n      filteredCategories: [],\n      suppliers: [],\n      isLoading: true,\n      importerAssignments: [],\n      isImportingAssignmentDialogVisible: false,\n      importedProducts: []\n    }\n\n    this.productDetailsFormRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  async loadData() {\n    try {\n      this.props.setAppLoading(true);\n      const results = await Promise.all([\n        this.loadCategories(),\n        this.loadSuppliers(),\n        this.loadImporterAssignments()\n      ]);\n      this.props.setAppLoading(false);\n\n      //Category\n      const categories = results[0];\n      let { selectedCategory } = this.state;\n      selectedCategory = categories.length > 0 ? { ...categories[0] } : {};\n      this.loadCategoryProducts(selectedCategory);\n\n      //Supplier\n      const suppliers = results[1];\n\n      //Importer Assignment\n      const importerAssignments = results[2];\n      const importedProducts = importerAssignments.length === 0 ? [] : importerAssignments[0].importedProducts.map(item => item);\n\n      this.setState({\n        categories,\n        filteredCategories: categories,\n        selectedCategory,\n        suppliers,\n        selectedSupplier: suppliers.length > 0 ? { ...suppliers[0] } : {},\n        isLoading: false,\n        importerAssignments,\n        importedProducts\n      });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async loadSuppliers() {\n    try {\n      const res = await (\n        await fetch(\n          API.Importer.ProductManagement.getSuppliers,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status !== 200) {\n        return Promise.reject(res.errors[0]);\n      }\n\n      return Promise.resolve(res.data.suppliers);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async loadCategories() {\n    try {\n      const res = await (\n        await fetch(\n          API.Importer.ProductManagement.getCategories,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status !== 200) {\n        return Promise.reject(res.errors[0]);\n      }\n\n      return Promise.resolve(res.data.categories);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async loadImporterAssignments() {\n    try {\n      const res = await (\n        await fetch(\n          API.Importer.ImporterAssignmentManagement.getImporterAssignments,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status !== 200) {\n        return Promise.reject(res.errors[0]);\n      }\n\n      return Promise.resolve(res.data.importerAssignments);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  loadCategoryProducts(category) {\n    this.onProductSearchInputChange(this.state.productSearchText, category.products);\n    this.setState({ products: category.products, selectedCategory: { ...category } });\n  }\n\n  toggleProductDetailsPanel(isToggled) {\n    this.setState({ isProductDetailsPanelShown: isToggled });\n  }\n\n  handleSelectProduct(product) {\n    this.setState({ selectedProduct: this.state.products.find(p => p._id === product._id) });\n    this.toggleProductDetailsPanel(true);\n  }\n\n  handleSelectCategory(category) {\n    if (category._id !== this.state.selectedCategory._id) {\n      this.loadCategoryProducts(category);\n      this.setState({ selectedCategory: category });\n    }\n  }\n\n  updateCategoryInList(category) {\n    const { categories } = this.state;\n    const index = _.findIndex(categories, p => p._id === category._id);\n    categories[index] = { ...category };\n\n    const text = this.state.categorySearchText;\n    let { filteredCategories, selectedCategory } = this.state;\n    if (!text) {\n      filteredCategories = [...categories];\n    } else {\n      filteredCategories = categories.filter(c => c.name.toLowerCase().includes(text.toLowerCase()));\n    }\n\n    selectedCategory = { ...category }\n    this.loadCategoryProducts(selectedCategory);\n\n    this.setState({\n      filteredCategories,\n      selectedCategory,\n      categories\n    });\n  }\n\n  async updateProductDetails(values) {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Importer.ProductManagement.updateProduct.replace('{productID}', this.state.selectedProduct._id),\n          {\n            method: 'PUT',\n            body: JSON.stringify(values),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      let { products, selectedProduct, selectedCategory } = this.state;\n      selectedProduct = { ...res.data.product };\n\n      const index = _.findIndex(products, p => p._id === selectedProduct._id);\n      if (index >= 0) {\n        products[index] = { ...selectedProduct };\n      }\n\n      selectedCategory.products = products;\n      this.loadCategoryProducts(selectedCategory);\n      this.setState({ selectedProduct });\n\n      if (res.data.isImporterAssignmentUpdated) {\n        this.reloadImporterAssignments(res.messages[0]);\n      } else {\n        message.success(res.messages[0]);\n      }\n    } catch (error) {\n      return error;\n    }\n  }\n\n  openRemoveProductDialog() {\n    const that = this;\n    const { selectedProduct } = this.state;\n    confirm({\n      title: `Bạn muốn xóa sản phẩm ${selectedProduct.name}?`,\n      icon: <ExclamationCircleOutlined />,\n      content: '',\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      async onOk() {\n        try {\n          that.props.setAppLoading(false);\n          const res = await (\n            await fetch(\n              API.Importer.ProductManagement.removeProduct.replace('{productID}', selectedProduct._id),\n              {\n                method: 'DELETE',\n                headers: {\n                  'Content-type': 'application/json; charset=UTF-8',\n                  'token': that.props.cookies.get(COOKIE_NAMES.token)\n                },\n                signal: that.abortController.signal\n              }\n            )\n          ).json();\n\n          that.props.setAppLoading(false);\n          if (res.status !== 200) {\n            message.error(res.errors[0]);\n            return;\n          }\n\n          let { products, selectedCategory } = that.state;\n          products = products.filter(p => p._id !== selectedProduct._id);\n          selectedCategory.products = products;\n          that.loadCategoryProducts(selectedCategory);\n          that.toggleProductDetailsPanel(false);\n          message.success(res.messages[0]);\n        } catch (error) {\n          return error;\n        }\n      },\n      onCancel() { },\n    });\n  }\n\n  addToListProducts(product) {\n    let { products, selectedCategory } = this.state;\n    products.push(product);\n    selectedCategory.products = products;\n    this.loadCategoryProducts(selectedCategory);\n  }\n\n  addToListCategories(category) {\n    let { filteredCategories, selectedCategory } = this.state;\n    filteredCategories.push({ ...category });\n    sortByCreatedAt(filteredCategories);\n    selectedCategory = filteredCategories.length > 0 ? filteredCategories[filteredCategories.length - 1] : {};\n    this.loadCategoryProducts(selectedCategory);\n    this.setState({\n      filteredCategories,\n      selectedCategory\n    });\n  }\n\n  onCategorySearchInputChange(text, categories) {\n    let { filteredCategories, selectedCategory } = this.state;\n    if (!text) {\n      filteredCategories = [...categories];\n    } else {\n      filteredCategories = categories.filter(c => c.name.toLowerCase().includes(text.toLowerCase()));\n    }\n\n    selectedCategory = filteredCategories.length > 0 ? filteredCategories[0] : {};\n    this.loadCategoryProducts(selectedCategory);\n\n    this.setState({\n      filteredCategories,\n      selectedCategory,\n      categorySearchText: text\n    });\n  }\n\n  onProductSearchInputChange(text, products) {\n    let { filteredProducts } = this.state;\n    if (!text) {\n      filteredProducts = [...(products || [])];\n    } else {\n      filteredProducts = (products || []).filter(p => {\n        const keys = [...Object.keys(p)].filter(k => ['name'].includes(k));\n        for (const k of keys) {\n          if (p[k].toLowerCase().includes(text.toLowerCase())) {\n            return true;\n          }\n        }\n        return false;\n      });\n    }\n\n    filteredProducts = (filteredProducts || []).map(p => ({ ...p, key: p._id }));\n\n    this.setState({\n      filteredProducts,\n      selectedProduct: {},\n      productSearchText: text\n    });\n  }\n\n  openRemoveCategoryDialog() {\n    const that = this;\n    const { selectedCategory } = this.state;\n    confirm({\n      title: `Bạn muốn xóa danh mục ${selectedCategory.name}?`,\n      icon: <ExclamationCircleOutlined />,\n      content: '',\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      async onOk() {\n        try {\n          that.props.setAppLoading(true);\n          const res = await (\n            await fetch(\n              API.Importer.ProductManagement.removeCategory.replace('{categoryID}', selectedCategory._id),\n              {\n                method: 'DELETE',\n                headers: {\n                  'Content-type': 'application/json; charset=UTF-8',\n                  'token': that.props.cookies.get(COOKIE_NAMES.token)\n                },\n                signal: that.abortController.signal\n              }\n            )\n          ).json();\n\n          that.props.setAppLoading(false);\n          if (res.status !== 200) {\n            message.error(res.errors[0]);\n            return;\n          }\n\n          let { categories } = that.state;\n          categories = categories.filter(c => c._id !== selectedCategory._id);\n          that.setState({ categories });\n          that.onCategorySearchInputChange(that.state.categorySearchText, categories);\n          message.success(res.messages[0]);\n        } catch (error) {\n          return error;\n        }\n      },\n      onCancel() { },\n    });\n  }\n\n  addToListSuppliers(supplier) {\n    let { suppliers } = this.state;\n    suppliers.push(supplier);\n    this.setState({ suppliers });\n  }\n\n  removeFromListSuppliers(supplier) {\n    let { suppliers } = this.state;\n    suppliers = suppliers.filter(s => s._id !== supplier._id);\n    this.setState({ suppliers });\n  }\n\n  updateProductSupplier(newSupplier) {\n    let { products } = this.state;\n    products = products.map(p => {\n      if (p.supplier._id === newSupplier._id) {\n        for (const key in p.supplier) {\n          if (newSupplier[key]) {\n            p.supplier[key] = newSupplier[key];\n          }\n        }\n      }\n      return p;\n    });\n    this.onProductSearchInputChange(this.state.productSearchText, products);\n    this.updateSuppliers(newSupplier);\n    this.setState({ products });\n  }\n\n  updateSuppliers(newSupplier) {\n    let { suppliers } = this.state;\n    suppliers = suppliers.map(s => {\n      if (s._id === newSupplier._id) {\n        for (const key in s) {\n          if (newSupplier[key]) {\n            s[key] = newSupplier[key];\n          }\n        }\n      }\n      return s;\n    });\n    this.setState({ suppliers });\n  }\n\n  setImportingAssignmentDialogVisible(isVisible) {\n    this.setState({ isImportingAssignmentDialogVisible: isVisible });\n  }\n\n  isImportedProduct(productID) {\n    const { importedProducts } = this.state;\n    const index = _.findIndex(importedProducts, item => item.product._id === productID);\n    if (index < 0)\n      return false;\n\n    if (importedProducts[index].importedQuantity === importedProducts[index].requiredQuantity)\n      return false;\n\n    return true;\n  }\n\n  async reloadImporterAssignments(updatingProductMessage) {\n    try {\n      this.props.setAppLoading(true);\n      const importerAssignments = await this.loadImporterAssignments();\n      const importedProducts = importerAssignments.length === 0 ? [] : importerAssignments[0].importedProducts.map(item => item);\n      this.props.setAppLoading(false);\n      message.success(updatingProductMessage);\n      this.setState({\n        importerAssignments,\n        importedProducts\n      });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    let { selectedProduct, suppliers, importerAssignments } = this.state;\n    const columns = [\n      {\n        title: '',\n        dataIndex: 'image',\n        key: 'image',\n        width: 40,\n        render: (text) => (\n          <img\n            className=\"product-management__container__content__list-products__product-img\"\n            src={text}\n            alt=\"product\" />\n        )\n      },\n      {\n        title: 'Sản phẩm',\n        dataIndex: 'name',\n        key: 'name',\n        width: 180\n      },\n      {\n        title: 'Nhà cung cấp',\n        dataIndex: 'supplier',\n        key: 'supplier',\n        width: 200,\n        render: (value, record) => (\n          <SupplierContactPopover\n            supplier={{ ...record.supplier }}\n            buttonText={record.supplier.name}\n            buttonStyle={{ fontSize: '0.6875rem' }}\n            placement=\"right\"\n          />\n        )\n      },\n      {\n        title: 'Giá bán',\n        dataIndex: 'price',\n        key: 'price',\n        width: 100,\n        render: (text) => (\n          <NumberFormat\n            value={Number(text)}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n            style={{ fontWeight: 'bold' }}\n          />\n        )\n      },\n      {\n        title: <center>SL hiện có</center>,\n        dataIndex: 'availableQuantity',\n        key: 'availableQuantity',\n        width: 120,\n        render: (text) => (<center>{text}</center>),\n      },\n      {\n        title: <center>Cập nhật lần cuối</center>,\n        dataIndex: 'updatedAt',\n        key: 'updatedAt',\n        width: 160,\n        render: (text) => (<center><span>{moment(text).format('HH:mm DD-MM-YYYY')}</span></center>)\n      },\n      {\n        title: <center>Trạng thái</center>,\n        dataIndex: 'status',\n        key: 'status',\n        width: 100,\n        render: (text, record) => (<center>\n          {record.availableQuantity === 0 ? (\n            <span style={{ color: 'crimson', fontWeight: 'bold' }}>Hết hàng</span>\n          ) : 'Còn hàng'}\n        </center>)\n      },\n      {\n        title: <center>Mã QR</center>,\n        dataIndex: '',\n        key: 'qrcode',\n        width: 100,\n        render: (value, record) => (\n          <center>\n            <QRCode\n              value={record._id}\n              style={{ width: 25, height: 25 }}\n            />\n          </center>\n        )\n      }\n    ];\n\n    return (\n      <div className=\"product-management\">\n\n        <div className=\"product-management__container\">\n          <Row>\n            <Col span={4}>\n              <div className=\"product-management__container__left-sidebar\">\n                <div className=\"product-management__container__left-sidebar__title\">\n                  <span className=\"product-management__container__left-sidebar__title__text\">\n                    Danh mục sản phẩm ({this.state.filteredCategories.length})\n                  </span>\n                </div>\n\n                <div className=\"product-management__container__left-sidebar__search-box\">\n                  <Row align=\"middle\" style={{ width: '100%' }}>\n                    <Col span={20}>\n                      <Input\n                        prefix={<SearchOutlined style={{ marginRight: 5 }} />}\n                        placeholder=\"Tìm kiếm...\"\n                        onChange={e => this.onCategorySearchInputChange(e.target.value, this.state.categories)}\n                      />\n                    </Col>\n                    <Col span={4}>\n                      {!this.state.isLoading ? (\n                        <AddCategoryDialog\n                          addToListCategories={category => this.addToListCategories(category)}\n                        />\n                      ) : <></>}\n                    </Col>\n                  </Row>\n                </div>\n\n                <div className=\"product-management__container__left-sidebar__categories\">\n                  <div className=\"product-management__container__left-sidebar__categories__wrapper\">\n                    <List\n                      size=\"small\"\n                      dataSource={this.state.filteredCategories}\n                      renderItem={(item) => (\n                        <List.Item onClick={() => this.handleSelectCategory(item)}>\n                          <div className={`\n                            product-management__container__left-sidebar__categories__item \n                            ${item._id === this.state.selectedCategory._id ? 'product-management__container__left-sidebar__categories__item--selected' : ''}\n                          `}>\n                            <Row>\n                              <Col span={22}>{item.name} ({item.products.length})</Col>\n                              <Col span={2}>{item._id === this.state.selectedCategory._id ? (\n                                <Dropdown overlay={\n                                  <Menu className=\"product-management__container__left-sidebar__categories__item__menu\">\n                                    <Menu.Item key=\"EDIT\">\n                                      <EditCategoryDialog\n                                        category={this.state.selectedCategory}\n                                        updateCategoryInList={category => this.updateCategoryInList(category)}\n                                      />\n                                    </Menu.Item>\n                                    <Menu.Item key=\"REMOVE\">\n                                      <Button\n                                        type=\"link\"\n                                        style={{ color: 'rgba(0,0,0,0.65)' }}\n                                        onClick={() => this.openRemoveCategoryDialog()}>\n                                        Xóa</Button>\n                                    </Menu.Item>\n                                  </Menu>\n                                }>\n                                  <EditOutlined />\n                                </Dropdown>\n                              ) : <></>}\n                              </Col>\n                            </Row>\n                          </div>\n                        </List.Item>\n                      )}\n                      locale={{ emptyText: (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"Không tìm thấy\" />) }}\n                    />\n                  </div>\n                </div>\n              </div>\n            </Col>\n            <Col span={20}>\n              <div className=\"product-management__container__topbar\">\n                <Row align=\"middle\" gutter={40}>\n                  <Col span={1}>\n                    {!this.state.isLoading ? (\n                      <AddProductDialog\n                        selectedCategory={{ ...this.state.selectedCategory }}\n                        addToListProducts={product => this.addToListProducts(product)}\n                        suppliers={[...suppliers]}\n                      />\n                    ) : <></>}\n                  </Col>\n                  <Col span={6}>\n                    {this.state.selectedCategory.products ? (\n                      <div className=\"product-management__container__topbar__title\">\n                        <span>{this.state.selectedCategory.name} ({this.state.selectedCategory.products.length})</span>\n                      </div>\n                    ) : <></>}\n                  </Col>\n                  <Col span={8}>\n                    <div className=\"product-management__container__topbar__features\">\n                      <div className=\"product-management__container__topbar__features__feature\">\n                        {this.state.importedProducts.length > 0 ? (\n                          <div>\n                            <Button\n                              className=\"product-management__container__topbar__features__feature__btn-show-assignment --alert\"\n                              icon={<BellFilled className=\"product-management__container__topbar__features__feature__btn-show-assignment__icon --bell animated tada\" />}\n                              type=\"primary\"\n                              shape=\"round\"\n                              onClick={() => this.setImportingAssignmentDialogVisible(true)}\n                            >\n                              Có yêu cầu nhập hàng\n                            </Button>\n                            <ImportingAssignmentDialog\n                              isVisible={this.state.isImportingAssignmentDialogVisible}\n                              setImportingAssignmentDialogVisible={isVisible => this.setImportingAssignmentDialogVisible(isVisible)}\n                              data={{ ...importerAssignments[0] }}\n                            />\n                          </div>\n                        ) : <></>}\n                      </div>\n                    </div>\n                  </Col>\n                  <Col span={7} style={{ padding: 0 }}>\n                    <div className=\"product-management__container__topbar__search-box\">\n                      <Input\n                        prefix={<SearchOutlined style={{ marginRight: 5 }} />}\n                        placeholder=\"Tìm kiếm sản phẩm...\"\n                        onChange={e => this.onProductSearchInputChange(e.target.value, this.state.selectedCategory.products)}\n                      />\n                    </div>\n                  </Col>\n                  <Col span={2}>\n                    <ProductActionHistory />\n                  </Col>\n                </Row>\n              </div>\n              <div className=\"product-management__container__content\">\n                {this.state.isProductDetailsPanelShown && Object.keys(selectedProduct).length > 0 ? (\n                  <div className=\"product-management__container__content__product-details\">\n                    <div className=\"product-management__container__content__product-details__panel animated slideInRight\">\n                      <div className=\"product-management__container__content__product-details__panel__header\">\n                        <Row>\n                          <Col span={4}>\n                            <Button\n                              type=\"primary\"\n                              shape=\"circle\"\n                              icon={<CloseOutlined />}\n                              className=\"product-management__container__content__product-details__panel__header__btn-close\"\n                              onClick={() => this.toggleProductDetailsPanel(false)}\n                            />\n                          </Col>\n                          <Col align=\"end\" span={20}>\n                            <Button\n                              type=\"link\"\n                              className=\"product-management__container__content__product-details__panel__header__btn-remove-product\"\n                              onClick={() => this.openRemoveProductDialog()}\n                            >\n                              Xóa sản phẩm\n                            </Button>\n                          </Col>\n                        </Row>\n                      </div>\n                      <div className=\"product-management__container__content__product-details__panel__product-details\">\n                        <div className=\"product-management__container__content__product-details__panel__product-details__img\">\n                          <ImageUploader\n                            defaultImageUrl={selectedProduct.image}\n                            width={150}\n                            height={150}\n                            tooltipTitle=\"Nhấn để thay đổi ảnh\"\n                            tooltipPlacement=\"bottom\"\n                            onFinish={imageUrl => {\n                              this.productDetailsFormRef.current.setFieldsValue({\n                                image: imageUrl\n                              });\n                            }}\n                          />\n                        </div>\n                        <div className=\"product-management__container__content__product-details__panel__product-details__info\">\n                          <Form\n                            {...layout}\n                            ref={current => {\n                              this.productDetailsFormRef.current = current;\n                              if (this.productDetailsFormRef.current) {\n                                this.productDetailsFormRef.current.setFieldsValue({\n                                  image: selectedProduct.image,\n                                  name: selectedProduct.name,\n                                  supplier: selectedProduct.supplier._id,\n                                  price: selectedProduct.price,\n                                  availableQuantity: selectedProduct.availableQuantity\n                                });\n                              }\n                            }}\n                            onFinish={values => this.updateProductDetails(values)}\n                            onFinishFailed={() => message.error('Thông tin sản phẩm chưa đầy đủ')}\n                          >\n\n                            <Form.Item name=\"image\" rules={[{ required: true }]} style={{ display: 'none' }}>\n                              <Input />\n                            </Form.Item>\n\n                            <Form.Item\n                              name=\"name\"\n                              label=\"Tên sản phẩm\"\n                              rules={[\n                                {\n                                  required: true,\n                                  message: 'Vui lòng nhập tên sản phẩm'\n                                }\n                              ]}\n                            >\n                              <Input />\n                            </Form.Item>\n\n                            <Form.Item\n                              name=\"supplier\"\n                              label=\"Nhà cung cấp\"\n                              rules={[{ required: true }]}\n                            >\n                              <Select>\n                                {suppliers.map(s => (\n                                  <Select.Option\n                                    key={s._id}\n                                    value={s._id}>{s.name}</Select.Option>\n                                ))}\n                              </Select>\n                            </Form.Item>\n\n                            <Form.Item\n                              name=\"price\"\n                              label=\"Giá bán (đ̲)\"\n                              rules={[\n                                {\n                                  required: true,\n                                  message: 'Vui lòng nhập giá bán'\n                                }\n                              ]}\n                            >\n                              <InputNumber\n                                formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                                parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\n                              />\n                            </Form.Item>\n\n                            <Form.Item\n                              name=\"availableQuantity\"\n                              label=\"Số lượng hiện có\"\n                              rules={[\n                                {\n                                  required: true,\n                                  message: 'Vui lòng nhập số lượng hiện có'\n                                }\n                              ]}\n                            >\n                              <InputNumber\n                                formatter={value => `${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\n                                parser={value => value.replace(/\\$\\s?|(,*)/g, '')}\n                                disabled={!this.isImportedProduct(selectedProduct._id)}\n                              />\n                            </Form.Item>\n\n                            <Form.Item>\n                              <div className=\"product-management__container__content__product-details__panel__product-details__btn-update__wrapper\">\n                                <Button\n                                  type=\"primary\"\n                                  htmlType=\"submit\"\n                                  className=\"product-management__container__content__product-details__panel__product-details__btn-update__wrapper__btn\"\n                                >\n                                  CẬP NHẬT SẢN PHẨM\n                                </Button>\n                              </div>\n                            </Form.Item>\n\n                          </Form>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ) : <></>}\n                <div className=\"product-management__container__content__list-products\">\n                  <Table\n                    dataSource={[...this.state.filteredProducts]}\n                    columns={columns}\n                    scroll={{ y: 700 }}\n                    pagination={false}\n                    onRow={(record) => {\n                      return {\n                        onClick: () => this.handleSelectProduct(record)\n                      }\n                    }}\n                    rowClassName={record => record._id === selectedProduct._id ?\n                      'product-management__container__content__list-products__selected-row' : ''}\n                    locale={{ emptyText: (<Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"Không tìm thấy sản phẩm\" />) }}\n                  />\n                  <div className=\"product-management__container__content__list-products__bottom-toolbar\"></div>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </div>\n\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(ProductManagement));\n","const sortByCreatedAt = (collection, option) => {\n  collection.sort((a, b) => {\n    const time1 = new Date(a.createdAt).getTime();\n    const time2 = new Date(b.createdAt).getTime();\n    return option === 'desc' ? (time2 - time1) : (time1 - time2);\n  });\n}\n\nexport {\n  sortByCreatedAt\n}","import { ScheduleFilled, StarFilled, TagFilled, UnorderedListOutlined } from '@ant-design/icons';\nimport { Button, Col, Popover, Row, Table, Tooltip } from 'antd';\nimport moment from 'moment';\nimport React, { Component } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport NumberFormat from 'react-number-format';\nimport './RevenueStatistic.style.scss';\n\nexport default class RevenueStatistic extends Component {\n  render() {\n    const {\n      statisticData,\n      revenueTotal,\n      paymentTotal,\n      salaryTotal,\n      importingCostTotal\n    } = this.props;\n    const profitTotal = revenueTotal - paymentTotal;\n    const height = window.innerWidth <= 768 ? 150 : 55;\n    const chartOptions = {\n      legend: { display: false },\n      scales: {\n        xAxes: [{\n          gridLines: {\n            display: false\n          }\n        }]\n      }\n    };\n    const lineChartData = (canvas) => {\n      const ctx = canvas.getContext(\"2d\")\n      const gradient = ctx.createLinearGradient(0, 0, 0, 400);\n      // gradient.addColorStop(0, 'orange');\n      // gradient.addColorStop(1, '#ff5858');\n      gradient.addColorStop(0, 'rgba(255, 165, 0, 0.8)');\n      gradient.addColorStop(1, 'rgba(255, 228, 179, 0.1)');\n      return {\n        labels: statisticData.map(item => moment(item.date).format('DD/MM')),\n        datasets: [\n          {\n            label: 'Doanh thu bán hàng',\n            fill: true,\n            lineTension: 0.3,\n            backgroundColor: gradient,\n            borderColor: '#ff8220',\n            borderCapStyle: 'butt',\n            borderDash: [],\n            borderDashOffset: 0.0,\n            borderJoinStyle: 'miter',\n            pointBorderColor: '#ff8220',\n            pointBackgroundColor: '#fff',\n            pointBorderWidth: 2,\n            pointHoverRadius: 5,\n            pointHoverBackgroundColor: '#fff',\n            pointHoverBorderColor: '#ff8220',\n            pointHoverBorderWidth: 2,\n            pointRadius: 3,\n            pointHitRadius: 10,\n            data: statisticData.map(item => item.revenue)\n          }\n        ]\n      }\n    };\n\n    let paymentItems = [\n      {\n        key: 1,\n        name: 'Lương nhân viên',\n        value: salaryTotal\n      }\n    ];\n\n    if (importingCostTotal > 0) {\n      paymentItems.push({\n        key: paymentItems.length + 1,\n        name: 'Chi phí nhập hàng',\n        value: importingCostTotal\n      });\n    }\n    const paymentItemColumns = [\n      {\n        title: '#',\n        dataIndex: 'key',\n        key: 'key',\n        width: 100\n      },\n      {\n        title: 'Hạng mục',\n        dataIndex: 'name',\n        key: 'name',\n        width: 300\n      },\n      {\n        title: 'Chi phí',\n        dataIndex: 'value',\n        key: 'value',\n        width: 200,\n        render: value => (\n          <NumberFormat\n            value={value}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n          />\n        )\n      }\n    ];\n\n    return (\n      <div className=\"reporting__revenue-statistic reporting__block-style\">\n        <Row style={{ width: '100%', position: 'relative', margin: 0 }} gutter={[20, 10]} justify=\"center\">\n          <Col span={8} xs={24} md={8}>\n            <div className=\"reporting__revenue-statistic__widget --revenue-total\">\n              <div className=\"reporting__revenue-statistic__widget__content\">\n                <div className=\"reporting__revenue-statistic__widget__content__value\">\n                  <StarFilled />\n                  <NumberFormat\n                    value={revenueTotal}\n                    displayType=\"text\"\n                    thousandSeparator={true}\n                    suffix=\" đ̲\"\n                    className=\"reporting__revenue-statistic__revenue__number\"\n                  />\n                </div>\n                <span className=\"reporting__revenue-statistic__widget__content__label\">Tổng doanh thu bán hàng</span>\n              </div>\n            </div>\n          </Col>\n          <Col span={8} xs={24} md={8}>\n            <div className=\"reporting__revenue-statistic__widget --payment-total\">\n              <Popover\n                content={\n                  <Table\n                    dataSource={paymentItems}\n                    columns={paymentItemColumns}\n                    pagination={false}\n                  />\n                }\n                title=\"Hạng mục cần chi trả\"\n                trigger=\"click\"\n                placement=\"bottom\"\n                overlayClassName=\"reporting__revenue-statistic__widget__popover\"\n              >\n                <Tooltip title=\"Hạng mục cần chi trả\" placement=\"top\">\n                  <Button\n                    shape=\"circle\"\n                    icon={<UnorderedListOutlined />}\n                    className=\"reporting__revenue-statistic__widget__btn\"\n                  />\n                </Tooltip>\n              </Popover>\n              <div className=\"reporting__revenue-statistic__widget__content\">\n                <div className=\"reporting__revenue-statistic__widget__content__value\">\n                  <TagFilled />\n                  <NumberFormat\n                    value={paymentTotal}\n                    displayType=\"text\"\n                    thousandSeparator={true}\n                    suffix=\" đ̲\"\n                    className=\"reporting__revenue-statistic__revenue__number\"\n                  />\n                </div>\n                <span className=\"reporting__revenue-statistic__widget__content__label\">Tổng phí đã chi trả</span>\n              </div>\n            </div>\n          </Col>\n          <Col span={8} xs={24} md={8}>\n            <div className=\"reporting__revenue-statistic__widget --profit-total\">\n              <div className=\"reporting__revenue-statistic__widget__content\">\n                <div className=\"reporting__revenue-statistic__widget__content__value\">\n                  <ScheduleFilled />\n                  <NumberFormat\n                    value={profitTotal}\n                    displayType=\"text\"\n                    thousandSeparator={true}\n                    suffix=\" đ̲\"\n                    className=\"reporting__revenue-statistic__revenue__number\"\n                  />\n                </div>\n                <span className=\"reporting__revenue-statistic__widget__content__label\">Tổng doanh thu sau chi trả</span>\n              </div>\n            </div>\n          </Col>\n        </Row>\n        <div className=\"reporting__revenue-statistic__chart\">\n          <h1>Doanh thu bán hàng mỗi ngày</h1>\n          <Line\n            data={lineChartData}\n            options={chartOptions}\n            height={height}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n","export default {\n  0: 'Tháng 1',\n  1: 'Tháng 2',\n  2: 'Tháng 3',\n  3: 'Tháng 4',\n  4: 'Tháng 5',\n  5: 'Tháng 6',\n  6: 'Tháng 7',\n  7: 'Tháng 8',\n  8: 'Tháng 9',\n  9: 'Tháng 10',\n  10: 'Tháng 11',\n  11: 'Tháng 12',\n}","import React, { Component } from 'react';\nimport Carousel from \"react-multi-carousel\";\nimport 'react-multi-carousel/lib/styles.css';\nimport { Card, Popover, Row, Col } from 'antd';\nimport './BestSelling.style.scss';\nimport NumberFormat from 'react-number-format';\n\nconst { Meta } = Card;\nconst responsive = {\n  desktop: {\n    breakpoint: { max: 3000, min: 1024 },\n    items: 5,\n    slidesToSlide: 5 // optional, default to 1.\n  },\n  tablet: {\n    breakpoint: { max: 1024, min: 464 },\n    items: 5,\n    slidesToSlide: 1 // optional, default to 1.\n  },\n  mobile: {\n    breakpoint: { max: 464, min: 0 },\n    items: 2,\n    slidesToSlide: 1 // optional, default to 1.\n  }\n};\n\nexport default class BestSelling extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      deviceType: 'desktop'\n    }\n  }\n  render() {\n    const { products } = this.props;\n    if (products.length > 0) {\n      for (let i = 1; i <= 7; i++)\n        products.push(products[0]);\n    }\n    const { deviceType } = this.state;\n    return (\n      <div className=\"product-statistic__products__best-selling\">\n        <h1>\n          Sản phẩm bán chạy\n          <span className=\"product-statistic__products__best-selling__hot-badge\">HOT</span>\n        </h1>\n        {products.length === 0 ? (\n          <div className=\"product-statistic__products__best-selling__item\" style={{ paddingLeft: 5 }}>\n            <p>Chưa ghi nhận.</p>\n          </div>\n        ) : (\n            <div className=\"product-statistic__products__best-selling__item\">\n              <Carousel\n                swipeable={false}\n                draggable={true}\n                ssr={true} // means to render carousel on server-side.\n                keyBoardControl={true}\n                responsive={responsive}\n                containerClass=\"carousel-container\"\n                // removeArrowOnDeviceType={[\"tablet\", \"mobile\"]}\n                deviceType={deviceType}\n                itemClass=\"carousel-item-padding-40-px\"\n              >\n                {products.map((p, i) => {\n                  return (\n                    <Popover\n                      key={i}\n                      overlayClassName=\"product-statistic__products__best-selling__item__details\"\n                      placement=\"top\"\n                      title={p.details.name}\n                      content={\n                        <div>\n                          <Row style={{ width: '100%' }} gutter={10}>\n                            <Col span={8}>Thể loại</Col>\n                            <Col span={16}>{p.category.name}</Col>\n                          </Row>\n                          <Row style={{ width: '100%' }} gutter={10}>\n                            <Col span={8}>Nhà cung cấp</Col>\n                            <Col span={16}>{p.supplier.name}</Col>\n                          </Row>\n                          <Row style={{ width: '100%' }} gutter={10}>\n                            <Col span={8}>Giá bán</Col>\n                            <Col span={16}>\n                              <NumberFormat\n                                value={p.details.price}\n                                displayType=\"text\"\n                                thousandSeparator={true}\n                                suffix=\" đ̲\"\n                                style={{ fontWeight: 'bold' }}\n                              />\n                            </Col>\n                          </Row>\n                          <Row style={{ width: '100%' }} gutter={10}>\n                            <Col span={8}>SL đã bán</Col>\n                            <Col span={16}>{p.quantity}</Col>\n                          </Row>\n                          <Row style={{ width: '100%' }} gutter={10}>\n                            <Col span={8}>SL tồn kho</Col>\n                            <Col span={16}>{p.details.availableQuantity}</Col>\n                          </Row>\n                        </div>\n                      }\n                      trigger=\"click\">\n                      <Card\n                        className=\"animated zoomIn\"\n                        cover={<img alt=\"example\" src={p.details.image} />}\n                        key={i}\n                        style={{ animationDelay: `${0.2 * i}s` }}\n                      >\n                        <Meta title={p.details.name} description={<span>SL đã bán: <strong>{p.quantity}</strong></span>} />\n                      </Card>\n                    </Popover>\n\n                  );\n                })}\n              </Carousel>\n            </div>\n          )}\n      </div>\n    )\n  }\n}","import React, { Component } from 'react';\nimport { Popover, Button, Tooltip, Table } from 'antd';\nimport { UnorderedListOutlined } from '@ant-design/icons';\nimport './ImportingHistory.style.scss';\nimport moment from 'moment';\n\nexport default class ImportingHistory extends Component {\n  render() {\n    let { importedProducts } = this.props;\n    importedProducts = importedProducts.map((p, i) => ({ ...p, key: i }));\n    const columns = [\n      {\n        title: 'Mã sản phẩm',\n        dataIndex: 'id',\n        key: 'id',\n        width: 100,\n        render: (value, record) => record.details._id\n      },\n      {\n        title: 'Tên sản phẩm',\n        dataIndex: 'name',\n        key: 'name',\n        width: 100,\n        render: (value, record) => record.details.name\n      },\n      {\n        title: <center>SL cần nhập</center>,\n        dataIndex: 'requiredQuantity',\n        width: 100,\n        key: 'requiredQuantity',\n        render: value => <center>{value}</center>\n      },\n      {\n        title: <center>SL đã nhập</center>,\n        dataIndex: 'importedQuantity',\n        width: 100,\n        key: 'importedQuantity',\n        render: value => <center>{value}</center>\n      },\n      {\n        title: <center>Lần nhập cuối</center>,\n        dataIndex: 'updatedAt',\n        width: 100,\n        key: 'updatedAt',\n        render: (value, record) => record.importedQuantity > 0 ? (<center>{moment(value).format('HH:mm DD/MM/YYYY')}</center>) : ''\n      }\n    ];\n\n    return (\n      <div className=\"importing-history\">\n        <Popover\n          placement=\"right\"\n          title=\"Sản phẩm cần nhập\"\n          content={\n            <Table\n              dataSource={importedProducts}\n              columns={columns}\n              pagination={false}\n            />\n          }\n          trigger=\"click\"\n          overlayClassName=\"importing-history__content\"\n        >\n          <Tooltip title=\"Sản phẩm cần nhập\" placement=\"top\">\n            <Button\n              type=\"default\"\n              icon={<UnorderedListOutlined />}\n              shape=\"circle\"\n              className=\"importing-history__btn-show\"\n            />\n          </Tooltip>\n        </Popover>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport { Row, Col, Progress } from 'antd';\nimport NumberFormat from 'react-number-format';\nimport * as _ from 'lodash';\nimport './ImportingStatistic.style.scss';\nimport ImportingHistory from '../ImportingHistory/ImportingHistory';\n\nexport default class ImportingStatistic extends Component {\n  render() {\n    const {\n      importedQuantityTotal,\n      requiredQuantityTotal,\n      importingCostTotal,\n      requiredImportingCostTotal,\n      importedProducts\n    } = this.props;\n    const importingCompletedRatio = _.round(importedQuantityTotal * 100 / (importedQuantityTotal + requiredQuantityTotal), 2);\n    return (\n      <div className=\"product-statistic__products__statistic__item --importing-statistic\">\n        <div className=\"--importing-statistic__header\">\n          <ImportingHistory\n            importedProducts={[...importedProducts]}\n          />\n          <span className=\"--importing-statistic__header__title\">Thống kê nhập hàng</span>\n          <div className=\"--importing-statistic__header__importing-cost\">\n            <span>Tổng chi phí đã nhập:</span>\n            <NumberFormat\n              value={importingCostTotal}\n              displayType=\"text\"\n              thousandSeparator={true}\n              suffix=\" đ̲\"\n              className=\"--importing-statistic__header__importing-cost__number\"\n            />\n          </div>\n          <div className=\"--importing-statistic__header__importing-cost\">\n            <span>Tổng chi phí dự kiến:</span>\n            <NumberFormat\n              value={requiredImportingCostTotal}\n              displayType=\"text\"\n              thousandSeparator={true}\n              suffix=\" đ̲\"\n              className=\"--importing-statistic__header__importing-cost__number\"\n            />\n          </div>\n        </div>\n\n        <div className=\"--importing-statistic__progress-wrapper\">\n          <Progress\n            type=\"circle\"\n            strokeColor={importingCompletedRatio < 100 ? {\n              '0%': '#f09819',\n              '100%': '#ff5858',\n            } : ''}\n            percent={importingCompletedRatio}\n            format={percent => (\n              <div className=\"--importing-statistic__progress-wrapper__progress-inner\">\n                <span className=\"--importing-statistic__progress-wrapper__progress-inner__value\">\n                  {importedQuantityTotal}/{requiredQuantityTotal}\n                </span>\n                <span className=\"--importing-statistic__progress-wrapper__progress-inner__label\">\n                  Sản phẩm\n                </span>\n              </div>\n            )}\n          />\n        </div>\n        <div className=\"--importing-statistic__footer\">\n          <Row style={{ width: '100%', height: '100%' }} justify=\"center\">\n            <Col span={12}>\n              <div className=\"--importing-statistic__footer__col\">\n                <span className=\"--importing-statistic__footer__col__value\">\n                  {importedQuantityTotal}\n                </span>\n                <span className=\"--importing-statistic__footer__col__label\">\n                  Sản phẩm đã nhập\n                </span>\n              </div>\n            </Col>\n            <Col span={12}>\n              <div className=\"--importing-statistic__footer__col\">\n                <span className=\"--importing-statistic__footer__col__value\">\n                  {requiredQuantityTotal - importedQuantityTotal}\n                </span>\n                <span className=\"--importing-statistic__footer__col__label\">\n                  Sản phẩm chờ nhập\n                </span>\n              </div>\n            </Col>\n          </Row>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport './ NewProductList.style.scss';\nimport { Button, Popover, Tooltip, Table } from 'antd';\nimport { HistoryOutlined } from '@ant-design/icons';\nimport NumberFormat from 'react-number-format';\nimport SupplierContactPopover from '../../../../utilities/SupplierContactPopover/SupplierContactPopover';\nimport moment from 'moment';\n\nexport default class NewProductList extends Component {\n  render() {\n    let { newProducts } = this.props;\n    newProducts = newProducts.map((p, i) => ({ ...p, key: i }));\n    const columns = [\n      {\n        title: '',\n        dataIndex: 'image',\n        key: 'image',\n        width: 60,\n        render: (text) => (\n          <img\n            style={{ width: 25, marginLeft: 10 }}\n            src={text}\n            alt=\"product\" />\n        )\n      },\n      {\n        title: 'Sản phẩm',\n        dataIndex: 'name',\n        key: 'name',\n        width: 200\n      },\n      {\n        title: 'Thể loại',\n        dataIndex: 'category',\n        key: 'category',\n        width: 180,\n        render: (text, record) => (<span>{record.category.name}</span>)\n      },\n      {\n        title: 'Nhà cung cấp',\n        dataIndex: 'supplier',\n        key: 'supplier',\n        width: 200,\n        render: (text, record) => (\n          <SupplierContactPopover\n            supplier={{ ...record.supplier }}\n            buttonText={record.supplier.name}\n            buttonStyle={{ fontSize: 11 }}\n            placement=\"right\"\n          />\n        )\n      },\n      {\n        title: 'Giá bán',\n        dataIndex: 'price',\n        key: 'price',\n        width: 120,\n        render: (text) => (\n          <NumberFormat\n            value={Number(text)}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n          />\n        )\n      },\n      {\n        title: <center>SL hiện có</center>,\n        dataIndex: 'availableQuantity',\n        key: 'availableQuantity',\n        width: 100,\n        render: (text) => (<center>{text}</center>)\n      },\n      {\n        title: <center>Thêm lúc</center>,\n        dataIndex: 'addedAt',\n        key: 'addedAt',\n        width: 80,\n        render: (text) => (<center>{moment(text).format('HH:mm DD/MM/YYYY')}</center>)\n      },\n      {\n        title: <center>Thực hiện</center>,\n        dataIndex: 'executor',\n        key: 'executor',\n        width: 100,\n        render: value => (<center>{value.fullname}</center>)\n      }\n    ];\n\n    return (\n      <div className=\"new-product-list\">\n        <Popover\n          overlayClassName=\"new-product-list__content\"\n          placement=\"bottomRight\"\n          title=\"Sản phẩm mới\"\n          content={\n            <Table\n              dataSource={[...newProducts]}\n              columns={columns}\n              pagination={false}\n            />\n          }\n          trigger=\"click\">\n          <Tooltip title=\"Sản phẩm mới\" placement=\"top\">\n            <Button\n              icon={<HistoryOutlined />}\n              shape=\"circle\"\n              className=\"product-quantity-statistic__item__btn\"\n            />\n          </Tooltip>\n        </Popover>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport './SellingHistory.style.scss';\nimport { Popover, Button, Tooltip, Empty, Row, Col } from 'antd';\nimport { HistoryOutlined } from '@ant-design/icons';\nimport moment from 'moment';\nimport NumberFormat from 'react-number-format';\n\nexport default class SellingHistory extends Component {\n  render() {\n    let { sellingHistories } = this.props;\n    sellingHistories = sellingHistories.map((h, i) => ({ ...h, key: i }));\n    return (\n      <div className=\"selling-history\">\n        <Popover\n          placement=\"right\"\n          title=\"Lịch sử bán hàng\"\n          content={\n            <div className=\"selling-history__content__list\">\n              {sellingHistories.length === 0 ? (\n                <div className=\"selling-history__content__list__empty\">\n                  <Empty description=\"Chưa có ghi nhận nào\" />\n                </div>\n              ) : (\n                  sellingHistories.map((sh, i) => (\n                    <div className=\"selling-history__content__list__item\" key={i}>\n                      <p className=\"selling-history__content__list__item__products\">\n                        {sh.soldItems.map((item, index) => {\n                          return index < sh.soldItems.length - 1 ? (\n                            <span key={index}>{`${item.product.name} x${item.quantity}, `}</span>\n                          ) : (\n                              <span key={index}>{`${item.product.name} x${item.quantity}.`}</span>\n                            )\n                        })}\n                      </p>\n                      <div className=\"selling-history__content__list__item__footer\">\n                        <Row style={{ width: '100%' }} gutter={10}>\n                          <Col span={8}>\n                            <span className=\"selling-history__content__list__item__footer__label\">\n                              Vào lúc:\n                            </span>\n                            <span className=\"selling-history__content__list__item__footer__value\">\n                              {moment(sh.submittedAt).format('HH:mm DD/MM/YYYY')}\n                            </span>\n                          </Col>\n                          <Col span={8}>\n                            <span className=\"selling-history__content__list__item__footer__label\">\n                              Thu ngân:\n                            </span>\n                            <span className=\"selling-history__content__list__item__footer__value --highline\">\n                              {sh.cashier.fullname}\n                            </span>\n                          </Col>\n                          <Col span={8}>\n                            <span className=\"selling-history__content__list__item__footer__label\">\n                              Tổng tiền:\n                            </span>\n                            <NumberFormat\n                              className=\"selling-history__content__list__item__footer__value\"\n                              value={Number(sh.priceTotal)}\n                              displayType=\"text\"\n                              thousandSeparator={true}\n                              suffix=\" đ̲\"\n                              style={{ fontWeight: 'bold' }}\n                            />\n                          </Col>\n                        </Row>\n\n                      </div>\n                    </div>\n                  ))\n                )}\n            </div>\n          }\n          trigger=\"click\"\n          overlayClassName=\"selling-history__content\"\n        >\n          <Tooltip title=\"Lịch sử bán hàng\" placement=\"top\">\n            <Button\n              icon={<HistoryOutlined />}\n              shape=\"circle\"\n              className=\"product-quantity-statistic__item__btn\"\n            />\n          </Tooltip>\n        </Popover>\n      </div>\n    )\n  }\n}\n","import { Col, Row } from 'antd';\nimport moment from 'moment';\nimport React, { Component } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport NumberFormat from 'react-number-format';\nimport NewProductList from '../NewProductList/NewProductList';\nimport SellingHistory from '../SellingHistory/SellingHistory';\nimport './ProductQuantityStatistic.style.scss';\n\nexport default class ProductQuantityStatistic extends Component {\n  render() {\n    const {\n      soldQuantityTotal,\n      newProductTotal,\n      availableQuantityTotal,\n      soldQuantityStatisticData,\n      sellingHistories,\n      newProducts\n    } = this.props;\n\n    const chartOptions = {\n      legend: { display: false },\n      scales: {\n        xAxes: [{\n          ticks: {\n            display: false //this will remove only the label\n          },\n          gridLines: {\n            display: false\n          }\n        }],\n        yAxes: [{\n          ticks: {\n            display: false //this will remove only the label\n          },\n          gridLines: {\n            display: false\n          }\n        }]\n      }\n    };\n    const soldQuantityStatisticChartData = {\n      labels: soldQuantityStatisticData.map(item => moment(item.date).format('DD/MM')),\n      datasets: [\n        {\n          label: 'SL',\n          fill: false,\n          lineTension: 0.2,\n          backgroundColor: 'orange',\n          borderColor: 'orange',\n          borderCapStyle: 'butt',\n          borderDash: [],\n          borderDashOffset: 0.0,\n          borderJoinStyle: 'miter',\n          pointBorderColor: 'orange',\n          pointBackgroundColor: '#fff',\n          pointBorderWidth: 2,\n          pointHoverRadius: 5,\n          pointHoverBackgroundColor: '#fff',\n          pointHoverBorderColor: 'orange',\n          pointHoverBorderWidth: 2,\n          pointRadius: 0,\n          pointHitRadius: 10,\n          data: soldQuantityStatisticData.map(item => item.quantity)\n        }\n      ]\n    }\n\n    return (\n      <div className=\"product-quantity-statistic\">\n        <Row style={{ width: '100%' }} gutter={[20, 10]} justify=\"space-between\">\n          <Col span={8} xs={24} md={8}>\n            <div className=\"product-quantity-statistic__item --sold\">\n              <SellingHistory\n                sellingHistories={[...sellingHistories]}\n              />\n              <div className=\"product-quantity-statistic__item__metric\">\n                <NumberFormat\n                  value={soldQuantityTotal}\n                  displayType=\"text\"\n                  thousandSeparator={true}\n                  className=\"product-quantity-statistic__item__metric__quantity\"\n                />\n                <span className=\"product-quantity-statistic__item__metric__label\">Sản phẩm đã bán</span>\n              </div>\n\n              <div className=\"product-quantity-statistic__item__chart\">\n                <Bar\n                  data={soldQuantityStatisticChartData}\n                  options={chartOptions}\n                  height={170}\n                />\n              </div>\n            </div>\n          </Col>\n          <Col span={8} xs={24} md={8}>\n            <div className=\"product-quantity-statistic__item --new\">\n              <NewProductList\n                newProducts={[...newProducts]}\n              />\n              <div className=\"product-quantity-statistic__item__metric\">\n                <NumberFormat\n                  value={newProductTotal}\n                  displayType=\"text\"\n                  thousandSeparator={true}\n                  prefix={newProductTotal > 0 ? '+' : ''}\n                  className=\"product-quantity-statistic__item__metric__quantity\"\n                />\n                <span className=\"product-quantity-statistic__item__metric__label\">Sản phẩm mới</span>\n              </div>\n            </div>\n          </Col>\n          <Col span={8} xs={24} md={8}>\n            <div className=\"product-quantity-statistic__item --available\">\n              <div className=\"product-quantity-statistic__item__metric\">\n                <NumberFormat\n                  value={availableQuantityTotal}\n                  displayType=\"text\"\n                  thousandSeparator={true}\n                  className=\"product-quantity-statistic__item__metric__quantity\"\n                />\n                <span className=\"product-quantity-statistic__item__metric__label\">Sản phẩm tồn kho</span>\n              </div>\n            </div>\n          </Col>\n        </Row>\n      </div >\n    )\n  }\n}\n","import React, { Component } from 'react';\nimport './ReportToPrint.style.scss';\nimport moment from 'moment';\nimport { Table, Row, Col } from 'antd';\nimport { withCookies } from 'react-cookie';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport NumberFormat from 'react-number-format';\n\nclass ReportToPrint extends Component {\n  render() {\n    const manager = this.props.cookies.get(COOKIE_NAMES.user);\n    if (!manager) {\n      window.location.href = '/login';\n    }\n    let {\n      soldProducts,\n      importedProducts,\n      sellingRevenueTotal,\n      salaryTotal,\n      importingCostTotal,\n      month,\n      year\n    } = this.props;\n\n    soldProducts = soldProducts.map((p, i) => {\n      const newProduct = { ...p, key: i, sellingRevenue: p.quantity * p.details.price };\n      newProduct.details._id = newProduct.details._id.slice(-12);\n      return newProduct;\n    });\n    soldProducts.push({\n      key: soldProducts.length,\n      quantity: soldProducts.reduce((acc, cur) => acc + cur.quantity, 0),\n      details: {\n        _id: 'Tổng cộng',\n        name: '',\n        availableQuantity: soldProducts.reduce((acc, cur) => acc + cur.details.availableQuantity, 0),\n        price: ''\n      },\n      sellingRevenue: soldProducts.reduce((acc, cur) => acc + cur.sellingRevenue, 0)\n    });\n    const soldProductColumns = [\n      {\n        title: 'Mã sản phẩm',\n        dataIndex: 'id',\n        key: 'id',\n        width: 100,\n        render: (value, record) => record.details._id\n      },\n      {\n        title: 'Tên sản phẩm',\n        dataIndex: 'name',\n        key: 'name',\n        width: 150,\n        render: (value, record) => record.details.name\n      },\n      {\n        title: <center>SL tồn kho</center>,\n        dataIndex: 'availableQuantity',\n        key: 'availableQuantity',\n        width: 100,\n        render: (value, record) => <center>{record.details.availableQuantity}</center>\n      },\n      {\n        title: <center>SL đã bán</center>,\n        dataIndex: 'quantity',\n        key: 'quantity',\n        width: 100,\n        render: value => <center>{value}</center>\n      },\n      {\n        title: 'Đơn giá',\n        dataIndex: 'price',\n        key: 'price',\n        width: 100,\n        render: (value, record) => (\n          <NumberFormat\n            value={record.details.price}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n          />\n        )\n      },\n      {\n        title: 'Doanh thu',\n        dataIndex: 'sellingRevenue',\n        key: 'sellingRevenue',\n        width: 100,\n        render: value => (\n          <NumberFormat\n            value={value}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n          />\n        )\n      }\n    ];\n\n    importedProducts = importedProducts.map((p, i) => {\n      const newProduct = { ...p, key: i, importingCost: p.importedQuantity * p.details.price };\n      newProduct.details._id = newProduct.details._id.slice(-12);\n      return newProduct;\n    });\n    importedProducts.push({\n      key: importedProducts.length,\n      importedQuantity: importedProducts.reduce((acc, cur) => acc + cur.importedQuantity, 0),\n      requiredQuantity: importedProducts.reduce((acc, cur) => acc + cur.requiredQuantity, 0),\n      details: {\n        _id: 'Tổng cộng',\n        name: '',\n        availableQuantity: importedProducts.reduce((acc, cur) => acc + cur.details.availableQuantity, 0)\n      },\n      importingCost: importedProducts.reduce((acc, cur) => acc + cur.importingCost, 0)\n    })\n    const importedProductColumns = [\n      {\n        title: 'Mã sản phẩm',\n        dataIndex: 'id',\n        key: 'id',\n        width: 100,\n        render: (value, record) => record.details._id\n      },\n      {\n        title: 'Tên sản phẩm',\n        dataIndex: 'name',\n        key: 'name',\n        width: 150,\n        render: (value, record) => record.details.name\n      },\n      {\n        title: <center>SL tồn kho</center>,\n        dataIndex: 'availableQuantity',\n        width: 100,\n        key: 'availableQuantity',\n        render: (value, record) => <center>{record.details.availableQuantity}</center>\n      },\n      {\n        title: <center>SL đã nhập</center>,\n        dataIndex: 'importedQuantity',\n        width: 100,\n        key: 'importedQuantity',\n        render: value => <center>{value}</center>\n      },\n      {\n        title: 'Đơn giá',\n        dataIndex: 'price',\n        key: 'price',\n        width: 100,\n        render: (value, record) => (\n          <NumberFormat\n            value={record.details.price}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n          />\n        )\n      },\n      {\n        title: 'Phí nhập',\n        dataIndex: 'importingCost',\n        key: 'importingCost',\n        width: 100,\n        render: value => (\n          <NumberFormat\n            value={value}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n          />\n        )\n      }\n    ];\n\n    const incomes = [\n      {\n        key: '1',\n        order: 1,\n        name: 'Doanh thu bán hàng',\n        value: sellingRevenueTotal\n      },\n      {\n        key: '2',\n        order: 'Tổng doanh thu',\n        name: '',\n        value: sellingRevenueTotal\n      }\n    ];\n    const incomeColumns = [\n      {\n        title: 'STT',\n        dataIndex: 'order',\n        key: 'order',\n        width: 125\n      },\n      {\n        title: 'Hạng mục',\n        dataIndex: 'name',\n        key: 'name',\n        width: 250\n      },\n      {\n        title: 'Doanh thu',\n        dataIndex: 'value',\n        key: 'value',\n        width: 125,\n        render: value => (\n          <NumberFormat\n            value={value}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n          />\n        )\n      }\n    ];\n\n    const payments = [\n      {\n        key: '1',\n        order: 1,\n        name: 'Lương nhân sự',\n        value: salaryTotal\n      },\n      {\n        key: '2',\n        order: 2,\n        name: 'Chi phí nhập hàng',\n        value: importingCostTotal\n      },\n      {\n        key: '3',\n        order: 'Tổng chi trả',\n        name: '',\n        value: salaryTotal + importingCostTotal\n      }\n    ];\n    const paymentColumns = [\n      {\n        title: 'STT',\n        dataIndex: 'order',\n        key: 'order',\n        width: 125\n      },\n      {\n        title: 'Hạng mục',\n        dataIndex: 'name',\n        key: 'name',\n        width: 250\n      },\n      {\n        title: 'Chi phí',\n        dataIndex: 'value',\n        key: 'value',\n        width: 125,\n        render: value => (\n          <NumberFormat\n            value={value}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n          />\n        )\n      }\n    ];\n\n    return (\n      <div className=\"reporting__report-to-print__content\">\n        <div className=\"reporting__report-to-print__content__header\">\n          <div className=\"reporting__report-to-print__content__header__company\">\n            <img\n              className=\"reporting__report-to-print__content__header__company__logo\"\n              src={require('../../../../../assets/images/app-logo.png')} alt=\"logo\" />\n            <div className=\"reporting__report-to-print__content__header__company__brand\">\n              <div className=\"reporting__report-to-print__content__header__company__brand__name\">\n                <span>Mini Mart</span>\n              </div>\n              <div className=\"reporting__report-to-print__content__header__company__brand__slogan\">\n                <span>Tiện Lợi mà Chất Lượng</span>\n              </div>\n            </div>\n          </div>\n          <span className=\"reporting__report-to-print__content__header__date\">Ngày xuất: {moment().format('DD/MM/YYYY HH:mm')}</span>\n        </div>\n        <h2 className=\"reporting__report-to-print__content__main-title\">\n          BÁO CÁO THÁNG {moment(`${month}/${year}`, 'MM/YYYY').format('MM/YYYY')}\n        </h2>\n        <div className=\"reporting__report-to-print__content__body\">\n\n          <div className=\"reporting__report-to-print__content__body__selling-statistic\">\n            <h3>1. Bán hàng</h3>\n            <div className=\"reporting__report-to-print__content__body__table\">\n              <Table\n                dataSource={[...soldProducts]}\n                columns={soldProductColumns}\n                pagination={false}\n              />\n            </div>\n          </div>\n\n          <div className=\"reporting__report-to-print__content__body__importing-statistic\">\n            <h3>2. Nhập hàng</h3>\n            <div className=\"reporting__report-to-print__content__body__table\">\n              <Table\n                dataSource={[...importedProducts]}\n                columns={importedProductColumns}\n                pagination={false}\n              />\n            </div>\n          </div>\n\n          <div className=\"reporting__report-to-print__content__body__revenue-statistic\">\n            <h3>3. Doanh thu</h3>\n            <div className=\"reporting__report-to-print__content__body__table\">\n              <Table\n                dataSource={[...incomes]}\n                columns={incomeColumns}\n                pagination={false}\n              />\n            </div>\n          </div>\n\n          <div className=\"reporting__report-to-print__content__body__revenue-statistic\">\n            <h3>4. Chi trả</h3>\n            <div className=\"reporting__report-to-print__content__body__table\">\n              <Table\n                dataSource={[...payments]}\n                columns={paymentColumns}\n                pagination={false}\n              />\n            </div>\n          </div>\n\n          <Row justify=\"center\" align=\"middle\"\n            className=\"reporting__report-to-print__content__body__manager-confirm\">\n            <Col span={14}></Col>\n            <Col span={10} align=\"middle\">\n              <span className=\"reporting__report-to-print__content__body__manager-confirm__stand-for\">TM. Người quản lý</span>\n              <div className=\"reporting__report-to-print__content__body__manager-confirm__signature\">\n                <img src={require('../../../../../assets/images/tue-signature.png')} alt=\"signature\" />\n              </div>\n              <span className=\"reporting__report-to-print__content__body__manager-confirm__fullname\">{manager.fullname}</span>\n            </Col>\n          </Row>\n\n        </div>\n      </div>\n    )\n  }\n}\nexport default withCookies(ReportToPrint);","import React from 'react';\nimport { DatePicker, Row, Col, Table, Input, Button, Tooltip } from 'antd';\nimport './Reporting.style.scss';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../redux/actions';\nimport { withCookies } from 'react-cookie';\nimport { API } from '../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport moment from 'moment';\nimport RevenueStatistic from './RevenueStatistic/RevenueStatistic';\nimport MONTHS from '../../../../constants/months.constant';\nimport QRCode from 'qrcode.react';\nimport NumberFormat from 'react-number-format';\nimport { SearchOutlined, PrinterFilled } from '@ant-design/icons';\nimport BestSelling from './BestSelling/BestSelling';\nimport ImportingStatistic from './ImportingStatistic/ImportingStatistic';\nimport ProductQuantityStatistic from './ProductQuantityStatistic/ProductQuantityStatistic';\nimport ReportToPrint from './ReportToPrint/ReportToPrint';\nimport ReactToPrint from 'react-to-print';\nimport SupplierContactPopover from '../../../utilities/SupplierContactPopover/SupplierContactPopover';\n\nclass Reporting extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      month: new Date().getMonth() + 1,\n      year: new Date().getFullYear(),\n      products: [],\n      bestSellingProducts: [],\n      soldProducts: [],\n      importedProducts: [],\n      newProducts: [],\n      sellingHistories: [],\n      importedQuantityTotal: 0,\n      requiredQuantityTotal: 0,\n      importingCostTotal: 0,\n      requiredImportingCostTotal: 0,\n      soldQuantityTotal: 0,\n      newProductTotal: 0,\n      revenueTotal: 0,\n      paymentTotal: 0,\n      salaryTotal: 0,\n      revenueStatisticData: [],\n      soldQuantityStatisticData: [],\n      productCurrentPage: 1,\n      productPageLimit: 10,\n      productTotal: 0,\n      isLoading: true\n    }\n  }\n\n  componentWillUnmount() {\n    // fix Warning: Can't perform a React state update on an unmounted component\n    this.setState = (state, callback) => {\n      return;\n    };\n  }\n\n  componentDidMount() {\n    this.loadData(this.state.month, this.state.year);\n  }\n\n  async loadData(month, year) {\n    try {\n      this.props.setAppLoading(true);\n      const res = await Promise.all([\n        this.loadProducts(1, month, year)\n      ]);\n      this.props.setAppLoading(false);\n      const loadProductResult = res[0];\n      this.setState({\n        ...loadProductResult,\n        productCurrentPage: 1,\n        isLoading: false\n      });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async loadProducts(page, month, year) {\n    try {\n      const statisticStartDate = new Date(moment(`${month}/${year}`, 'MM/YYYY').startOf('day')).getTime();\n      const statisticEndDate = new Date(moment(`${moment(new Date(statisticStartDate)).daysInMonth()}/${month}/${year}`, 'DD/MM/YYYY').endOf('day')).getTime();\n\n      const res = await (\n        await fetch(\n          API.Manager.Reporting.getProducts\n            .replace('{page}', page)\n            .replace('{limit}', this.state.productPageLimit)\n            .replace('{statisticStartDate}', statisticStartDate.toString())\n            .replace('{statisticEndDate}', statisticEndDate.toString()),\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status !== 200) {\n        return Promise.reject(res.errors[0]);\n      }\n\n      return Promise.resolve({ ...res.data });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  monthCellRender(date) {\n    const _date = new Date(date);\n    const monthIndex = _date.getMonth();\n    return MONTHS[monthIndex];\n  }\n\n  onDatePickerChange(e) {\n    const selectedDate = new Date(e);\n    const month = selectedDate.getMonth() + 1;\n    const year = selectedDate.getFullYear();\n    this.loadData(month, year);\n    this.setState({ month, year });\n  }\n\n  async onProductPageChange(page) {\n    try {\n      this.props.setAppLoading(true);\n      const res = await this.loadProducts(page, this.state.month, this.state.year);\n      this.props.setAppLoading(false);\n      this.setState({\n        productCurrentPage: page,\n        products: res.products\n      });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    let {\n      month,\n      year,\n      products,\n      bestSellingProducts,\n      importedQuantityTotal,\n      requiredQuantityTotal,\n      importingCostTotal,\n      requiredImportingCostTotal,\n      soldQuantityTotal,\n      newProductTotal,\n      revenueTotal,\n      paymentTotal,\n      revenueStatisticData,\n      soldQuantityStatisticData,\n      productCurrentPage,\n      productPageLimit,\n      productTotal\n    } = this.state;\n    products = products.map((p, i) => ({ ...p, key: i }));\n    const isPaginationShown = Math.ceil(productTotal / productPageLimit) > 1;\n    const columns = [\n      {\n        title: '',\n        dataIndex: 'image',\n        key: 'image',\n        width: '3.75rem',\n        render: (text) => (\n          <img\n            style={{ width: '1.5625rem', marginLeft: '0.625rem' }}\n            src={text}\n            alt=\"product\" />\n        )\n      },\n      {\n        title: 'Sản phẩm',\n        dataIndex: 'name',\n        key: 'name',\n        width: '12.5rem'\n      },\n      {\n        title: 'Thể loại',\n        dataIndex: 'category',\n        key: 'category',\n        width: '11.25rem',\n        render: (text, record) => (<span>{record.category.name}</span>)\n      },\n      {\n        title: 'Nhà cung cấp',\n        dataIndex: 'supplier',\n        key: 'supplier',\n        width: '12.5rem',\n        render: (text, record) => (\n          <SupplierContactPopover\n            supplier={{ ...record.supplier }}\n            buttonText={record.supplier.name}\n            buttonStyle={{ fontSize: '0.6875rem' }}\n            placement=\"right\"\n          />\n        )\n      },\n      {\n        title: 'Giá bán',\n        dataIndex: 'price',\n        key: 'price',\n        width: '7.5rem',\n        sorter: (a, b) => a.price - b.price,\n        render: (text) => (\n          <NumberFormat\n            value={Number(text)}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n          />\n        )\n      },\n      {\n        title: `SL đã nhập (Th${this.state.month}/${this.state.year})`,\n        dataIndex: 'importedQuantity',\n        key: 'importedQuantity',\n        width: '5rem',\n        sorter: (a, b) => a.importedQuantity - b.importedQuantity,\n        render: (text) => (<center>{text}</center>)\n      },\n      {\n        title: `SL đã bán (Th${this.state.month}/${this.state.year})`,\n        dataIndex: 'soldQuantity',\n        key: 'soldQuantity',\n        width: '5rem',\n        sorter: (a, b) => a.soldQuantity - b.soldQuantity,\n        render: (text) => (<center>{text}</center>)\n      },\n      {\n        title: 'SL tồn kho',\n        dataIndex: 'availableQuantity',\n        key: 'availableQuantity',\n        width: '6.25rem',\n        sorter: (a, b) => a.availableQuantity - b.availableQuantity,\n        render: (text) => (<center>{text}</center>)\n      },\n      {\n        title: 'Trạng thái',\n        dataIndex: 'status',\n        key: 'status',\n        width: '6.25rem',\n        render: (text, record) => (\n          <center>\n            {record.availableQuantity === 0 ? (\n              <span style={{ color: 'crimson', fontWeight: 'bold' }}>Hết hàng</span>\n            ) : 'Còn hàng'}\n          </center>\n        )\n      },\n      {\n        title: <center>Mã QR</center>,\n        dataIndex: 'qrcode',\n        key: 'qrcode',\n        render: (value, record) => (\n          <center>\n            <QRCode\n              value={record._id}\n              style={{ width: '1.5625rem', height: '1.5625rem' }}\n            />\n          </center>\n        )\n      }\n    ];\n\n    return (\n      <div className=\"reporting\">\n        <div className=\"reporting__header-cover\"></div>\n        <div className=\"reporting__header-cover2\"></div>\n        <ReactToPrint\n          trigger={() => (\n            <Tooltip title=\"Xuất báo cáo\" placement=\"left\">\n              <Button\n                className=\"reporting__btn-print-report\"\n                shape=\"circle\"\n                type=\"primary\"\n                icon={<PrinterFilled />}\n              />\n            </Tooltip>\n          )}\n          content={() => this.reportToPrintRef}\n        />\n        <div className=\"reporting__report-to-print\">\n          <ReportToPrint\n            ref={el => (this.reportToPrintRef = el)}\n            soldProducts={[...this.state.soldProducts]}\n            importedProducts={[...this.state.importedProducts]}\n            sellingRevenueTotal={this.state.revenueTotal}\n            salaryTotal={this.state.salaryTotal}\n            importingCostTotal={this.state.importingCostTotal}\n            month={this.state.month}\n            year={this.state.year}\n          />\n        </div>\n        <div className=\"reporting__header\">\n          <div className=\"reporting__header__date-picker\">\n            <span className=\"reporting__header__date-picker__label\">Chọn tháng:</span>\n            <DatePicker\n              defaultValue={moment(`${month}/${year}`, 'MM/YYYY')}\n              format={'MM/YYYY'}\n              picker=\"month\"\n              size=\"small\"\n              clearIcon={null}\n              placeholder={null}\n              bordered={false}\n              monthCellRender={date => this.monthCellRender(date)}\n              onChange={e => this.onDatePickerChange(e)}\n            />\n          </div>\n\n        </div>\n\n        <RevenueStatistic\n          month={month}\n          year={year}\n          revenueTotal={revenueTotal}\n          paymentTotal={paymentTotal}\n          salaryTotal={this.state.salaryTotal}\n          importingCostTotal={importingCostTotal}\n          statisticData={[...revenueStatisticData]}\n        />\n\n        <div className=\"product-statistic reporting__block-style\">\n          <Row style={{ width: '100%' }}>\n            <Col span={24}>\n              <div className=\"product-statistic__products\">\n                <div className=\"product-statistic__products__header\">\n                  <div className=\"product-statistic__products__header__cover\"></div>\n                </div>\n                <div className=\"product-statistic__products__statistic\">\n                  <Row style={{ width: '100%' }} gutter={[0, 10]}>\n\n                    <Col span={6} xs={24} lg={6} style={{ paddingLeft: 0 }}>\n                      <ImportingStatistic\n                        importedProducts={[...this.state.importedProducts]}\n                        importedQuantityTotal={importedQuantityTotal}\n                        requiredQuantityTotal={requiredQuantityTotal}\n                        importingCostTotal={importingCostTotal}\n                        requiredImportingCostTotal={requiredImportingCostTotal}\n                      />\n                    </Col>\n\n                    <Col span={18} xs={24} lg={18} style={{ paddingRight: 0 }}>\n                      <div className=\"product-statistic__products__statistic__item\">\n                        <ProductQuantityStatistic\n                          soldQuantityTotal={soldQuantityTotal}\n                          newProductTotal={newProductTotal}\n                          availableQuantityTotal={productTotal}\n                          soldQuantityStatisticData={[...soldQuantityStatisticData]}\n                          sellingHistories={[...this.state.sellingHistories]}\n                          newProducts={[...this.state.newProducts]}\n                        />\n                        <BestSelling\n                          products={[...bestSellingProducts]}\n                        />\n                      </div>\n                    </Col>\n\n                  </Row>\n                </div>\n\n                <div className=\"product-statistic__products__list\">\n                  <div className=\"product-statistic__products__list__header\">\n                    <Row style={{ width: '100%' }} gutter={{ xs: [10, 10] }}>\n                      <Col span={8} xs={24} lg={8}>\n                        <h1>\n                          Sản phẩm siêu thị\n                          <span className=\"product-statistic__products__list__header__product-total\">\n                            {this.state.productTotal}\n                          </span>\n                        </h1>\n                      </Col>\n                      <Col span={10} xs={0} lg={10}></Col>\n                      <Col span={6} align=\"center\" xs={24} lg={6}>\n                        <Input\n                          prefix={<SearchOutlined style={{ marginRight: 3 }} />}\n                          placeholder=\"Tìm kiếm sản phẩm...\"\n                          style={{ marginTop: 3 }}\n                        />\n                      </Col>\n                    </Row>\n                  </div>\n                  <div className=\"product-statistic__products__list__wrapper\">\n                    <Table\n                      dataSource={[...products]}\n                      columns={columns}\n                      pagination={isPaginationShown ? {\n                        current: productCurrentPage,\n                        pageSize: productPageLimit,\n                        total: productTotal,\n                        onChange: page => this.onProductPageChange(page)\n                      } : false}\n                    />\n                  </div>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </div>\n\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(Reporting));","export default {\n  'MALE': {\n    type: 'MALE',\n    name: 'Nam'\n  },\n  'FEMALE': {\n    type: 'FEMALE',\n    name: 'Nữ'\n  }\n}","import React from 'react';\nimport { PlusOutlined, UserAddOutlined, UserOutlined, KeyOutlined } from '@ant-design/icons';\nimport { Tooltip, Button, Modal, Form, Input, Select, DatePicker, Row, Col, Divider, message } from 'antd';\nimport './AddStaffDialog.style.scss';\nimport USER_SEX from '../../../../../constants/user-sex';\nimport USER_ROLES from '../../../../../constants/user-role.constant';\nimport moment from 'moment';\nimport { withCookies } from 'react-cookie';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport { API } from '../../../../../constants/api.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport ImageUploader from '../../../../utilities/ImageUploader/ImageUploader';\n\nconst { Option } = Select;\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 18 },\n};\n\nclass AddStaffDialog extends PageBase {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false\n    }\n\n    this.formRef = React.createRef();\n  }\n\n  setDialogVisible(isVisible) {\n    if (!isVisible) {\n      this.formRef.current.resetFields();\n    }\n    this.setState({ isVisible });\n  }\n\n  onOk() {\n    document.getElementById('add-staff-dialog-btn-submit').click();\n  }\n\n  onCancel() {\n    this.setDialogVisible(false);\n  }\n\n  onFinish = async (values) => {\n    try {\n      let params = { ...values };\n      if (params.password !== params.confirmedPassword) {\n        message.error('Nhập lại mật khẩu không chính xác');\n        return;\n      }\n\n      params.dateOfBirth = moment(params.dateOfBirth).format('DD-MM-YYYY');\n      delete params.confirmedPassword;\n\n      const res = await (\n        await fetch(\n          API.Manager.StaffManagement.addStaff,\n          {\n            method: 'POST',\n            body: JSON.stringify(params),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.props.reloadStaffs(res.data.user);\n      this.setDialogVisible(false);\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog\">\n        <Tooltip placement=\"bottom\" title=\"Thêm nhân viên\">\n          <Button\n            className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__btn-open animated bounceIn\"\n            style={{ animationDelay: '0.8s' }}\n            shape=\"circle\"\n            type=\"link\"\n            icon={<PlusOutlined />}\n            onClick={() => this.setDialogVisible(true)}\n          />\n        </Tooltip>\n\n        <Modal\n          className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__content\"\n          title={\n            <div>\n              <UserAddOutlined style={{ color: '#ff8220', marginRight: 10 }} />\n              <span style={{ color: '#ff8220', fontWeight: 'bold' }}>Thêm nhân viên mới</span>\n            </div>\n          }\n          centered\n          visible={this.state.isVisible}\n          onOk={() => this.onOk()}\n          onCancel={() => this.onCancel()}\n          okText=\"Hoàn tất\"\n          cancelText=\"Hủy bỏ\"\n          okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n        >\n\n          <Form\n            {...layout}\n            ref={current => { this.formRef.current = current; }}\n            className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__form\"\n            onFinish={e => this.onFinish(e)}\n            onFinishFailed={() => { message.error('Vui lòng kiểm tra lại thông tin'); }}\n          >\n            <Form.Item style={{ display: 'none' }}>\n              <Button type=\"primary\" htmlType=\"submit\" id=\"add-staff-dialog-btn-submit\" />\n            </Form.Item>\n\n            <Row gutter={10}>\n              <Col span={10} md={10} xs={24}>\n                <h3\n                  className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__form__title\">\n                  <span className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__form__title__icon\">\n                    <UserOutlined />\n                  </span>\n                  <span>Thông tin cá nhân</span>\n                </h3>\n\n                <div className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__form__img-uploader\">\n                  <ImageUploader\n                    width={100}\n                    height={100}\n                    isAvatar={true}\n                    onFinish={imageUrl => {\n                      if (this.formRef.current) {\n                        this.formRef.current.setFieldsValue({ avatar: imageUrl });\n                      }\n                    }}\n                    clearImage={!this.state.isVisible}\n                  />\n                </div>\n\n                <Form.Item\n                  label=\"Họ và tên\"\n                  name=\"fullname\"\n                  rules={[\n                    {\n                      required: true,\n                      message: 'Vui lòng nhập họ và tên'\n                    }\n                  ]}\n                >\n                  <Input placeholder=\"Tối đa 30 kí tự\" autoFocus={true} />\n                </Form.Item>\n\n                <Form.Item\n                  label=\"Chức vụ\"\n                  name=\"role\"\n                  rules={[\n                    {\n                      required: true,\n                      message: 'Vui lòng chọn chức vụ'\n                    }\n                  ]}\n                >\n                  <Select\n                    placeholder=\"Chọn chức vụ\"\n                    allowClear\n                  >\n                    <Option value={USER_ROLES.CASHIER.type}>{USER_ROLES.CASHIER.name}</Option>\n                    <Option value={USER_ROLES.IMPORTER.type}>{USER_ROLES.IMPORTER.name}</Option>\n                    <Option value={USER_ROLES.MANAGER.type}>{USER_ROLES.MANAGER.name}</Option>\n                  </Select>\n                </Form.Item>\n\n                <Form.Item\n                  label=\"Giới tính\"\n                  name=\"sex\"\n                  rules={[\n                    {\n                      required: true,\n                      message: 'Vui lòng chọn giới tính'\n                    }\n                  ]}\n                >\n                  <Select\n                    placeholder=\"Chọn giới tính\"\n                    allowClear\n                  >\n                    <Option value={USER_SEX.MALE.type}>{USER_SEX.MALE.name}</Option>\n                    <Option value={USER_SEX.FEMALE.type}>{USER_SEX.FEMALE.name}</Option>\n                  </Select>\n                </Form.Item>\n\n                <Form.Item\n                  label=\"Ngày sinh\"\n                  name=\"dateOfBirth\"\n                  rules={[\n                    {\n                      required: true,\n                      message: 'Vui lòng chọn ngày sinh'\n                    }\n                  ]}\n                >\n                  <DatePicker placeholder=\"Chọn ngày sinh\" format=\"DD-MM-YYYY\" />\n                </Form.Item>\n\n                <Form.Item\n                  label=\"E-mail\"\n                  name=\"email\"\n                  rules={[\n                    {\n                      required: true,\n                      message: 'Vui lòng nhập địa chỉ email'\n                    },\n                    {\n                      type: \"email\",\n                      message: 'Địa chỉ email không hợp lệ'\n                    }\n                  ]}\n                >\n                  <Input placeholder=\"abc@gmail.com\" />\n                </Form.Item>\n\n                <Form.Item\n                  label=\"Điện thoại\"\n                  name=\"phone\"\n                >\n                  <Input maxLength={11} placeholder=\"Gồm 10 hoặc 11 số\" />\n                </Form.Item>\n\n                <Form.Item\n                  label=\"Địa chỉ\"\n                  name=\"address\"\n                >\n                  <Input.TextArea placeholder=\"227 Nguyễn Văn Cừ, Quận 5\" />\n                </Form.Item>\n\n                <Form.Item\n                  label=\"Ảnh đại diện\"\n                  name=\"avatar\"\n                  style={{ display: 'none' }}\n                >\n                  <Input placeholder=\"Dán đường dẫn ảnh vào đây\" />\n                </Form.Item>\n              </Col>\n              <Col span={2} md={2} xs={24} style={{ textAlign: 'center' }}><Divider type=\"vertical\" /></Col>\n              <Col span={12} md={12} xs={24}>\n                <h3\n                  className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__form__title\">\n                  <span className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__add-staff-dialog__form__title__icon\">\n                    <KeyOutlined />\n                  </span>\n                  <span>Tài khoản đăng nhập</span>\n                </h3>\n                <Form.Item\n                  label=\"Tên tài khoản\"\n                  name=\"username\"\n                  rules={[\n                    {\n                      required: true,\n                      message: 'Vui lòng nhập tên tài khoản'\n                    }\n                  ]}\n                >\n                  <Input placeholder=\"Tối đa 30 kí tự\" />\n                </Form.Item>\n\n                <Form.Item\n                  label=\"Mật khẩu\"\n                  name=\"password\"\n                  rules={[\n                    {\n                      required: true,\n                      message: 'Vui lòng nhập mật khẩu'\n                    }\n                  ]}\n                >\n                  <Input.Password placeholder=\"Bao gồm số, kí tự đặc biệt, hoa và thường\" />\n                </Form.Item>\n\n                <Form.Item\n                  label=\"Nhập lại mật khẩu\"\n                  name=\"confirmedPassword\"\n                  rules={[\n                    {\n                      required: true,\n                      message: 'Vui lòng nhập lại mật khẩu'\n                    }\n                  ]}\n                >\n                  <Input.Password placeholder=\"Bao gồm số, kí tự đặc biệt, hoa và thường\" />\n                </Form.Item>\n\n              </Col>\n            </Row>\n          </Form>\n\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default withCookies(AddStaffDialog);\n","import React from 'react';\nimport { withCookies } from 'react-cookie';\nimport { EditOutlined } from '@ant-design/icons';\nimport { Row, Col, Select, Form, Modal, Input, message, DatePicker, Button } from 'antd';\nimport './UpdateStaffDialog.style.scss';\nimport USER_ROLES from '../../../../../constants/user-role.constant';\nimport USER_SEX from '../../../../../constants/user-sex';\nimport moment from 'moment';\nimport * as _ from 'lodash';\nimport { API } from '../../../../../constants/api.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport ImageUploader from '../../../../utilities/ImageUploader/ImageUploader';\n\nconst { Option } = Select;\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 18 },\n};\n\nclass UpdateStaffDialog extends PageBase {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false\n    }\n\n    this.formRef = React.createRef();\n  }\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  loadSelectedStaffProfile() {\n    const { selectedStaff } = this.props;\n    let formInitialValues = {};\n    if (selectedStaff) {\n      const keys = Object.keys(selectedStaff)\n        .filter(k => ['fullname', 'role', 'sex', 'dateOfBirth', 'username', 'email', 'phone', 'address', 'avatar'].includes(k));\n\n      for (const k of keys) {\n        let value = selectedStaff[k];\n\n        if (k === 'dateOfBirth') {\n          value = value.split('-');\n          const date = new Date(Number(value[2]), Number(value[1]) - 1, Number(value[0]));\n          value = moment(date);\n        }\n\n        formInitialValues[k] = value;\n      }\n    }\n\n    if (this.formRef.current) {\n      this.formRef.current.setFieldsValue({ ...formInitialValues });\n    }\n  }\n\n  onOk() {\n    document.getElementById('update-staff-dialog-btn-submit').click();\n  }\n\n  onCancel() {\n    this.setDialogVisible(false);\n  }\n\n  onFinish = async (values) => {\n    try {\n      let params = { ...values };\n      params.dateOfBirth = moment(params.dateOfBirth).format('DD-MM-YYYY');\n      params.sex = _.find(USER_SEX, s => s.name === params.sex).type;\n\n      const res = await (\n        await fetch(\n          API.Manager.StaffManagement.updateStaffProfile.replace('{updatedUserID}', this.props.selectedStaff._id),\n          {\n            method: 'PUT',\n            body: JSON.stringify(params),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.props.reloadStaffs(res.data.user);\n      this.setDialogVisible(false);\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    const { selectedStaff } = this.props;\n    if (!selectedStaff)\n      return <></>;\n\n    return (\n      <div>\n        <div>\n          <Row align=\"middle\">\n            <Col span={2}>\n              <EditOutlined className=\"staff-management__body__staffs__sidebar__staff-features__feature__icon\" />\n            </Col>\n            <Col\n              span={22}\n              className=\"staff-management__body__staffs__sidebar__staff-features__feature__info\"\n              onClick={() => this.setDialogVisible(true)}\n            >\n              <span className=\"staff-management__body__staffs__sidebar__staff-features__feature__info__name\">\n                Chỉnh sửa thông tin</span>\n            </Col>\n          </Row>\n\n          <Modal\n            className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__update-staff-dialog__content\"\n            title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>{selectedStaff.fullname} | Thông tin cá nhân</span>}\n            centered\n            visible={this.state.isVisible}\n            onOk={() => this.onOk()}\n            onCancel={() => this.onCancel()}\n            okText=\"Lưu thay đổi\"\n            cancelText=\"Hủy bỏ\"\n            okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n          >\n\n            <Form\n              {...layout}\n              ref={ref => {\n                this.formRef.current = ref;\n                this.loadSelectedStaffProfile();\n              }}\n              className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__update-staff-dialog__form\"\n              onFinish={e => this.onFinish(e)}\n              onFinishFailed={() => { message.error('Vui lòng kiểm tra lại thông tin'); }}\n            >\n              <Form.Item style={{ display: 'none' }}>\n                <Button type=\"primary\" htmlType=\"submit\" id=\"update-staff-dialog-btn-submit\" />\n              </Form.Item>\n\n              <div className=\"staff-management__body__staffs__content__list-staffs__header__dialogs__update-staff-dialog__form__img-uploader\">\n                <ImageUploader\n                  width={100}\n                  height={100}\n                  isAvatar={true}\n                  onFinish={imageUrl => {\n                    if (this.formRef.current) {\n                      this.formRef.current.setFieldsValue({ avatar: imageUrl });\n                    }\n                  }}\n                  defaultImageUrl={selectedStaff.avatar}\n                  tooltipTitle=\"Nhấp để tải ảnh lên\"\n                  tooltipPlacement=\"bottom\"\n                  clearImage={!this.state.isVisible}\n                />\n              </div>\n\n              <Form.Item\n                label=\"Họ và tên\"\n                name=\"fullname\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Vui lòng nhập họ và tên'\n                  }\n                ]}\n              >\n                <Input placeholder=\"Tối đa 30 kí tự\" />\n              </Form.Item>\n\n              <Form.Item\n                label=\"Tên tài khoản\"\n                name=\"username\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Vui lòng nhập tên tài khoản'\n                  }\n                ]}\n              >\n                <Input placeholder=\"Tối đa 30 kí tự\" />\n              </Form.Item>\n\n              <Form.Item\n                label=\"Chức vụ\"\n                name=\"role\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Vui lòng chọn chức vụ'\n                  }\n                ]}\n              >\n                <Select\n                  placeholder=\"Chọn chức vụ\"\n                  allowClear\n                >\n                  <Option value={USER_ROLES.CASHIER.type}>{USER_ROLES.CASHIER.name}</Option>\n                  <Option value={USER_ROLES.IMPORTER.type}>{USER_ROLES.IMPORTER.name}</Option>\n                  <Option value={USER_ROLES.MANAGER.type}>{USER_ROLES.MANAGER.name}</Option>\n                </Select>\n              </Form.Item>\n\n              <Form.Item\n                label=\"Giới tính\"\n                name=\"sex\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Vui lòng chọn giới tính'\n                  }\n                ]}\n              >\n                <Select\n                  placeholder=\"Chọn giới tính\"\n                  allowClear\n                >\n                  <Option value={USER_SEX.MALE.name}>{USER_SEX.MALE.name}</Option>\n                  <Option value={USER_SEX.FEMALE.name}>{USER_SEX.FEMALE.name}</Option>\n                </Select>\n              </Form.Item>\n\n              <Form.Item\n                label=\"Ngày sinh\"\n                name=\"dateOfBirth\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Vui lòng chọn ngày sinh'\n                  }\n                ]}\n              >\n                <DatePicker placeholder=\"Chọn ngày sinh\" format=\"DD-MM-YYYY\" />\n              </Form.Item>\n\n              <Form.Item\n                label=\"E-mail\"\n                name=\"email\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Vui lòng nhập địa chỉ email'\n                  },\n                  {\n                    type: \"email\",\n                    message: 'Địa chỉ email không hợp lệ'\n                  }\n                ]}\n              >\n                <Input placeholder=\"abc@gmail.com\" />\n              </Form.Item>\n\n              <Form.Item\n                label=\"Điện thoại\"\n                name=\"phone\"\n              >\n                <Input maxLength={11} placeholder=\"Gồm 10 hoặc 11 số\" />\n              </Form.Item>\n\n              <Form.Item\n                label=\"Địa chỉ\"\n                name=\"address\"\n              >\n                <Input.TextArea placeholder=\"227 Nguyễn Văn Cừ, Quận 5\" />\n              </Form.Item>\n\n              <Form.Item\n                label=\"Ảnh đại diện\"\n                name=\"avatar\"\n                style={{ display: 'none' }}\n              >\n                <Input placeholder=\"Dán đường dẫn ảnh vào đây\" />\n              </Form.Item>\n\n            </Form>\n\n          </Modal>\n\n        </div>\n      </div>\n    )\n  }\n}\nexport default withCookies(UpdateStaffDialog);","import React, { Component } from 'react';\nimport { withCookies } from 'react-cookie';\nimport { Row, Col, Table, Empty } from 'antd';\nimport './WorkScheduleReportToPrint.style.scss';\nimport USER_ROLES from '../../../../../../constants/user-role.constant';\nimport moment from 'moment';\nimport { COOKIE_NAMES } from '../../../../../../constants/cookie-name.constant';\n\nconst weekDays = ['Thứ 2', 'Thứ 3', 'Thứ 4', 'Thứ 5', 'Thứ 6', 'Thứ 7', 'Chủ nhật'];\n\nclass WorkScheduleReportToPrint extends Component {\n  render() {\n    const manager = this.props.cookies.get(COOKIE_NAMES.user);\n    let { staff } = this.props;\n\n    if (!staff)\n      return (<Empty description=\"Không tìm thấy lịch làm việc\" className=\"work-schedule-report-to-print__empty\" />);\n\n    const dataSource = [\n      {\n        key: '0',\n        workShifts: [\n          [],\n          [],\n          [],\n          [],\n          [],\n          [],\n          []\n        ]\n      }\n    ];\n    for (const wa of staff.workAssignments) {\n      const weekday = moment(wa.startTime).isoWeekday() - 1;\n      dataSource[0].workShifts[weekday].push(wa);\n    }\n\n    const columns = [\n      {\n        title: '',\n        dataIndex: 'workShifts',\n        key: 'workShifts',\n        render: (text, record) => {\n          return (\n            <ul>{record.workShifts[0].map((ws, index) => (\n              <li key={`${index}_0`}>{`${moment(ws.startTime).format('HH:mm')} - ${moment(ws.endTime).format('HH:mm')}`}</li>\n            ))}</ul>\n          )\n        }\n      },\n      {\n        title: '',\n        dataIndex: 'workShifts',\n        key: 'workShifts',\n        render: (text, record) => {\n          return (\n            <ul>{record.workShifts[1].map((ws, index) => (\n              <li key={`${index}_1`}>{`${moment(ws.startTime).format('HH:mm')} - ${moment(ws.endTime).format('HH:mm')}`}</li>\n            ))}</ul>\n          )\n        }\n      },\n      {\n        title: '',\n        dataIndex: 'workShifts',\n        key: 'workShifts',\n        render: (text, record) => {\n          return (\n            <ul>{record.workShifts[2].map((ws, index) => (\n              <li key={`${index}_2`}>{`${moment(ws.startTime).format('HH:mm')} - ${moment(ws.endTime).format('HH:mm')}`}</li>\n            ))}</ul>\n          )\n        }\n      },\n      {\n        title: '',\n        dataIndex: 'workShifts',\n        key: 'workShifts',\n        render: (text, record) => {\n          return (\n            <ul>{record.workShifts[3].map((ws, index) => (\n              <li key={`${index}_3`}>{`${moment(ws.startTime).format('HH:mm')} - ${moment(ws.endTime).format('HH:mm')}`}</li>\n            ))}</ul>\n          )\n        }\n      },\n      {\n        title: '',\n        dataIndex: 'workShifts',\n        key: 'workShifts',\n        render: (text, record) => {\n          return (\n            <ul>{record.workShifts[4].map((ws, index) => (\n              <li key={`${index}_4`}>{`${moment(ws.startTime).format('HH:mm')} - ${moment(ws.endTime).format('HH:mm')}`}</li>\n            ))}</ul>\n          )\n        }\n      },\n      {\n        title: '',\n        dataIndex: 'workShifts',\n        key: 'workShifts',\n        render: (text, record) => {\n          return (\n            <ul>{record.workShifts[5].map((ws, index) => (\n              <li key={`${index}_5`}>{`${moment(ws.startTime).format('HH:mm')} - ${moment(ws.endTime).format('HH:mm')}`}</li>\n            ))}</ul>\n          )\n        }\n      },\n      {\n        title: '',\n        dataIndex: 'workShifts',\n        key: 'workShifts',\n        render: (text, record) => {\n          return (\n            <ul>{record.workShifts[6].map((ws, index) => (\n              <li key={`${index}_6`}>{`${moment(ws.startTime).format('HH:mm')} - ${moment(ws.endTime).format('HH:mm')}`}</li>\n            ))}</ul>\n          )\n        }\n      }\n    ];\n    const startDate = moment().startOf('day').subtract(moment().isoWeekday() - 1, 'days');\n    const endDate = moment().endOf('day').add(7 - moment().isoWeekday(), 'days');\n    let dates = [];\n\n    for (let i = 0; i < 7; i++) {\n      const date = moment(startDate).add(i, 'days').format('DD/MM');\n      dates.push(date);\n    }\n\n    for (const i in columns) {\n      let title = weekDays[i];\n      columns[i].title = `${title} (${dates[i]})`;\n    }\n\n    return (\n      <div className=\"work-schedule-report-to-print\">\n\n        <div className=\"work-schedule-report-to-print__header\">\n          <div className=\"work-schedule-report-to-print__header__company\">\n            <img\n              className=\"work-schedule-report-to-print__header__company__logo\"\n              src={require('../../../../../../assets/images/app-logo.png')} alt=\"logo\" />\n            <div className=\"work-schedule-report-to-print__header__company__brand\">\n              <div className=\"work-schedule-report-to-print__header__company__brand__name\">\n                <span>Mini Mart</span>\n              </div>\n              <div className=\"work-schedule-report-to-print__header__company__brand__slogan\">\n                <span>Tiện Lợi mà Chất Lượng</span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"work-schedule-report-to-print__header__created-date\">\n            <span>{moment().format('DD/MM/YYYY HH:mm')}</span>\n          </div>\n\n          <div className=\"work-schedule-report-to-print__header__title\">\n            <h2>Lịch làm việc trong tuần</h2>\n            <span className=\"work-schedule-report-to-print__header__title__date-range\">\n              (Từ ngày {startDate.format('DD/MM/YYYY')} đến ngày {endDate.format('DD/MM/YYYY')})\n            </span>\n          </div>\n        </div>\n\n        <div className=\"work-schedule-report-to-print__content\">\n          <div className=\"work-schedule-report-to-print__content__staff-info\">\n            <h3>Thông tin nhân viên</h3>\n            <Row\n              style={{ width: '100%' }}\n              gutter={10}\n              className=\"work-schedule-report-to-print__content__staff-info__item\"\n            >\n              <Col span={7} style={{ fontWeight: 'bold' }}>Họ và tên</Col>\n              <Col span={17} style={{ fontWeight: 'bold', fontSize: 14 }}>{staff.fullname}</Col>\n            </Row>\n            <Row\n              style={{ width: '100%' }}\n              gutter={10}\n              className=\"work-schedule-report-to-print__content__staff-info__item\"\n            >\n              <Col span={7} style={{ fontWeight: 'bold' }}>Ngày sinh</Col>\n              <Col span={17}>{staff.dateOfBirth}</Col>\n            </Row>\n            <Row\n              style={{ width: '100%' }}\n              gutter={10}\n              className=\"work-schedule-report-to-print__content__staff-info__item\"\n            >\n              <Col span={7} style={{ fontWeight: 'bold' }}>Chức vụ</Col>\n              <Col span={17}>{USER_ROLES[staff.role].name}</Col>\n            </Row>\n          </div>\n\n          <div className=\"work-schedule-report-to-print__content__work-schedule\">\n            <h3>Ca được phân công</h3>\n\n            <Table\n              bordered\n              dataSource={dataSource}\n              columns={columns}\n              pagination={false}\n              className=\"work-schedule-report-to-print__content__work-schedule__table\"\n            />\n\n          </div>\n\n          <Row justify=\"center\" align=\"middle\"\n            className=\"work-schedule-report-to-print__content__manager-confirm\">\n            <Col span={14}></Col>\n            <Col span={10} align=\"middle\">\n              <span className=\"work-schedule-report-to-print__content__manager-confirm__stand-for\">TM. Người quản lý</span>\n              <div className=\"work-schedule-report-to-print__content__manager-confirm__signature\">\n                <img src={require('../../../../../../assets/images/tue-signature.png')} alt=\"signature\" />\n              </div>\n              <span className=\"work-schedule-report-to-print__content__manager-confirm__fullname\">{manager.fullname}</span>\n            </Col>\n          </Row>\n\n        </div>\n      </div>\n    )\n  }\n}\nexport default withCookies(WorkScheduleReportToPrint);","export default {\n  WORK_SCHEDULE: {\n    type: 'WORK_SCHEDULE',\n    title: 'Lịch làm việc trong tuần'\n  },\n  SELLING: {\n    type: 'SELLING',\n    title: 'Sản phẩm đã bán - tồn kho'\n  },\n  PAYMENT_REVENUE: {\n    type: 'PAYMENT_REVENUE',\n    title: 'Thu chi trong tháng'\n  }\n}","import React from 'react';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nimport './StaffManagement.style.scss';\nimport { SearchOutlined, UserDeleteOutlined, TeamOutlined, ExclamationCircleOutlined, CalendarOutlined } from '@ant-design/icons';\nimport { Input, Row, Col, Select, Table, Avatar, message, Skeleton, Modal, Empty } from 'antd';\nimport { withCookies } from 'react-cookie';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport { API } from '../../../../constants/api.constant';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../redux/actions';\nimport moment from 'moment';\nimport USER_ROLES from '../../../../constants/user-role.constant';\nimport AddStaffDialog from './AddStaffDialog/AddStaffDialog';\nimport UpdateStaffDialog from './UpdateStaffDialog/UpdateStaffDialog';\nimport ReactToPrint from 'react-to-print';\nimport WorkScheduleReportToPrint from '../Reporting/WorkScheduleReport/WorkScheduleReportToPrint/WorkScheduleReportToPrint';\nimport REPORTS from '../../../../constants/report.constant';\n\nconst { Option } = Select;\nconst { confirm } = Modal;\n\nclass StaffManagement extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      staffs: [],\n      filteredStaffs: [],\n      selectedStaff: null,\n      searchStaffText: '',\n      filteredStaffRole: null,\n      isLoading: true\n    }\n  }\n\n  componentDidMount() {\n    this.loadStaffs(null, null);\n  }\n\n  loadStaffs = async (role, defaultStaff) => {\n    try {\n      this.props.setAppLoading(true);\n\n      let url = API.Manager.StaffManagement.getListStaffs;\n      if (role) {\n        url += `?role=${role}`;\n      }\n\n      const res = await (\n        await fetch(\n          url,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      this.setState({ isLoading: false });\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      const { users } = res.data;\n      let { filteredStaffs, selectedStaff } = this.state;\n\n      if (!role) {\n        filteredStaffs = [...users];\n      } else {\n        filteredStaffs = users.filter(u => u.role === role);\n      }\n\n      if (filteredStaffs.length > 0) {\n        if (defaultStaff) {\n          if (selectedStaff.workAssignments) {\n            const { workAssignments } = selectedStaff;\n            selectedStaff = { ...defaultStaff, workAssignments }\n          }\n        } else {\n          selectedStaff = filteredStaffs[0];\n        }\n      } else {\n        selectedStaff = null;\n      }\n\n      this.setState({ staffs: users, filteredStaffs, selectedStaff });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  onClickListStaffsRow(record) {\n    this.setState({ selectedStaff: record });\n  }\n\n  filterListStaffsByRole(role) {\n    let { filteredStaffs, staffs, selectedStaff } = this.state;\n\n    if (!role) {\n      filteredStaffs = [...staffs];\n    } else {\n      filteredStaffs = staffs.filter(s => s.role === role);\n    }\n\n    if (filteredStaffs.length > 0) {\n      selectedStaff = filteredStaffs[0];\n    } else {\n      selectedStaff = null;\n    }\n\n    this.setState({ filteredStaffs, filteredStaffRole: role, selectedStaff });\n  }\n\n  openRemoveStaffConfirm(staff) {\n    const that = this;\n    confirm({\n      title: `Bạn có muốn xóa ${staff.fullname} khỏi hệ thống?`,\n      icon: <ExclamationCircleOutlined />,\n      content: '',\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      async onOk() {\n        try {\n          that.props.setAppLoading(true);\n\n          const staffID = staff._id;\n          const res = await (\n            await fetch(\n              API.Manager.StaffManagement.removeStaff.replace('{deletedUserID}', staffID),\n              {\n                method: 'DELETE',\n                headers: {\n                  'Content-type': 'application/json; charset=UTF-8',\n                  'token': that.props.cookies.get(COOKIE_NAMES.token)\n                },\n                signal: that.abortController.signal\n              }\n            )\n          ).json();\n\n          that.props.setAppLoading(false);\n          if (res.status !== 200) {\n            message.error(res.errors[0]);\n            return;\n          }\n\n          let { staffs, filteredStaffRole, filteredStaffs, selectedStaff } = that.state;\n          staffs = staffs.filter(s => s._id !== staffID);\n          staffs.sort((a, b) => {\n            const time1 = new Date(a.createdAt).getTime();\n            const time2 = new Date(b.createdAt).getTime();\n            return time2 - time1;\n          });\n\n          filteredStaffs = staffs.filter(s => {\n            if (filteredStaffRole)\n              return s.role === filteredStaffRole;\n            return true;\n          });\n          if (filteredStaffs.length > 0) {\n            selectedStaff = filteredStaffs[0];\n          } else {\n            selectedStaff = null;\n          }\n\n          that.setState({ staffs, selectedStaff, filteredStaffs });\n          message.success(res.messages[0]);\n        } catch (error) {\n          return error;\n        }\n      },\n      onCancel() { },\n    });\n  }\n\n  onChangeSearchStaffInput(text) {\n    this.setState({ searchStaffText: text });\n\n    if (!text) {\n      this.filterListStaffsByRole(this.state.filteredStaffRole);\n    } else {\n      let { filteredStaffs } = this.state;\n      filteredStaffs = filteredStaffs\n        .filter(s => {\n          const keys = [...Object.keys(s)].filter(k => typeof (s[k]) === 'string');\n          for (const k of keys) {\n            if (s[k].toLowerCase().includes(text.toLowerCase()))\n              return true;\n          }\n          return false;\n        });\n\n      this.setState({ filteredStaffs });\n    }\n  }\n\n  render() {\n    let { filteredStaffs, selectedStaff, isLoading } = this.state;\n    filteredStaffs = filteredStaffs.map((s, i) => {\n      let staff = JSON.parse(JSON.stringify(s));\n      staff.key = i;\n      return staff;\n    });\n    let columns;\n    if (filteredStaffs.length === 0) {\n      columns = [];\n      selectedStaff = null;\n    } else {\n      if (!selectedStaff) {\n        selectedStaff = filteredStaffs[0];\n      }\n\n      columns = Object.keys(filteredStaffs[0])\n        .filter(k => !['_id', 'avatar', 'updatedAt', '__v', 'key', 'workAssignments'].includes(k));\n      columns = columns.map(k => {\n        let title, colIndex;\n        switch (k) {\n          case 'fullname': title = 'Nhân viên'; colIndex = 0; break;\n          case 'username': title = 'Tên TK'; colIndex = 1; break;\n          case 'role': title = 'Chức vụ'; colIndex = 2; break;\n          case 'dateOfBirth': title = 'Ngày sinh'; colIndex = 3; break;\n          case 'sex': title = 'Giới tính'; colIndex = 4; break;\n          case 'email': title = 'Email'; colIndex = 5; break;\n          case 'phone': title = 'Điện thoại'; colIndex = 6; break;\n          case 'address': title = 'Địa chỉ'; colIndex = 7; break;\n          case 'salaryRate': title = 'HS lương'; colIndex = 8; break;\n          case 'createdAt': title = 'Ngày tham gia'; colIndex = 9; break;\n          default: break;\n        }\n\n        let column = {\n          title,\n          colIndex,\n          dataIndex: k,\n          width: 100\n        }\n\n        if (k === 'fullname') {\n          column.render = (text, record) => (\n            <Row align=\"middle\" style={{ width: '100%' }}>\n              <Col span={6}><Avatar src={record.avatar} style={{ width: '1.375rem', height: '1.375rem' }} /></Col>\n              <Col span={18}><span style={{ fontWeight: 'bold' }}>{text}</span></Col>\n            </Row>\n          );\n          column.width = 160;\n        }\n\n        if (k === 'role') {\n          column.render = (text, record) => {\n            let className;\n            if (text === USER_ROLES.MANAGER.type)\n              className = 'staff-management__role-badge staff-management__role-badge--manager';\n            if (text === USER_ROLES.CASHIER.type)\n              className = 'staff-management__role-badge staff-management__role-badge--cashier';\n            if (text === USER_ROLES.IMPORTER.type)\n              className = 'staff-management__role-badge staff-management__role-badge--importer';\n\n            return (<span className={className}>{USER_ROLES[text].name}</span>)\n          };\n          column.width = 120;\n        }\n\n        if (k === 'address') {\n          column.width = 180;\n        }\n\n        if (k === 'email' || k === 'createdAt') {\n          column.width = 140;\n        }\n\n        if (k === 'salaryRate' || k === 'dateOfBirth' || k === 'phone') {\n          column.width = 100;\n        }\n\n        if (k === 'sex') {\n          column.width = 80;\n        }\n\n        if (k === 'createdAt') {\n          column.render = text => moment(text).format('DD-MM-YYYY HH:mm');\n        }\n\n        return column;\n      });\n\n      columns.sort((a, b) => a.colIndex - b.colIndex);\n    }\n\n    return (\n      <div className=\"staff-management\">\n        <div className=\"staff-management__body\">\n          <Row className=\"staff-management__body__staffs\">\n            <Col span={4} md={4} xs={8}>\n              <div className=\"staff-management__body__staffs__sidebar\">\n                <div className=\"staff-management__body__staffs__sidebar__staff-details\">\n                  {selectedStaff ? (\n                    <Avatar\n                      className=\"staff-management__body__staffs__sidebar__staff-details__avatar\"\n                      src={selectedStaff ? selectedStaff.avatar : 'https://cdn.wrytin.com/images/avatar/s/256/default.jpeg'}\n                    />\n                  ) : (\n                      <div className=\"staff-management__body__staffs__sidebar__staff-details__avatar\">\n                        <Skeleton.Avatar\n                          active={true} size={50}\n                          shape=\"circle\"\n                        />\n                      </div>\n                    )}\n                  <div className=\"staff-management__body__staffs__sidebar__staff-details__basic-info\">\n                    <div className=\"staff-management__body__staffs__sidebar__staff-details__basic-info__name\">\n                      <span>\n                        {selectedStaff ? selectedStaff.fullname : (\n                          <Skeleton.Input style={{ width: 100, height: 20 }} active={true} size=\"small\" />\n                        )}\n                      </span>\n                    </div>\n                    <div className=\"staff-management__body__staffs__sidebar__staff-details__basic-info__role\">\n                      <span>{selectedStaff ? USER_ROLES[selectedStaff.role].name : ''}</span>\n                    </div>\n                  </div>\n                </div>\n\n                <ul className=\"staff-management__body__staffs__sidebar__staff-features\">\n                  <li className=\"staff-management__body__staffs__sidebar__staff-features__feature\">\n                    {selectedStaff ? (\n                      <UpdateStaffDialog\n                        selectedStaff={{ ...selectedStaff }}\n                        reloadStaffs={updatedStaff => this.loadStaffs(this.state.filteredStaffRole, updatedStaff)}\n                      />\n                    ) : (<Skeleton.Input style={{ width: '100%', height: 30, borderRadius: 3 }} active={true} size=\"small\" />)}\n                  </li>\n                  <li className=\"staff-management__body__staffs__sidebar__staff-features__feature\">\n                    {selectedStaff ? (\n                      <div>\n                        <ReactToPrint\n                          trigger={() => (\n                            <Row align=\"middle\">\n                              <Col span={2}>\n                                <CalendarOutlined className=\"staff-management__body__staffs__sidebar__staff-features__feature__icon\" />\n                              </Col>\n                              <Col\n                                span={22}\n                                className=\"staff-management__body__staffs__sidebar__staff-features__feature__info\"\n                              >\n                                <span className=\"staff-management__body__staffs__sidebar__staff-features__feature__info__name\">\n                                  Lịch làm việc trong tuần</span>\n                              </Col>\n                            </Row>\n                          )}\n                          content={() => this.componentToPrintRef}\n                        />\n                        <div style={{ display: 'none' }}>\n                          <WorkScheduleReportToPrint\n                            ref={el => (this.componentToPrintRef = el)}\n                            staff={{ ...selectedStaff }}\n                            basicInfo={{\n                              title: REPORTS.WORK_SCHEDULE.title,\n                              type: REPORTS.WORK_SCHEDULE.type,\n                              cover: 'work-schedule.jpg',\n                              description: 'Báo cáo lịch làm việc trong tuần của một nhân viên.'\n                            }}\n                          />\n                        </div>\n                      </div>\n                    ) : (<Skeleton.Input style={{ width: '100%', height: 30, borderRadius: 3 }} active={true} size=\"small\" />)}\n                  </li>\n                  <li\n                    className=\"staff-management__body__staffs__sidebar__staff-features__feature\"\n                    onClick={() => this.openRemoveStaffConfirm(selectedStaff)}\n                  >\n                    {selectedStaff ? (\n                      <Row align=\"middle\">\n                        <Col span={2}>\n                          <UserDeleteOutlined className=\"staff-management__body__staffs__sidebar__staff-features__feature__icon\" />\n                        </Col>\n                        <Col span={22} className=\"staff-management__body__staffs__sidebar__staff-features__feature__info\">\n                          <span className=\"staff-management__body__staffs__sidebar__staff-features__feature__info__name\">\n                            Xóa khỏi hệ thống</span>\n                        </Col>\n                      </Row>\n                    ) : (<Skeleton.Input style={{ width: '100%', height: 30, borderRadius: 3 }} active={true} size=\"small\" />)}\n                  </li>\n                </ul>\n\n              </div>\n            </Col>\n            <Col span={20} md={20} xs={16}>\n              <div className=\"staff-management__body__staffs__content\">\n                <div className=\"staff-management__body__staffs__content__toolbar\">\n                  <Row style={{ width: '100%' }} align=\"middle\">\n                    <Col span={7} md={7} xs={24}>\n                      {!isLoading ? (\n                        <Input\n                          prefix={<SearchOutlined style={{ marginRight: 5 }} />}\n                          placeholder=\"Tìm kiếm nhân viên...\"\n                          onChange={e => this.onChangeSearchStaffInput(e.target.value)}\n                        />\n                      ) : (<Skeleton.Input style={{ width: '100%', height: 28, borderRadius: 24 }} active={true} size=\"small\" />)}\n                    </Col>\n                  </Row>\n                </div>\n                <div className=\"staff-management__body__staffs__content__list-staffs\">\n                  <div className=\"staff-management__body__staffs__content__list-staffs__header\">\n                    <div className=\"staff-management__body__staffs__content__list-staffs__header__dark-bg\"></div>\n                    <Row>\n                      <Col span={6} md={6} xs={23}>\n                        {!isLoading ? (\n                          <div\n                            className=\"staff-management__body__staffs__content__list-staffs__header__role-selection\">\n                            <Select\n                              defaultValue={null}\n                              style={{ width: 200 }}\n                              onChange={value => this.filterListStaffsByRole(value)}\n                            >\n                              <Option value={null}>Tất cả nhân viên</Option>\n                              <Option value={USER_ROLES.CASHIER.type}>{USER_ROLES.CASHIER.name}</Option>\n                              <Option value={USER_ROLES.IMPORTER.type}>{USER_ROLES.IMPORTER.name}</Option>\n                              <Option value={USER_ROLES.MANAGER.type}>{USER_ROLES.MANAGER.name}</Option>\n                            </Select>\n                            <div className=\"staff-management__body__staffs__content__list-staffs__header__role-selection__staft-total-by-role\">\n                              <TeamOutlined style={{ marginRight: 7 }} />\n                              <span>{filteredStaffs.length}</span>\n                            </div>\n                          </div>\n                        ) : <></>}\n                      </Col>\n                      <Col span={18} md={18} xs={1}>\n                        <div className=\"staff-management__body__staffs__content__list-staffs__header__dialogs\">\n                          {!isLoading ? (\n                            <AddStaffDialog\n                              reloadStaffs={newStaff => this.loadStaffs(this.state.filteredStaffRole, newStaff)}\n                            />\n                          ) : <></>}\n                        </div>\n                      </Col>\n                    </Row>\n                  </div>\n                  <Row className=\"staff-management__body__staffs__content__list-staffs__wrapper\">\n                    <Table\n                      locale={{ emptyText: <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"Chưa có dữ liệu\" /> }}\n                      columns={columns}\n                      dataSource={filteredStaffs}\n                      pagination={false}\n                      scroll={{ y: '27.8125rem' }}\n                      onRow={(record) => {\n                        return {\n                          onClick: () => this.onClickListStaffsRow(record)\n                        }\n                      }}\n                      rowClassName={record => record._id === selectedStaff._id ?\n                        'staff-management__body__staffs__content__list-staffs__selected-row' : ''}\n                    />\n                  </Row>\n                </div>\n              </div>\n            </Col>\n          </Row>\n        </div>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(StaffManagement));\n","export default {\n  MONDAY: 'Thứ 2',\n  TUESDAY: 'Thứ 3',\n  WEDNESDAY: 'Thứ 4',\n  THURSDAY: 'Thứ 5',\n  FRIDAY: 'Thứ 6',\n  SATURDAY: 'Thứ 7',\n  SUNDAY: 'Chủ nhật'\n}","import React from 'react';\nimport { Modal, Button, Calendar, message } from 'antd';\nimport { CalendarOutlined } from '@ant-design/icons';\nimport './BtnAddWorkSchedule.style.scss';\nimport MONTHS from '../../../../../constants/months.constant';\nimport { API } from '../../../../../constants/api.constant';\nimport { withCookies } from 'react-cookie';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\n\nclass BtnAddWorkSchedule extends PageBase {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false,\n      selectedDate: null\n    }\n  }\n\n  setModalVisible(isVisible) {\n    if (!isVisible) {\n      this.setState({\n        selectedDate: null\n      });\n    }\n    this.setState({ isVisible });\n  }\n\n  onOK = async () => {\n    try {\n      const { selectedDate } = this.state;\n      if (!selectedDate) {\n        message.error('Bạn chưa chọn tháng làm việc');\n        return;\n      }\n\n      const month = selectedDate.getMonth() + 1;\n      const year = selectedDate.getFullYear();\n      const res = await (\n        await fetch(\n          API.Manager.WorkSchedule.addWorkSchedule,\n          {\n            method: 'POST',\n            body: JSON.stringify({ month, year }),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status === 200) {\n        this.setState({ selectedDate: null });\n        this.props.reloadWorkSchedules(year);\n        this.setModalVisible(false);\n        message.success(res.messages[0]);\n      } else {\n        message.error(res.errors[0]);\n      }\n    } catch (error) {\n      return error;\n    }\n  }\n\n  onCancel() {\n    this.setModalVisible(false);\n  }\n\n  handleSelectMonth(e) {\n    const selectedDate = new Date(e);\n    this.setState({ selectedDate });\n  }\n\n  monthFullCellRender(date) {\n    const { selectedDate } = this.state;\n    const _date = new Date(date);\n    const monthIndex = _date.getMonth();\n    return (\n      <span className={`\n        add-work-schedule-dialog__calendar__month \n        ${selectedDate ? _date.getTime() === selectedDate.getTime() ? 'add-work-schedule-dialog__calendar__month--selected' : '' : ''}\n      `}>\n        {MONTHS[monthIndex]}\n      </span>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"add-work-schedule-dialog\">\n        <Button\n          className=\"add-work-schedule-dialog__btn-open\"\n          icon={<CalendarOutlined />}\n          type=\"primary\"\n          onClick={() => this.setModalVisible(true)} >\n          Thêm lịch làm việc\n        </Button>\n        <Modal\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>Thêm lịch làm việc</span>}\n          centered\n          visible={this.state.isVisible}\n          onOk={() => this.onOK()}\n          onCancel={() => this.onCancel()}\n          okText=\"Thêm\"\n          cancelText=\"Hủy bỏ\"\n          okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n        >\n\n          <div className=\"add-work-schedule-dialog__calendar\">\n            <Calendar\n              mode=\"year\"\n              monthFullCellRender={date => this.monthFullCellRender(date)}\n              fullscreen={false}\n              onPanelChange={e => this.handleSelectMonth(e)} />\n          </div>\n\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default withCookies(BtnAddWorkSchedule);","import React from 'react';\nimport { withCookies } from 'react-cookie';\nimport { Modal, Button, Tooltip, TimePicker, Row, Col, message } from 'antd';\nimport { PlusCircleFilled } from '@ant-design/icons';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport './BtnAddWorkShift.style.scss';\nimport moment from 'moment';\nimport * as _ from 'lodash';\nimport { API } from '../../../../../constants/api.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\n\nconst format = 'HH:mm';\n\nclass BtnAddWorkShift extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false,\n      startTime: null,\n      endTime: null\n    }\n  }\n\n  setModalVisible(isVisible) {\n    if (!isVisible) {\n      this.setState({\n        startTime: null,\n        endTime: null\n      })\n    }\n    this.setState({ isVisible });\n  }\n\n  sortWorkShiftsByStartTime(workShifts) {\n    workShifts.sort((a, b) => {\n      const time1 = new Date(a.startTime).getTime();\n      const time2 = new Date(b.startTime).getTime();\n      return time1 - time2;\n    });\n  }\n\n  onOK = async () => {\n    try {\n      const { startTime, endTime } = this.state;\n      if (!(startTime && endTime)) {\n        message.error('Vui lòng chọn đầy đủ các mốc thời gian');\n        return;\n      }\n\n      if (startTime >= endTime) {\n        message.error('Khoảng thời gian đã chọn không hợp lệ');\n        return;\n      }\n\n      let {\n        workSchedules,\n        selectedWorkSchedule,\n        selectedWorkDay,\n        selectedWorkShift\n      } = this.props;\n\n      const res = await (\n        await fetch(\n          API.Manager.WorkShift.addWorkShift,\n          {\n            method: 'POST',\n            body: JSON.stringify({\n              workScheduleID: selectedWorkSchedule._id,\n              startTime,\n              endTime\n            }),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status === 200) {\n        this.setModalVisible(false);\n        message.success(res.messages[0]);\n\n        const { workShift } = res.data;\n        selectedWorkDay.workShifts.push(workShift);\n        this.sortWorkShiftsByStartTime(selectedWorkDay.workShifts);\n\n        const selectedWorkShiftIndex = selectedWorkDay.workShifts.findIndex(ws => ws._id === workShift._id);\n        if (selectedWorkShiftIndex >= 0) {\n          selectedWorkShift = selectedWorkDay.workShifts[selectedWorkShiftIndex];\n          selectedWorkShift.index = selectedWorkShiftIndex;\n        }\n\n        for (const week of selectedWorkSchedule.workDays) {\n          const day = _.find(week, d => selectedWorkDay.workDayInMonth === d.workDayInMonth);\n          if (day) {\n            day.workShifts.push(workShift);\n            this.sortWorkShiftsByStartTime(day.workShifts);\n            break;\n          }\n        }\n\n        for (let wsc of workSchedules) {\n          if (wsc._id === selectedWorkSchedule._id) {\n            wsc.workShifts.push(workShift);\n            this.sortWorkShiftsByStartTime(wsc.workShifts);\n            break;\n          }\n        }\n\n        this.props.reloadWorkSchedules(workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift);\n      } else {\n        message.error(res.errors[0]);\n      }\n    } catch (error) {\n      return error;\n    }\n  }\n\n  onCancel() {\n    this.setModalVisible(false);\n  }\n\n  onChangeTimePicker(fieldName, e) {\n    const { selectedWorkDay } = this.props;\n\n    const selectedTime = new Date(e);\n    const hours = selectedTime.getHours();\n    const mins = selectedTime.getMinutes();\n    const { workDayInMonth, workMonth, workYear } = selectedWorkDay;\n    const workShiftTime = new Date(workYear, workMonth - 1, workDayInMonth, hours, mins);\n\n    switch (fieldName) {\n      case 'startTime':\n        this.setState({ startTime: workShiftTime.getTime() })\n        break;\n      case 'endTime':\n        this.setState({ endTime: workShiftTime.getTime() })\n        break;\n      default:\n        break;\n    }\n  }\n\n  render() {\n    const { selectedWorkDay } = this.props;\n    const { startTime, endTime } = this.state;\n\n    return (\n      <div className=\"add-work-shift-dialog\">\n        <Tooltip placement=\"bottom\" title=\"Thêm ca làm việc\">\n          <Button\n            onClick={() => this.setModalVisible(true)}\n            className=\"add-work-shift-dialog__btn-open\"\n            type=\"link\"\n            icon={<PlusCircleFilled />} />\n        </Tooltip>\n        <Modal\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>{`${selectedWorkDay.workWeekDay ? selectedWorkDay.workWeekDay + ', ' : ''} ${selectedWorkDay.workYear ? moment(new Date(selectedWorkDay.workYear, selectedWorkDay.workMonth - 1, selectedWorkDay.workDayInMonth)).format('DD/MM/YYYY') + ' | Ca làm việc mới' : ''}`}</span>}\n          centered\n          visible={this.state.isVisible}\n          onOk={() => this.onOK()}\n          onCancel={() => this.onCancel()}\n          okText=\"Thêm\"\n          cancelText=\"Hủy bỏ\"\n          okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n        >\n\n          <div className=\"add-work-shift-dialog__time-picker\">\n            <Row align=\"center\" className=\"add-work-shift-dialog__time-picker__time-selection\">\n              <Col span={8} className=\"add-work-shift-dialog__time-picker__time-selection__label\" align=\"center\">\n                <span>Bắt đầu</span>\n              </Col>\n              <Col span={16}>\n                <TimePicker\n                  value={startTime ? moment(new Date(startTime)) : null}\n                  placeholder=\"Chọn mốc thời gian\"\n                  format={format}\n                  onChange={e => this.onChangeTimePicker('startTime', e)}\n                />\n              </Col>\n            </Row>\n\n            <Row align=\"center\" className=\"add-work-shift-dialog__time-picker__time-selection\">\n              <Col span={8} className=\"add-work-shift-dialog__time-picker__time-selection__label\" align=\"center\">\n                <span>Kết thúc</span>\n              </Col>\n              <Col span={16}>\n                <TimePicker\n                  value={endTime ? moment(new Date(endTime)) : null}\n                  placeholder=\"Chọn mốc thời gian\"\n                  format={format}\n                  onChange={e => this.onChangeTimePicker('endTime', e)}\n                />\n              </Col>\n            </Row>\n          </div>\n\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default withCookies(BtnAddWorkShift);\n","import React from 'react';\nimport { UsergroupAddOutlined } from '@ant-design/icons';\nimport { Button, Modal, Tooltip, message, List, Avatar, Row, Col, Checkbox } from 'antd';\nimport './BtnAddWorkShiftAssigner.style.scss';\nimport { withCookies } from 'react-cookie';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport USER_ROLES from '../../../../../constants/user-role.constant';\nimport moment from 'moment';\nimport { API } from '../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\n\nclass BtnAddWorkShiftAssigner extends PageBase {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isVisible: false,\n      assigners: [],\n      isAllStaffsChecked: false,\n      selectedWorkShift: {}\n    }\n  }\n\n  isWorkShiftAssigner(selectedWorkShift, staff) {\n    const assigner = (selectedWorkShift.workAssignments || []).find(wa => wa.assigner._id === staff._id);\n    return assigner;\n  }\n\n  setModalVisible(isVisible) {\n    if (!isVisible) {\n      this.setState({\n        assigners: [],\n        isAllStaffsChecked: false\n      });\n    }\n    this.setState({ isVisible });\n  }\n\n  onOK = async () => {\n    try {\n      const { assigners } = this.state;\n      if (assigners.length === 0) {\n        message.error('Vui lòng chọn nhân viên để phân công');\n        return;\n      }\n\n      const {\n        workSchedules,\n        selectedWorkSchedule,\n        selectedWorkDay,\n        selectedWorkShift\n      } = this.props;\n\n      const res = await (\n        await fetch(\n          API.Manager.WorkAssignment.addWorkAssignments,\n          {\n            method: 'POST',\n            body: JSON.stringify({\n              workShift: selectedWorkShift._id,\n              assigners\n            }),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      const { workAssignments } = res.data;\n      selectedWorkShift.workAssignments = workAssignments;\n\n      for (let ws of selectedWorkDay.workShifts) {\n        if (ws._id === selectedWorkShift._id) {\n          ws = selectedWorkShift;\n          break;\n        }\n      }\n\n      for (let wsc of workSchedules) {\n        if (wsc._id === selectedWorkSchedule._id) {\n          const workShift = wsc.workShifts.find(ws => ws._id === selectedWorkShift._id);\n          workShift.workAssignments = workAssignments;\n          break;\n        }\n      }\n\n      this.props.reloadWorkSchedules(workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift);\n      this.setModalVisible(false);\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  onCancel() {\n    this.setModalVisible(false);\n  }\n\n  onCheckStaff(checked, staffID) {\n    const { staffs } = this.props;\n    let { assigners } = this.state;\n\n    if (checked) {\n      assigners.push(staffID);\n    } else {\n      assigners = assigners.filter(id => id !== staffID);\n    }\n\n    if (assigners.length === staffs.length) {\n      this.setState({ isAllStaffsChecked: true });\n    } else {\n      this.setState({ isAllStaffsChecked: false });\n    }\n\n    this.setState({ assigners });\n  }\n\n  onCheckAllStaffs(checked) {\n    const { staffs } = this.props;\n\n    let { assigners } = this.state;\n    if (checked) {\n      assigners = staffs.map(staff => staff._id);\n    } else {\n      assigners = [];\n    }\n\n    this.setState({ assigners, isAllStaffsChecked: checked });\n  }\n\n  render() {\n    const { selectedWorkShift, selectedWorkDay, staffs } = this.props;\n    let { assigners } = this.state;\n\n    return (\n      <div className=\"add-work-shift-assigner\">\n        <Tooltip placement=\"bottom\" title=\"Thêm nhân viên\">\n          <Button\n            onClick={() => this.setModalVisible(true)}\n            className=\"add-work-shift-assigner__btn-open\"\n            type=\"link\"\n            icon={<UsergroupAddOutlined />}\n            disabled={Object.keys(selectedWorkShift).length <= 1}\n          />\n        </Tooltip>\n        <Modal\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>{`${selectedWorkDay.workWeekDay ? selectedWorkDay.workWeekDay + ', ' : ''} ${selectedWorkDay.workYear ? moment(new Date(selectedWorkDay.workYear, selectedWorkDay.workMonth - 1, selectedWorkDay.workDayInMonth)).format('DD/MM/YYYY') + ' (' + moment(selectedWorkShift.startTime).format('HH:mm') + ' - ' + moment(selectedWorkShift.endTime).format('HH:mm') + ') | Phân ca làm việc' : ''}`}</span>}\n          centered\n          visible={this.state.isVisible}\n          onOk={() => this.onOK()}\n          onCancel={() => this.onCancel()}\n          okText=\"Phân công\"\n          cancelText=\"Hủy bỏ\"\n          okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n        >\n          <h3>Nhân viên chưa phân công ({staffs.length})</h3>\n\n          <div className=\"add-work-shift-assigner__list-staffs\">\n            <Row className=\"add-work-shift-assigner__list-staffs__header\">\n              <Col span={21} className=\"add-work-shift-assigner__list-staffs__header__col-1\">\n                {staffs.length > 0 ? (\n                  <span>Chọn tất cả</span>\n                ) : <></>}\n              </Col>\n              <Col span={3} className=\"add-work-shift-assigner__list-staffs__header__col-2\">\n                {staffs.length > 0 ? (\n                  <Checkbox\n                    onChange={e => this.onCheckAllStaffs(e.target.checked)}\n                    checked={this.state.isAllStaffsChecked} />\n                ) : <></>}\n              </Col>\n            </Row>\n            <List\n              itemLayout=\"horizontal\"\n              dataSource={staffs}\n              renderItem={staff => (\n                <List.Item>\n                  <Row style={{ width: '100%' }} className=\"animated fadeIn\">\n                    <Col span={21}>\n                      <List.Item.Meta\n                        avatar={<Avatar src={staff.avatar} />}\n                        title={staff.fullname}\n                        description={USER_ROLES[staff.role].name}\n                      />\n                    </Col>\n                    <Col span={3} className=\"add-work-shift-assigner__list-staffs__checkbox-wrapper\">\n                      <Checkbox\n                        onChange={e => this.onCheckStaff(e.target.checked, staff._id)}\n                        checked={assigners.find(id => id === staff._id) ? true : false} />\n                    </Col>\n                  </Row>\n                </List.Item>\n              )}\n            />\n          </div>\n\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default withCookies(BtnAddWorkShiftAssigner);","import React from 'react';\nimport { Row, Col, Tabs, Select, List, Avatar, Button, Modal, message, Tooltip, Skeleton, Empty } from 'antd';\nimport { CloseCircleOutlined, ExclamationCircleOutlined, LogoutOutlined, CloseOutlined } from '@ant-design/icons';\nimport USER_ROLE from '../../../../constants/user-role.constant';\nimport './WorkAssignment.style.scss';\nimport * as moment from 'moment';\nimport * as _ from 'lodash';\nimport WEEK_DAY from '../../../../constants/week-day.constant';\nimport { withCookies } from 'react-cookie';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../redux/actions';\nimport { API } from '../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nimport BtnAddWorkSchedule from './BtnAddWorkSchedule/BtnAddWorkSchedule';\nimport BtnAddWorkShift from './BtnAddWorkShift/BtnAddWorkShift';\nimport BtnAddWorkShiftAssigner from './BtnAddWorkShiftAssigner/BtnAddWorkShiftAssigner';\n\nconst { TabPane } = Tabs;\nconst { Option } = Select;\nconst { confirm } = Modal;\n\nclass WorkAssignment extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedWorkSchedule: {\n        index: 0,\n        workDays: []\n      },\n      selectedWorkDay: {},\n      selectedWorkShift: {},\n      selectedWorkYear: null,\n      workSchedules: [],\n      listWorkYears: [],\n      listStaffs: [],\n      isLoading: true,\n      isTaskWorkDayPanelToggled: false\n    }\n  }\n\n  componentDidMount() {\n    this.loadStaffs();\n    this.loadWorkSchedules(null);\n  }\n\n  loadStaffs = async () => {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Manager.StaffManagement.getListStaffs,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      if (res.status === 200) {\n        const { users } = res.data;\n        this.setState({ listStaffs: users });\n      } else {\n        message.error(res.errors[0]);\n      }\n\n      this.props.setAppLoading(false);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  refreshAllCurrenStates() {\n    this.setState({\n      selectedWorkSchedule: {\n        index: 0,\n        workDays: []\n      },\n      selectedWorkDay: {},\n      selectedWorkShift: {},\n      selectedWorkYear: null,\n      workSchedules: [],\n      listWorkYears: []\n    });\n  }\n\n  loadWorkSchedules = async (workYear) => {\n    try {\n      this.props.setAppLoading(true);\n      this.refreshAllCurrenStates();\n\n      let url = API.Manager.WorkSchedule.getWorkSchedules;\n      if (workYear) {\n        url += `?year=${workYear}`;\n      }\n\n      const res = await (\n        await fetch(url, {\n          method: 'GET',\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n            'token': this.props.cookies.get(COOKIE_NAMES.token)\n          },\n          signal: this.abortController.signal\n        })\n      ).json();\n\n      this.props.setAppLoading(false);\n      this.setState({ isLoading: false });\n\n      const { workSchedules, availableYears } = res.data\n      const listWorkYears = availableYears.map(y => ({ text: 'Năm ' + y, value: y }));\n      let { selectedWorkSchedule } = this.state;\n      selectedWorkSchedule = { ...selectedWorkSchedule, ...workSchedules[0] };\n\n      this.setState({\n        selectedWorkSchedule,\n        workSchedules,\n        listWorkYears,\n        selectedWorkYear: workYear || listWorkYears[0].value\n      });\n\n      let isWorkShiftFound = false;\n      for (let i = 0; i < selectedWorkSchedule.workDays.length; i++) {\n        for (let j = 0; j < selectedWorkSchedule.workDays[i].length; j++) {\n          if (selectedWorkSchedule.workDays[i][j].staffs.length > 0) {\n            let { selectedWorkShift } = this.state;\n            const selectedWorkDay = selectedWorkSchedule.workDays[i][j];\n\n            selectedWorkShift = selectedWorkDay.workShifts[0];\n            selectedWorkShift.index = 0;\n            isWorkShiftFound = true;\n\n            this.setState({\n              selectedWorkDay,\n              selectedWorkShift\n            });\n\n            break;\n          }\n        }\n      }\n\n      if (!isWorkShiftFound) {\n        const selectedWorkDay = selectedWorkSchedule.workDays[0][0];\n\n        let selectedWorkShift = selectedWorkDay.workShifts[0];\n        if (selectedWorkShift) {\n          selectedWorkShift.index = 0;\n        } else {\n          selectedWorkShift = { index: 0 }\n        }\n\n        this.setState({\n          selectedWorkDay,\n          selectedWorkShift\n        })\n      }\n    } catch (error) {\n      return error;\n    }\n  }\n\n  reloadWorkSchedules(workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift) {\n    this.setState({\n      workSchedules,\n      selectedWorkSchedule,\n      selectedWorkDay,\n      selectedWorkShift\n    })\n  }\n\n  toggleTaskWorkDayPanel() {\n    const { isTaskWorkDayPanelShown } = this.state;\n    this.setState({ isTaskWorkDayPanelShown: !isTaskWorkDayPanelShown });\n  }\n\n  filterWorkShiftsByDay(workShifts, day) {\n    return workShifts.filter(ws => {\n      const wsDay = new Date(ws.startTime).getDate();\n      return day === wsDay;\n    });\n  }\n\n  generateWorkDays(workSchedule) {\n    const { month, year, workShifts } = workSchedule;\n    const workDaysLength = moment(`${month}-${year}`, 'M-YYYY').daysInMonth();\n    let workDays = [];\n    let temp = [];\n    let assigners = [];\n\n    for (let i = 1; i <= workDaysLength; i++) {\n      assigners.length = 0;\n      assigners = [];\n\n      const filteredWorkShifts = this.filterWorkShiftsByDay(workShifts, i);\n      for (const ws of filteredWorkShifts) {\n        for (const wa of ws.workAssignments)\n          assigners.push(wa.assigner);\n      }\n\n      assigners = _.uniqBy(assigners, a => a._id);\n      temp.push({\n        workWeekDay: this.getWeekDay(i, month, year),\n        workDayInMonth: i,\n        workMonth: month,\n        workYear: year,\n        staffs: [...assigners],\n        workShifts: [...filteredWorkShifts]\n      });\n\n      if (i % 7 === 0) {\n        workDays.push([...temp]);\n        temp.length = 0;\n      }\n    }\n\n    temp.length = 0;\n    temp = [];\n\n    for (let i = 29; i <= workDaysLength; i++) {\n      assigners = [];\n\n      const filteredWorkShifts = this.filterWorkShiftsByDay(workShifts, i);\n      for (const ws of filteredWorkShifts) {\n        for (const wa of ws.workAssignments)\n          assigners.push(wa.assigner);\n      }\n\n      assigners = _.uniqBy(assigners, a => a._id);\n      temp.push({\n        workWeekDay: this.getWeekDay(i, month, year),\n        workDayInMonth: i,\n        workMonth: month,\n        workYear: year,\n        staffs: [...assigners],\n        workShifts: [...filteredWorkShifts]\n      });\n    }\n    workDays.push([...temp]);\n\n    return workDays;\n  }\n\n  getWeekDay(day, month, year) {\n    const weekDayNumber = moment(`${day}-${month}-${year}`, 'DD-MM-YYYY').day();\n    switch (weekDayNumber) {\n      case 1: return WEEK_DAY.MONDAY;\n      case 2: return WEEK_DAY.TUESDAY;\n      case 3: return WEEK_DAY.WEDNESDAY;\n      case 4: return WEEK_DAY.THURSDAY;\n      case 5: return WEEK_DAY.FRIDAY;\n      case 6: return WEEK_DAY.SATURDAY;\n      case 0: return WEEK_DAY.SUNDAY;\n      default: return null\n    }\n  }\n\n  handleSelectWorkSchedule(selectedWorkSchedule, index) {\n    selectedWorkSchedule.index = index;\n    selectedWorkSchedule.workDays = this.generateWorkDays(selectedWorkSchedule);\n\n    let isWorkShiftFound = false;\n    for (let i = 0; i < selectedWorkSchedule.workDays.length; i++) {\n      for (let j = 0; j < selectedWorkSchedule.workDays[i].length; j++) {\n        if (selectedWorkSchedule.workDays[i][j].staffs.length > 0) {\n          let { selectedWorkShift } = this.state;\n          const selectedWorkDay = selectedWorkSchedule.workDays[i][j];\n\n          selectedWorkShift = selectedWorkDay.workShifts[0];\n          selectedWorkShift.index = 0;\n          isWorkShiftFound = true;\n\n          this.setState({\n            selectedWorkDay,\n            selectedWorkShift\n          });\n\n          break;\n        }\n      }\n    }\n\n    if (!isWorkShiftFound) {\n      const selectedWorkDay = selectedWorkSchedule.workDays[0][0];\n\n      let selectedWorkShift = selectedWorkDay.workShifts[0];\n      if (selectedWorkShift) {\n        selectedWorkShift.index = 0;\n      } else {\n        selectedWorkShift = { index: 0 }\n      }\n\n      this.setState({\n        selectedWorkDay,\n        selectedWorkShift\n      })\n    }\n\n    this.setState({ selectedWorkSchedule });\n  }\n\n  handleSelectWorkDay(row, col) {\n    const { selectedWorkSchedule } = this.state;\n    let { selectedWorkShift } = this.state;\n    const selectedWorkDay = selectedWorkSchedule.workDays[row][col];\n\n    if (selectedWorkDay.workShifts.length > 0) {\n      selectedWorkShift = selectedWorkDay.workShifts[0];\n      selectedWorkShift.index = 0;\n    } else {\n      selectedWorkShift = {}\n    }\n\n    this.setState({\n      selectedWorkDay,\n      selectedWorkShift\n    });\n  }\n\n  handleSelectWorkShift(workShift, index) {\n    workShift.index = index;\n    this.setState({ selectedWorkShift: workShift });\n  }\n\n  openRemoveWorkShiftConfirm(workShiftID) {\n    const that = this;\n    confirm({\n      title: 'Bạn có muốn hủy ca làm việc này?',\n      icon: <ExclamationCircleOutlined />,\n      content: 'Ca làm việc chỉ có thể hủy khi không còn nhân viên nào được phân công.',\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      async onOk() {\n        try {\n          that.props.setAppLoading(true);\n          const res = await (\n            await fetch(\n              API.Manager.WorkShift.removeWorkShift.replace('{workShiftID}', workShiftID),\n              {\n                method: 'DELETE',\n                headers: {\n                  'Content-type': 'application/json; charset=UTF-8',\n                  'token': that.props.cookies.get(COOKIE_NAMES.token)\n                },\n                signal: that.abortController.signal\n              }\n            )\n          ).json();\n\n          if (res.status !== 200) {\n            that.props.setAppLoading(false);\n            message.error(res.errors[0]);\n            return;\n          }\n\n          let { selectedWorkShift, selectedWorkDay, selectedWorkSchedule, workSchedules } = that.state;\n\n          selectedWorkDay.workShifts = selectedWorkDay.workShifts.filter(ws => ws._id !== workShiftID);\n          if (selectedWorkDay.workShifts.length > 0) {\n            selectedWorkShift = selectedWorkDay.workShifts[0];\n            selectedWorkShift.index = 0;\n          } else {\n            selectedWorkShift = { index: 0 }\n          }\n\n          for (const week of selectedWorkSchedule.workDays) {\n            for (let day of week) {\n              if (day.workDayInMonth === selectedWorkDay.workDayInMonth) {\n                day = selectedWorkDay;\n                break;\n              }\n            }\n          }\n          selectedWorkSchedule.workShifts = selectedWorkSchedule.workShifts.filter(ws => ws._id !== workShiftID);\n\n          for (let i = 0; i < workSchedules.length; i++) {\n            if (workSchedules[i]._id === selectedWorkSchedule._id) {\n              workSchedules[i] = selectedWorkSchedule;\n              break;\n            }\n          }\n\n          that.reloadWorkSchedules(workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift);\n          message.success(res.messages[0]);\n          that.props.setAppLoading(false);\n        } catch (error) {\n          return error;\n        }\n      },\n      onCancel() { },\n    });\n  }\n\n  openRemoveWorkScheduleConfirm(workScheduleID) {\n    const that = this;\n    confirm({\n      title: 'Bạn có muốn hủy lịch làm việc này?',\n      icon: <ExclamationCircleOutlined />,\n      content: 'Lịch làm việc chỉ có thể hủy khi tất cả các ngày trong tháng đều chưa có ca làm việc.',\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      async onOk() {\n        try {\n          that.props.setAppLoading(true);\n          const res = await (\n            await fetch(\n              API.Manager.WorkSchedule.removeWorkSchedule.replace('{workScheduleID}', workScheduleID),\n              {\n                method: 'DELETE',\n                headers: {\n                  'Content-type': 'application/json; charset=UTF-8',\n                  'token': that.props.cookies.get(COOKIE_NAMES.token)\n                },\n                signal: that.abortController.signal\n              }\n            )\n          ).json();\n\n          if (res.status !== 200) {\n            that.props.setAppLoading(false);\n            message.error(res.errors[0]);\n            return;\n          }\n\n          let {\n            workSchedules,\n            selectedWorkSchedule,\n            selectedWorkDay,\n            selectedWorkShift\n          } = that.state;\n\n          workSchedules = workSchedules.filter(wsc => wsc._id !== workScheduleID);\n\n          if (workSchedules.length === 0) {\n            let { listWorkYears, selectedWorkYear } = that.state;\n            listWorkYears = listWorkYears.filter(y => y !== selectedWorkYear);\n            that.loadWorkSchedules(listWorkYears[0].value);\n            message.success(res.messages[0]);\n            return;\n          }\n\n          workSchedules.sort((a, b) => a.month - b.month);\n\n          selectedWorkSchedule = workSchedules[0];\n          selectedWorkSchedule.index = 0;\n          selectedWorkSchedule.workDays = that.generateWorkDays(selectedWorkSchedule);\n\n          let isWorkShiftFound = false;\n          for (let i = 0; i < selectedWorkSchedule.workDays.length; i++) {\n            for (let j = 0; j < selectedWorkSchedule.workDays[i].length; j++) {\n              if (selectedWorkSchedule.workDays[i][j].staffs.length > 0) {\n                selectedWorkDay = selectedWorkSchedule.workDays[i][j];\n                selectedWorkShift = selectedWorkDay.workShifts[0];\n                selectedWorkShift.index = 0;\n                isWorkShiftFound = true;\n                break;\n              }\n            }\n          }\n\n          if (!isWorkShiftFound) {\n            selectedWorkDay = selectedWorkSchedule.workDays[0][0];\n            let selectedWorkShift = selectedWorkDay.workShifts[0];\n            if (selectedWorkShift) {\n              selectedWorkShift.index = 0;\n            } else {\n              selectedWorkShift = { index: 0 }\n            }\n          }\n\n          that.reloadWorkSchedules(workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift);\n          message.success(res.messages[0]);\n          that.props.setAppLoading(false);\n        } catch (error) {\n          return error;\n        }\n      },\n      onCancel() { },\n    });\n  }\n\n  openRemoveWorkShiftAssignerConfirm(assinger) {\n    const that = this;\n    confirm({\n      title: `Bạn có muốn hủy phân công ${assinger.fullname} trong ca làm việc này?`,\n      icon: <ExclamationCircleOutlined />,\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      async onOk() {\n        try {\n          that.props.setAppLoading(true);\n          const { selectedWorkShift, selectedWorkDay, selectedWorkSchedule, workSchedules } = that.state;\n          const { workAssignments } = selectedWorkShift;\n          const workAssignment = workAssignments.find(wa => wa.assigner._id === assinger._id);\n          const workAssignmentID = workAssignment._id;\n\n          const res = await (\n            await fetch(\n              API.Manager.WorkAssignment.removeWorkAssignment.replace('{workAssignmentID}', workAssignmentID),\n              {\n                method: 'DELETE',\n                headers: {\n                  'Content-type': 'application/json; charset=UTF-8',\n                  'token': that.props.cookies.get(COOKIE_NAMES.token)\n                },\n                signal: that.abortController.signal\n              }\n            )\n          ).json();\n\n          if (res.status !== 200) {\n            that.props.setAppLoading(false);\n            message.error(res.errors[0]);\n            return;\n          }\n\n          selectedWorkShift.workAssignments = selectedWorkShift.workAssignments.filter(wa => wa._id !== workAssignmentID);\n\n          for (let ws of selectedWorkDay.workShifts) {\n            if (ws._id === selectedWorkShift._id) {\n              ws.workAssignments = selectedWorkShift.workAssignments;\n              break;\n            }\n          }\n\n          for (const week of selectedWorkSchedule.workDays) {\n            for (let day of week) {\n              if (day.workDayInMonth === selectedWorkDay.workDayInMonth) {\n                day = selectedWorkDay;\n                break;\n              }\n            }\n          }\n\n          for (let wsc of workSchedules) {\n            if (wsc._id === selectedWorkSchedule._id) {\n              wsc = selectedWorkSchedule;\n              break;\n            }\n          }\n\n          that.reloadWorkSchedules(workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift);\n          message.success(res.messages[0]);\n          that.props.setAppLoading(false);\n        } catch (error) {\n          return error;\n        }\n      },\n      onCancel() { },\n    });\n  }\n\n  handleSelectYear(year) {\n    this.setState({ selectedWorkYear: year });\n    this.loadWorkSchedules(year);\n  }\n\n  render() {\n    let {\n      workSchedules,\n      selectedWorkSchedule,\n      selectedWorkDay,\n      selectedWorkShift,\n      listWorkYears,\n      selectedWorkYear,\n      listStaffs,\n      isTaskWorkDayPanelToggled\n    } = this.state;\n\n    selectedWorkSchedule.workDays = this.generateWorkDays(selectedWorkSchedule);\n    const isMobile = window.innerWidth <= 768;\n\n    return (\n      <div className=\"work-assignment\">\n        <Row>\n          <Col className=\"work-assignment__left-sidebar\" span={4} md={4} xs={24}>\n            <BtnAddWorkSchedule reloadWorkSchedules={selectedYear => this.loadWorkSchedules(selectedYear)} />\n\n            <div className=\"work-assignment__left-sidebar__year-selection\">\n              <div className=\"work-assignment__left-sidebar__title\">\n                <span>Năm làm việc</span>\n              </div>\n              <div style={{ minHeight: 37 }}>\n                {\n                  (listWorkYears || []).length > 0 ? (\n                    <Select\n                      className=\"animated fadeIn\"\n                      defaultValue={selectedWorkYear}\n                      onChange={e => this.handleSelectYear(e)}>\n                      {listWorkYears.map((y, i) => (\n                        <Option key={i} value={y.value}>{y.text}</Option>\n                      ))}\n                    </Select>\n                  ) : (\n                      <Skeleton.Input\n                        style={{ width: '100%', height: 30, borderRadius: 3, background: 'rgba(0,0,0,0.15)' }}\n                        active={true} size=\"small\"\n                      />\n                    )\n                }\n              </div>\n            </div>\n\n            <div className=\"work-assignment__left-sidebar__list-tasks\">\n\n              <div className=\"work-assignment__left-sidebar__title\">\n                <span>Tháng làm việc</span>\n              </div>\n\n              <div className=\"work-assignment__left-sidebar__list-tasks__wrapper\">\n                <List\n                  locale={{ emptyText: <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"Chưa có dữ liệu\" /> }}\n                  size=\"small\"\n                  dataSource={workSchedules}\n                  renderItem={(item, index) => {\n                    return (\n                      <List.Item\n                        className={\n                          `work-assignment__left-sidebar__list-tasks__item animated fadeIn\n                          ${index === selectedWorkSchedule.index ? 'work-assignment__left-sidebar__list-tasks__item--selected' : ''}`\n                        }\n                        onClick={() => this.handleSelectWorkSchedule(item, index)}>\n                        <Row style={{ width: '90%' }}>\n                          <Col span={23} md={23} xs={23}>\n                            <span className=\"work-assignment__left-sidebar__list-tasks__item__task-name\">Tháng {item.month}</span>\n                          </Col>\n                          <Col span={1} md={1} xs={1}>\n                            <Button\n                              onClick={() => this.openRemoveWorkScheduleConfirm(item._id)}\n                              className=\"work-assignment__left-sidebar__list-tasks__item__btn-remove\"\n                              type=\"link\"\n                              icon={<CloseCircleOutlined />} />\n                          </Col>\n                        </Row>\n                      </List.Item>\n                    )\n                  }}\n                />\n              </div>\n            </div>\n          </Col>\n          <Col className=\"work-assignment__content\" span={20} md={20} xs={24}>\n            <div className=\"work-assignment__content__task-work-day-panel\">\n              <div className={(isMobile && isTaskWorkDayPanelToggled) || !isMobile ? 'work-assignment__content__task-work-day-panel__panel animated slideInRight' : 'work-assignment__content__task-work-day-panel__panel--hidden'}>\n\n                {isMobile && (\n                  <Button\n                    className=\"work-assignment__content__task-work-day-panel__panel__btn-close\"\n                    shape=\"circle\"\n                    icon={<CloseOutlined />}\n                    onClick={() => this.setState({ isTaskWorkDayPanelToggled: false })}\n                  />\n                )}\n\n                <div className=\"work-assignment__content__task-work-day-panel__panel__main\">\n                  <h3>{\n                    `${selectedWorkDay.workWeekDay ? selectedWorkDay.workWeekDay + ', ' : ''} ${selectedWorkDay.workYear ? moment(new Date(selectedWorkDay.workYear, selectedWorkDay.workMonth - 1, selectedWorkDay.workDayInMonth)).format('DD/MM/YYYY') : ''}`\n                  }</h3>\n\n                  <div\n                    className=\"work-assignment__content__task-work-day-panel__panel__main__list-staffs work-assignment__content__task-work-day-panel__panel__main__list-work-shifts\">\n                    <Row>\n                      <Col span={21}>\n                        <span className=\"work-assignment__content__task-work-day-panel__panel__main__title\">\n                          Ca làm việc trong ngày</span>\n                      </Col>\n                      <Col span={3}>\n                        <BtnAddWorkShift\n                          workSchedules={[...workSchedules]}\n                          selectedWorkSchedule={{ ...selectedWorkSchedule }}\n                          selectedWorkDay={{ ...selectedWorkDay }}\n                          selectedWorkShift={{ ...selectedWorkShift }}\n                          reloadWorkSchedules={\n                            (workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift) => {\n                              this.reloadWorkSchedules(workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift)\n                            }\n                          }\n                        />\n                      </Col>\n                    </Row>\n                    <div className=\"work-assignment__content__task-work-day-panel__panel__main__list-work-shifts__wrapper\">\n                      <List\n                        locale={{ emptyText: <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"Chưa có dữ liệu\" /> }}\n                        itemLayout=\"horizontal\"\n                        dataSource={selectedWorkDay.workShifts}\n                        renderItem={(ws, index) => (\n                          <List.Item onClick={() => this.handleSelectWorkShift(ws, index)}>\n                            <Row\n                              className={`\n                                animated fadeIn\n                                ${index === selectedWorkShift.index ?\n                                  'work-assignment__content__task-work-day-panel__panel__main__list-work-shifts__item--selected'\n                                  : 'work-assignment__content__task-work-day-panel__panel__main__list-work-shifts__item'}`}\n                            >\n                              <Col span={22}>\n                                <span>\n                                  Từ {moment(ws.startTime).format('HH:mm')} đến {moment(ws.endTime).format('HH:mm')}\n                                </span>\n                              </Col>\n                              <Col span={2}>\n                                <Button\n                                  className=\"work-assignment__content__task-work-day-panel__panel__main__list-staffs__btn-close\"\n                                  type=\"link\"\n                                  onClick={() => this.openRemoveWorkShiftConfirm(ws._id)}\n                                  icon={<CloseCircleOutlined />} />\n                              </Col>\n                            </Row>\n                          </List.Item>\n                        )}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"work-assignment__content__task-work-day-panel__panel__main__list-work-shifts__details\">\n                    <h3>Chi tiết ca làm việc</h3>\n                    <Row>\n                      <Col span={8}>\n                        <ul\n                          className=\"work-assignment__content__task-work-day-panel__panel__main__list-work-shifts__time--label\">\n                          <li>Bắt đầu</li>\n                          <li>Kết thúc</li>\n                        </ul>\n                      </Col>\n                      <Col span={16}>\n                        <ul\n                          className=\"work-assignment__content__task-work-day-panel__panel__main__list-work-shifts__time--value\">\n                          <li>{\n                            selectedWorkShift.startTime ? moment(selectedWorkShift.startTime).format('HH:mm') : ''\n                          }</li>\n                          <li>{\n                            selectedWorkShift.endTime ? moment(selectedWorkShift.endTime).format('HH:mm') : ''\n                          }</li>\n                        </ul>\n                      </Col>\n                    </Row>\n                    <div className=\"work-assignment__content__task-work-day-panel__panel__main__list-staffs\">\n                      <Row>\n                        <Col span={21}>\n                          <span className=\"work-assignment__content__task-work-day-panel__panel__main__title\">\n                            Nhân viên phụ trách ({\n                              selectedWorkShift.workAssignments ? selectedWorkShift.workAssignments.length : 0\n                            })</span>\n                        </Col>\n                        <Col span={3}>\n                          <BtnAddWorkShiftAssigner\n                            workSchedules={[...workSchedules]}\n                            selectedWorkSchedule={{ ...selectedWorkSchedule }}\n                            selectedWorkDay={{ ...selectedWorkDay }}\n                            selectedWorkShift={{ ...selectedWorkShift }}\n                            staffs={listStaffs.filter(\n                              s => !(selectedWorkShift.workAssignments || []).find(wa => wa.assigner._id === s._id) && s.role !== USER_ROLE.MANAGER.type)\n                            }\n                            reloadWorkSchedules={\n                              (workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift) => {\n                                this.reloadWorkSchedules(workSchedules, selectedWorkSchedule, selectedWorkDay, selectedWorkShift)\n                              }\n                            }\n                          />\n                        </Col>\n                      </Row>\n\n                      <div className=\"work-assignment__content__task-work-day-panel__panel__main__list-staffs__wrapper\">\n                        <List\n                          locale={{ emptyText: <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"Chưa có dữ liệu\" /> }}\n                          itemLayout=\"horizontal\"\n                          dataSource={selectedWorkShift.workAssignments}\n                          renderItem={wa => (\n                            <List.Item>\n                              <div className=\"work-assignment__content__task-work-day-panel__panel__main__list-staffs__staff animated fadeIn\">\n                                <Row style={{ width: '100%' }}>\n                                  <Col span={22}>\n                                    <List.Item.Meta\n                                      avatar={<Avatar src={wa.assigner.avatar} />}\n                                      title={<span>{wa.assigner.fullname}</span>}\n                                      description={USER_ROLE[wa.assigner.role].name}\n                                    />\n                                  </Col>\n                                  <Col span={2}>\n                                    <Tooltip placement=\"bottom\" title=\"Hủy phân công\">\n                                      <Button\n                                        className=\"work-assignment__content__task-work-day-panel__panel__main__list-staffs__btn-unassign\"\n                                        type=\"link\"\n                                        icon={<LogoutOutlined />}\n                                        onClick={() => this.openRemoveWorkShiftAssignerConfirm(wa.assigner)}\n                                      />\n                                    </Tooltip>\n                                  </Col>\n                                </Row>\n                              </div>\n                            </List.Item>\n                          )}\n                        />\n                      </div>\n\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"work-assignment__content__header\">\n              <div className=\"work-assignment__content__header__dark-bg\"></div>\n              <div className=\"work-assignment__content__header__task-name\">\n                <h3>Tháng {selectedWorkSchedule.month} năm {selectedWorkSchedule.year}</h3>\n              </div>\n            </div>\n            <div className=\"work-assignment__content__body\">\n              <Tabs\n                defaultActiveKey=\"1\"\n                tabBarGutter={50}\n                className=\"work-assignment__content__body__tabs\"\n                onChange={e => console.log(e)}>\n                <TabPane tab=\"Lịch làm việc\" key=\"1\" className=\"work-assignment__content__body__tabs__work-schedule\">\n                  {selectedWorkSchedule.workDays.map((row, iRow) => (\n                    <Row key={iRow + 1}>\n                      {row.map((col, iCol) => (\n                        <Col key={`${iRow + 1}_${iCol}`} span={2}\n                          className={`\n                            animated zoomIn \n                            work-assignment__content__body__tabs__work-schedule__work-day \n                            ${col.workDayInMonth === selectedWorkDay.workDayInMonth ?\n                              'work-assignment__content__body__tabs__work-schedule__work-day--selected' : ''\n                            }\n                          `}\n                          style={{ animationDelay: `${0.03 * iRow * iCol}s` }}\n                          onClick={() => {\n                            this.handleSelectWorkDay(iRow, iCol);\n                            this.setState({ isTaskWorkDayPanelToggled: true })\n                          }}>\n                          <span\n                            className={`\n                              work-assignment__content__body__tabs__work-schedule__work-day__day-in-month\n                              ${col.workWeekDay === WEEK_DAY.SUNDAY ? 'work-assignment__content__body__tabs__work-schedule__work-day__day-in-month--sunday' : ''}\n                            `}>{col.workDayInMonth}</span>\n                          <span\n                            className={`\n                              work-assignment__content__body__tabs__work-schedule__work-day__week-day\n                              ${col.workWeekDay === WEEK_DAY.SUNDAY ? 'work-assignment__content__body__tabs__work-schedule__work-day__week-day--sunday' : ''}\n                            `}>{col.workWeekDay}</span>\n                          <div className=\"work-assignment__content__body__tabs__work-schedule__work-day__staffs\">\n                            {col.staffs.slice(0, 2).map(staff => (\n                              <Tooltip\n                                key={staff._id}\n                                placement=\"bottom\"\n                                title={staff.fullname}\n                              >\n                                <Avatar\n                                  key={staff._id}\n                                  size={16}\n                                  className=\"work-assignment__content__body__tabs__work-schedule__work-day__staffs__avatar\"\n                                  src={staff.avatar} />\n                              </Tooltip>\n                            ))}\n                            {col.staffs.length > 2 ? (\n                              <Tooltip\n                                placement=\"bottom\"\n                                title={col.staffs.slice(2).map(staff => (\n                                  <Row gutter={7} key={staff._id}>\n                                    <Col><Avatar\n                                      style={{ marginTop: -3 }}\n                                      key={staff._id}\n                                      size={16}\n                                      src={staff.avatar} /></Col>\n                                    <Col><span>{staff.fullname}</span></Col>\n                                  </Row>\n                                ))}\n                              >\n                                <div className=\"work-assignment__content__body__tabs__work-schedule__work-day__staffs__avatar--plus\">\n                                  <span>+{col.staffs.slice(2).length}</span>\n                                </div>\n                              </Tooltip>\n                            ) : <></>}\n                          </div>\n                        </Col>\n                      ))}\n                    </Row>\n                  ))}\n                </TabPane>\n              </Tabs>\n            </div>\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(WorkAssignment));\n","import React, { Component } from 'react';\nimport GooglePlacesAutocomplete from 'react-google-places-autocomplete';\nimport 'react-google-places-autocomplete/dist/index.min.css';\nimport './GooglePlacesAutocomplete.style.scss';\nimport { Input } from 'antd';\nimport { geocodeByAddress } from 'react-google-places-autocomplete';\n\n/**\n * REMEMBER: Enable Maps Javascript API & Places API from Google Cloud Flatform\n */\nexport default class PlacesAutocomplete extends Component {\n  constructor(props) {\n    super(props);\n    this.inputRef = React.createRef();\n  }\n\n  async handleSelectPlace(e) {\n    try {\n      const { description } = e;\n      const res = await geocodeByAddress(description);\n      const placeInfo = {\n        address: description,\n        location: {\n          lat: res[0].geometry.location.lat(),\n          lng: res[0].geometry.location.lng()\n        }\n      };\n      this.props.setAddress(placeInfo);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"google-places-autocomplete\">\n        <GooglePlacesAutocomplete\n          placeholder=\"Tối đa 100 kí tự\"\n          suggestionsClassNames={{ suggestion: 'google-places-autocomplete__suggestions' }}\n          onSelect={e => this.handleSelectPlace(e)}\n          initialValue={this.props.initialValue}\n          renderInput={(props) => (\n            <Input {...props} maxLength={150} />\n          )}\n        />\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport { Button, Modal, Form, Input, message } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport './AddSupplierDialog.style.scss';\nimport { connect } from 'react-redux';\nimport { withCookies } from 'react-cookie';\nimport * as actions from '../../../../../../redux/actions';\nimport PageBase from '../../../../../utilities/PageBase/PageBase';\nimport { API } from '../../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../../constants/cookie-name.constant';\nimport GooglePlacesAutocomplete from '../../../../../utilities/GooglePlacesAutocomplete/GooglePlacesAutocomplete';\n\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 18 },\n};\n\nclass AddSupplierDialog extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false\n    }\n    this.formRef = React.createRef();\n  }\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  onOk() {\n    if (this.formRef.current) {\n      this.formRef.current.submit();\n    }\n  }\n\n  async onFinish(values) {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Manager.SupplierManagment.addSupplier,\n          {\n            method: 'POST',\n            body: JSON.stringify(values),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      if (this.formRef.current) {\n        this.formRef.current.resetFields();\n      }\n\n      this.props.addToSuppliersDataSource(res.data.supplier);\n      this.setDialogVisible(false);\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  setAddress(placeInfo) {\n    if (this.formRef.current) {\n      this.formRef.current.setFieldsValue({ address: placeInfo.address });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"importing-request__container__suppliers__toolbar__add-supplier-dialog\">\n        <Button\n          icon={<PlusOutlined />}\n          className=\"importing-request__container__suppliers__toolbar__add-supplier-dialog__btn-open\"\n          onClick={() => this.setDialogVisible(true)}\n        />\n\n        <Modal\n          className=\"importing-request__container__suppliers__toolbar__add-supplier-dialog__content\"\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>Nhà cung cấp mới</span>}\n          centered\n          visible={this.state.isVisible}\n          onOk={() => this.onOk()}\n          onCancel={() => this.setDialogVisible(false)}\n          okText=\"Thêm\"\n          cancelText=\"Hủy bỏ\"\n          okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n        >\n          <Form\n            {...layout}\n            ref={current => this.formRef.current = current}\n            onFinish={values => this.onFinish(values)}\n            onFinishFailed={() => message.error('Chưa đầy đủ thông tin, vui lòng kiểm tra lại')}\n          >\n            <Form.Item\n              name=\"name\"\n              label=\"Thương thiệu\"\n              rules={[{ required: true, message: 'Vui lòng nhập thương hiệu' }]}\n            >\n              <Input maxLength={50} placeholder=\"Tối đa 50 kí tự\" autoFocus={true} />\n            </Form.Item>\n            <Form.Item\n              name=\"phone\"\n              label=\"Điện thoại\"\n              rules={[{ required: true, message: 'Vui lòng nhập số điện thoại' }]}\n            >\n              <Input maxLength={11} placeholder=\"Bao gồm 10 hoặc 11 số\" />\n            </Form.Item>\n            <Form.Item\n              name=\"address\"\n              label=\"Địa chỉ\"\n              rules={[{ required: true, message: 'Vui lòng nhập vào chọn địa chỉ' }]}\n            >\n              <GooglePlacesAutocomplete\n                setAddress={placeInfo => this.setAddress(placeInfo)}\n              />\n            </Form.Item>\n\n            <Form.Item style={{ display: 'none' }}>\n              <Button htmlType=\"submit\" />\n            </Form.Item>\n\n          </Form>\n\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(AddSupplierDialog));\n","import React from 'react';\nimport { Button, Modal, Form, Input, message } from 'antd';\nimport { EditOutlined } from '@ant-design/icons';\nimport './EditSupplierDialog.style.scss';\nimport { connect } from 'react-redux';\nimport { withCookies } from 'react-cookie';\nimport * as actions from '../../../../../../redux/actions';\nimport PageBase from '../../../../../utilities/PageBase/PageBase';\nimport { API } from '../../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../../constants/cookie-name.constant';\nimport GooglePlacesAutocomplete from '../../../../../utilities/GooglePlacesAutocomplete/GooglePlacesAutocomplete';\n\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 18 },\n};\n\nclass EditSupplierDialog extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false\n    }\n    this.formRef = React.createRef();\n  }\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  onOk() {\n    if (this.formRef.current) {\n      this.formRef.current.submit();\n    }\n  }\n\n  async onFinish(values) {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Manager.SupplierManagment.updateSupplier.replace('{supplierID}', this.props.supplier._id),\n          {\n            method: 'PUT',\n            body: JSON.stringify(values),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.props.updateSuppliersDataSource(res.data.supplier);\n      this.setDialogVisible(false);\n      message.success(res.messages[0]);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  setAddress(placeInfo) {\n    if (this.formRef.current) {\n      this.formRef.current.setFieldsValue({ address: placeInfo.address });\n    }\n  }\n\n  render() {\n    const { supplier } = this.props;\n    if (!supplier)\n      return <></>;\n\n    return (\n      <div className=\"importing-request__container__suppliers__details__header__toolbar__edit-supplier-dialog\">\n        <Button\n          icon={<EditOutlined />}\n          shape=\"circle\"\n          className=\"importing-request__container__suppliers__details__header__toolbar__edit-supplier-dialog__btn-open\"\n          onClick={() => this.setDialogVisible(true)}\n        />\n\n        <Modal\n          className=\"importing-request__container__suppliers__details__header__toolbar__edit-supplier-dialog__content\"\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>{supplier.name}</span>}\n          centered\n          visible={this.state.isVisible}\n          onOk={() => this.onOk()}\n          onCancel={() => this.setDialogVisible(false)}\n          okText=\"Lưu thay đổi\"\n          cancelText=\"Hủy bỏ\"\n          okButtonProps={{ style: { background: '#ff8220', border: 0, fontWeight: 'bold' } }}\n        >\n          <Form\n            {...layout}\n            ref={current => {\n              this.formRef.current = current;\n              if (this.formRef.current) {\n                this.formRef.current.setFieldsValue({\n                  name: supplier.name,\n                  phone: supplier.phone,\n                  address: supplier.address\n                });\n              }\n            }}\n            onFinish={values => this.onFinish(values)}\n            onFinishFailed={() => message.error('Chưa đầy đủ thông tin, vui lòng kiểm tra lại')}\n          >\n            <Form.Item\n              name=\"name\"\n              label=\"Thương thiệu\"\n              rules={[{ required: true, message: 'Vui lòng nhập thương hiệu' }]}\n            >\n              <Input maxLength={50} placeholder=\"Tối đa 50 kí tự\" autoFocus={true} />\n            </Form.Item>\n            <Form.Item\n              name=\"phone\"\n              label=\"Điện thoại\"\n              rules={[{ required: true, message: 'Vui lòng nhập số điện thoại' }]}\n            >\n              <Input maxLength={11} placeholder=\"Bao gồm 10 hoặc 11 số\" />\n            </Form.Item>\n            <Form.Item\n              name=\"address\"\n              label=\"Địa chỉ\"\n              rules={[{ required: true, message: 'Vui lòng nhập vào chọn địa chỉ' }]}\n            >\n              <GooglePlacesAutocomplete\n                setAddress={placeInfo => this.setAddress(placeInfo)}\n                initialValue={supplier.address}\n              />\n            </Form.Item>\n\n            <Form.Item style={{ display: 'none' }}>\n              <Button htmlType=\"submit\" />\n            </Form.Item>\n\n          </Form>\n\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(EditSupplierDialog));\n","import React from 'react';\nimport { Row, Col, Input, Empty, Button, Divider, List, message, Modal } from 'antd';\nimport { SearchOutlined, DeleteOutlined, EnvironmentTwoTone, ExclamationCircleOutlined } from '@ant-design/icons';\nimport './SupplierManagement.style.scss';\nimport { connect } from 'react-redux';\nimport { withCookies } from 'react-cookie';\nimport * as actions from '../../../../../redux/actions';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport { API } from '../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport * as _ from 'lodash';\nimport AddSupplierDialog from './AddSupplierDialog/AddSupplierDialog';\nimport GoogleMap from '../../../../utilities/GoogleMap/GoogleMap';\nimport EditSupplierDialog from './EditSupplierDialog/EditSupplierDialog';\n\nclass SupplierManagement extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      suppliersDataSource: [],\n      filteredSuppliers: [],\n      selectedSupplier: {},\n      supplierSearchText: ''\n    }\n  }\n\n  componentDidMount() {\n    this.loadSuppliers();\n  }\n\n  openRemoveSupplierConfirmDialog(supplierID) {\n    const that = this;\n    let { suppliersDataSource } = this.state;\n    const supplier = suppliersDataSource.find(s => s._id === supplierID);\n    Modal.confirm({\n      title: `Bạn muốn xóa nhà cung cấp ${supplier.name}?`,\n      icon: <ExclamationCircleOutlined />,\n      content: '',\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      async onOk() {\n        try {\n          that.props.setAppLoading(true);\n          const res = await (\n            await fetch(\n              API.Manager.SupplierManagment.removeSupplier.replace('{supplierID}', supplierID),\n              {\n                method: 'DELETE',\n                headers: {\n                  'Content-type': 'application/json; charset=UTF-8',\n                  'token': that.props.cookies.get(COOKIE_NAMES.token)\n                },\n                signal: that.abortController.signal\n              }\n            )\n          ).json();\n\n          that.props.setAppLoading(false);\n          if (res.status !== 200) {\n            message.error(res.errors[0]);\n            return;\n          }\n\n          suppliersDataSource = suppliersDataSource.filter(s => s._id !== supplierID);\n          that.onSupplierSearchInputChange(that.state.supplierSearchText, suppliersDataSource);\n          that.setState({ suppliersDataSource });\n          message.success(res.messages[0]);\n        } catch (error) {\n          return error;\n        }\n      }\n    });\n  }\n\n  async loadSuppliers() {\n    try {\n      // this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Manager.SupplierManagment.getSuppliers,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      // this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      const { suppliers } = res.data;\n      this.onSupplierSearchInputChange(this.state.supplierSearchText, suppliers);\n      this.setState({ suppliersDataSource: suppliers });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  onSupplierSearchInputChange(text, suppliersDataSource, defaultSelectedSupplier) {\n    let { filteredSuppliers } = this.state;\n    if (!text) {\n      filteredSuppliers = [...suppliersDataSource];\n    } else {\n      filteredSuppliers = suppliersDataSource.filter(s => {\n        const searchKeys = Object.keys(s).filter(k => ['name'].includes(k));\n        for (const k of searchKeys) {\n          if (s[k].toLowerCase().includes(text.toLowerCase()))\n            return true;\n        }\n        return false;\n      })\n    }\n\n    this.setState({\n      filteredSuppliers,\n      selectedSupplier: defaultSelectedSupplier || (filteredSuppliers.length > 0 ? filteredSuppliers[0] : {}),\n      supplierSearchText: text\n    });\n  }\n\n  handleSelectSupplier(_id) {\n    const selectedSupplier = _.find(this.state.suppliersDataSource, s => s._id === _id);\n    this.setState({ selectedSupplier });\n  }\n\n  addToSuppliersDataSource(supplier) {\n    let { suppliersDataSource } = this.state;\n    suppliersDataSource.push(supplier);\n    this.onSupplierSearchInputChange(this.state.supplierSearchText, suppliersDataSource);\n    this.setState({ suppliersDataSource });\n  }\n\n  updateSuppliersDataSource(supplier) {\n    const { suppliersDataSource } = this.state;\n    const index = _.findIndex(suppliersDataSource, s => s._id === supplier._id);\n\n    if (index < 0)\n      return;\n\n    suppliersDataSource[index] = { ...supplier };\n    this.onSupplierSearchInputChange(this.state.supplierSearchText, suppliersDataSource, { ...supplier });\n    this.setState({ suppliersDataSource });\n  }\n\n  render() {\n    const { filteredSuppliers, selectedSupplier } = this.state;\n    return (\n      <div className=\"importing-request__container__suppliers\" style={{ animationDelay: '0.8s' }}>\n        <div className=\"importing-request__container__suppliers__header\">\n          <span className=\"importing-request__container__suppliers__header__title\">\n            Nhà cung cấp sản phẩm ({filteredSuppliers.length})\n          </span>\n        </div>\n        <div className=\"importing-request__container__suppliers__toolbar\">\n          <Row style={{ width: '100%' }}>\n            <Col span={21}>\n              <Input\n                prefix={<SearchOutlined style={{ marginRight: 5 }} />}\n                placeholder=\"Tìm kiếm theo tên, địa chỉ, điện thoại...\"\n                onChange={e => this.onSupplierSearchInputChange(e.target.value, this.state.suppliersDataSource)}\n              />\n            </Col>\n            <Col span={3} align=\"center\">\n              <AddSupplierDialog\n                addToSuppliersDataSource={supplier => this.addToSuppliersDataSource(supplier)}\n              />\n            </Col>\n          </Row>\n        </div>\n        <div className=\"importing-request__container__suppliers__list\">\n          <List\n            size=\"small\"\n            dataSource={filteredSuppliers}\n            renderItem={s => (\n              <List.Item\n                onClick={() => this.handleSelectSupplier(s._id)}\n                className={`importing-request__container__suppliers__list__item animated fadeIn \n                  ${selectedSupplier._id === s._id ? '--selected' : ''}\n                `}\n                key={s._id}>\n                {s.name}\n              </List.Item>\n            )}\n            locale={{ emptyText: <Empty image={Empty.PRESENTED_IMAGE_SIMPLE} description=\"Chưa có dữ liệu\" /> }}\n          />\n        </div>\n        <div className=\"importing-request__container__suppliers__details\">\n          <div className=\"importing-request__container__suppliers__details__header\">\n            <span className=\"importing-request__container__suppliers__details__header__title\">\n              Thông tin liên hệ\n                    </span>\n            <div className=\"importing-request__container__suppliers__details__header__toolbar\">\n              <EditSupplierDialog\n                supplier={{ ...selectedSupplier }}\n                updateSuppliersDataSource={supplier => this.updateSuppliersDataSource(supplier)}\n              />\n\n              <Button\n                shape=\"circle\"\n                icon={<DeleteOutlined />}\n                className=\"importing-request__container__suppliers__details__header__toolbar__btn\"\n                onClick={() => this.openRemoveSupplierConfirmDialog(selectedSupplier._id)}\n              />\n            </div>\n          </div>\n          <Divider />\n          <div className=\"importing-request__container__suppliers__details__content\">\n            <Row style={{ width: '100%' }}>\n              <Col span={6}>\n                <span className=\"importing-request__container__suppliers__details__content__label\">\n                  Thương hiệu\n                        </span>\n              </Col>\n              <Col span={18}>{selectedSupplier.name}</Col>\n            </Row>\n            <Row style={{ width: '100%' }}>\n              <Col span={6}>\n                <span className=\"importing-request__container__suppliers__details__content__label\">\n                  Số điện thoại\n                        </span>\n              </Col>\n              <Col span={18}>{selectedSupplier.phone}</Col>\n            </Row>\n            <Row style={{ width: '100%' }}>\n              <Col span={6}>\n                <span className=\"importing-request__container__suppliers__details__content__label\">\n                  Địa chỉ\n                        </span>\n              </Col>\n              <Col span={18}>\n                <p style={{ minHeight: 35, maxHeight: 35 }}>\n                  {selectedSupplier.address}\n                </p>\n              </Col>\n            </Row>\n\n            <div className=\"importing-request__container__suppliers__details__content__map\">\n              {selectedSupplier.address ? (\n                <GoogleMap\n                  width={'100%'}\n                  height={'14rem'}\n                  address={selectedSupplier.address}\n                  locationIcon={\n                    <EnvironmentTwoTone\n                      twoToneColor=\"#ff8220\"\n                      style={{ fontSize: 24 }}\n                    />\n                  }\n                />\n              ) : <></>}\n            </div>\n\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(SupplierManagement));","import React from 'react';\nimport { Avatar, Row, Col, Modal, Table, Button, message } from 'antd';\nimport { ExclamationCircleOutlined, CloseOutlined } from '@ant-design/icons';\nimport './PendingRequest.style.scss';\nimport moment from 'moment';\nimport NumberFormat from 'react-number-format';\nimport IMPORTING_REQUEST from '../../../../../constants/importing-request.constant';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../../redux/actions';\nimport { API } from '../../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport { withCookies } from 'react-cookie';\nimport SupplierContactPopover from '../../../../utilities/SupplierContactPopover/SupplierContactPopover';\n\nclass PendingRequest extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false\n    }\n  }\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  openCancelRequestConfirmDialog() {\n    const that = this;\n    Modal.confirm({\n      title: `Từ chối yêu cầu từ ${this.props.details.sender.fullname}?`,\n      icon: <ExclamationCircleOutlined />,\n      content: '',\n      okText: 'Đồng ý',\n      okType: 'danger',\n      cancelText: 'Không, cảm ơn',\n      async onOk() {\n        try {\n          that.props.setAppLoading(true);\n          const res = await (\n            await fetch(\n              API.Manager.ImportingRequestManagement.cancelImportingRequest.replace('{importingRequestID}', that.props.details._id),\n              {\n                method: 'DELETE',\n                headers: {\n                  'Content-type': 'application/json; charset=UTF-8',\n                  'token': that.props.cookies.get(COOKIE_NAMES.token)\n                },\n                signal: that.abortController.signal\n              }\n            )\n          ).json();\n          that.props.setAppLoading(false);\n          if (res.status !== 200) {\n            message.error(res.errors[0]);\n            return;\n          }\n\n          that.props.onUpdateImportingRequests(res.data.importingRequests);\n          that.setDialogVisible(false);\n          message.success(res.messages[0]);\n        } catch (error) {\n          return error;\n        }\n      }\n    });\n  }\n\n  render() {\n    const { details } = this.props;\n    const requiredProducts = details.requiredProducts.map(p => ({ ...p, key: p._id }));\n    const columns = [\n      {\n        title: 'Sản phẩm',\n        dataIndex: 'product',\n        key: 'product',\n        width: 200,\n        render: (value, record) => (\n          <div>\n            <img src={record.product.image} alt=\"product\" style={{ width: 20, margin: 15 }} />\n            <span>{record.product.name}</span>\n          </div>\n        )\n      },\n      {\n        title: 'Nhà cung cấp',\n        dataIndex: 'supplier',\n        key: 'supplier',\n        width: 200,\n        render: (value, record) => (\n          <SupplierContactPopover\n            supplier={{ ...record.product.supplier }}\n            buttonText={record.product.supplier.name}\n            buttonStyle={{ fontSize: '0.6875rem' }}\n            placement=\"right\"\n          />\n        )\n      },\n      {\n        title: 'Giá bán',\n        dataIndex: 'price',\n        key: 'price',\n        width: 100,\n        render: (value, record) => (\n          <NumberFormat\n            value={record.product.price}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n            style={{ fontWeight: 'bold' }}\n          />\n        )\n      }\n    ];\n\n    return (\n      <div className=\"pending-importing-request\">\n        <div className=\"pending-importing-request__summary animated fadeIn\">\n          <Row\n            gutter={10}\n            style={{ width: '100%', height: '100%' }}\n            onClick={() => this.setDialogVisible(true)}\n          >\n            <Col span={4}>\n              <Avatar\n                className=\"pending-importing-request__summary__avatar\"\n                src={details.sender.avatar} />\n            </Col>\n            <Col span={20}>\n              <div className=\"pending-importing-request__summary__details\">\n                <span className=\"pending-importing-request__summary__details__title\">\n                  {details.sender.fullname}\n                </span>\n                <span className=\"pending-importing-request__summary__details__time\">\n                  Yêu cầu lúc {moment(details.createdAt).format('HH:mm DD-MM-YYYY')}\n                </span>\n                <p className=\"pending-importing-request__summary__details__products\">\n                  {details.requiredProducts.map(rp => rp.product.name).join(', ')}.\n                </p>\n              </div>\n            </Col>\n          </Row>\n\n          <CloseOutlined\n            className=\"pending-importing-request__summary__btn-cancel\"\n            onClick={() => this.openCancelRequestConfirmDialog()}\n          />\n        </div>\n\n        <Modal\n          className=\"pending-importing-request__content\"\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>Thông tin yêu cầu</span>}\n          visible={this.state.isVisible}\n          footer={null}\n          onCancel={() => this.setDialogVisible(false)}\n        >\n          <Row style={{ width: '100%' }}>\n            <Col span={7}>\n              <ul className=\"pending-importing-request__content__labels\">\n                <li>Người yêu cầu</li>\n                <li>Vào lúc</li>\n                <li>Trạng thái</li>\n                <li>Sản phẩm yêu cầu ({details.requiredProducts.length})</li>\n              </ul>\n            </Col>\n            <Col span={17}>\n              <ul className=\"pending-importing-request__content__values\">\n                <li><strong>{details.sender.fullname}</strong></li>\n                <li>{moment(details.createdAt).format('HH:mm DD-MM-YYYY')}</li>\n                <li><span className=\"pending-importing-request__content__values__status\">{IMPORTING_REQUEST.STATUS.PENDING.name}</span></li>\n              </ul>\n            </Col>\n          </Row>\n\n          <div className=\"pending-importing-request__content__products\">\n            <Table\n              dataSource={[...requiredProducts]}\n              columns={columns}\n              pagination={false}\n              scroll={{ y: 250 }}\n            />\n          </div>\n\n          <div className=\"pending-importing-request__content__btn-cancel-wrapper\">\n            <Button\n              className=\"pending-importing-request__content__btn-cancel-wrapper__btn\"\n              onClick={() => this.openCancelRequestConfirmDialog()}\n              type=\"primary\"\n              shape=\"round\"\n            >\n              Từ chối yêu cầu\n            </Button>\n          </div>\n\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(PendingRequest));","import React from 'react';\nimport { Button, Modal, Table, InputNumber, Divider, Dropdown, Menu, Avatar, Form, Input, Row, Col, message } from 'antd';\nimport NumberFormat from 'react-number-format';\nimport { DownOutlined, ArrowRightOutlined } from '@ant-design/icons';\nimport './StatisticPendingRequestDialog.style.scss';\nimport * as _ from 'lodash';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../../redux/actions';\nimport { withCookies } from 'react-cookie';\nimport { COOKIE_NAMES } from '../../../../../constants/cookie-name.constant';\nimport { API } from '../../../../../constants/api.constant';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport SupplierContactPopover from '../../../../utilities/SupplierContactPopover/SupplierContactPopover';\n\nclass StatisticPendingRequestDialog extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false,\n      requiredProducts: [],\n      executor: {},\n      priceTotal: 0\n    }\n    this.formRef = React.createRef();\n  }\n\n  componentWillReceiveProps(props) {\n    const { pendingRequests } = props;\n    let requiredProducts = [];\n    for (const r of pendingRequests) {\n      for (const p of r.requiredProducts)\n        requiredProducts.push(p);\n    }\n    requiredProducts = requiredProducts.map((p, i) => ({ ...p, key: i }));\n    requiredProducts = _.uniqBy(requiredProducts, p => p.product._id);\n    this.setState({\n      requiredProducts,\n      priceTotal: requiredProducts.reduce((acc, cur) => acc + cur.product.price, 0)\n    });\n  }\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  onRequiredProductQuantityInputChanged(id, quantity) {\n    const { requiredProducts } = this.state;\n    const index = _.findIndex(requiredProducts, p => p._id === id);\n    requiredProducts[index].requiredQuantity = quantity;\n    this.setState({\n      requiredProducts,\n      priceTotal: requiredProducts.reduce((acc, cur) => acc + (cur.requiredQuantity * cur.product.price), 0)\n    });\n  }\n\n  async acceptRequests(values) {\n    try {\n      if (!values.executor) {\n        message.error('Thông tin bàn giao chưa đầy đủ, vui lòng kiểm tra lại');\n        return;\n      }\n\n      this.props.setAppLoading(true);\n      const { requiredProducts, priceTotal } = this.state;\n      let { pendingRequests } = this.props;\n      const params = {\n        ...values,\n        priceTotal,\n        requests: pendingRequests.map(r => ({ _id: r._id })),\n        importedProducts: requiredProducts.map(rp => ({\n          productID: rp.product._id,\n          requiredQuantity: rp.requiredQuantity\n        }))\n      }\n      const res = await (\n        await fetch(\n          API.Manager.ImportingRequestManagement.acceptImportingRequests,\n          {\n            method: 'PUT',\n            body: JSON.stringify(params),\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      this.props.onAcceptRequests();\n      this.setDialogVisible(false);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  handleSelectExcecutor(data) {\n    const executor = JSON.parse(data);\n    if (this.formRef.current) {\n      this.formRef.current.setFieldsValue({ executor: executor._id });\n    }\n    this.setState({ executor });\n  }\n\n  render() {\n    const { importers } = this.props;\n    let { requiredProducts, executor, priceTotal } = this.state;\n    const columns = [\n      {\n        title: 'Sản phẩm',\n        dataIndex: 'product',\n        key: 'product',\n        width: 220,\n        render: (value, record) => (\n          <div>\n            <img src={record.product.image} alt=\"product\" style={{ width: 20, margin: 15 }} />\n            <span>{record.product.name}</span>\n          </div>\n        )\n      },\n      {\n        title: 'Nhà cung cấp',\n        dataIndex: 'supplier',\n        key: 'supplier',\n        width: 220,\n        render: (value, record) => (\n          <SupplierContactPopover\n            supplier={{ ...record.product.supplier }}\n            buttonText={record.product.supplier.name}\n            buttonStyle={{ fontSize: '0.6875rem' }}\n            placement=\"right\"\n          />\n        )\n      },\n      {\n        title: 'Giá bán',\n        dataIndex: 'price',\n        key: 'price',\n        width: 100,\n        render: (value, record) => (\n          <NumberFormat\n            value={record.product.price}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n            style={{ fontWeight: 'bold' }}\n          />\n        )\n      },\n      {\n        title: <center><span style={{ marginLeft: 15 }}>SL yêu cầu</span></center>,\n        dataIndex: 'quantity',\n        key: 'quantity',\n        render: (value, record) => (\n          <center>\n            <InputNumber\n              min={1}\n              max={999}\n              defaultValue={1}\n              onChange={e => this.onRequiredProductQuantityInputChanged(record._id, e)}\n            />\n          </center>\n        )\n      }\n    ];\n\n    const executorMenu = (\n      <Menu onClick={e => this.handleSelectExcecutor(e.key)}>\n        {importers.map(i => (\n          <Menu.Item key={JSON.stringify(i)}>\n            <Avatar\n              src={i.avatar}\n              size={20}\n              style={{ marginRight: 10 }}\n            />\n            {i.fullname}\n          </Menu.Item>\n        ))}\n      </Menu>\n    );\n\n    return (\n      <div className=\"statistic-pending-request-dialog\">\n        <div className=\"statistic-pending-request-dialog__btn-open-wrapper\">\n          <Button\n            shape=\"round\"\n            className=\"statistic-pending-request-dialog__btn-open-wrapper__btn\"\n            onClick={() => this.setDialogVisible(true)}\n            disabled={requiredProducts.length === 0}\n          >\n            Thống kê sản phẩm yêu cầu\n            <ArrowRightOutlined />\n          </Button>\n        </div>\n\n        <Modal\n          className=\"statistic-pending-request-dialog__content\"\n          title={\n            <span style={{ color: '#ff8220', fontWeight: 'bold' }}>\n              Sản phẩm yêu cầu ({requiredProducts.length})\n            </span>\n          }\n          visible={this.state.isVisible}\n          footer={null}\n          onCancel={() => this.setDialogVisible(false)}\n        >\n          <div className=\"statistic-pending-request-dialog__content__products\">\n            <Table\n              dataSource={requiredProducts}\n              columns={columns}\n              pagination={false}\n              scroll={{ y: 250 }}\n            />\n          </div>\n\n          <Row\n            align=\"middle\"\n            className=\"statistic-pending-request-dialog__content__price-total\"\n\n          >\n            <Col span={19}>Tổng tiền</Col>\n            <Col span={5} align=\"center\">\n              <NumberFormat\n                value={priceTotal}\n                displayType=\"text\"\n                thousandSeparator={true}\n                suffix=\" đ̲\"\n                style={{ fontWeight: 'bold' }}\n              />\n            </Col>\n          </Row>\n\n          <div className=\"statistic-pending-request-dialog__content__executor\">\n            <Row align=\"middle\">\n              <Col span={19}>\n                <div className=\"statistic-pending-request-dialog__content__executor__title\">\n                  <span>Bàn giao thực hiện</span>\n                </div>\n              </Col>\n              <Col span={5}>\n                <Button\n                  shape=\"round\"\n                  type=\"primary\"\n                  className=\"statistic-pending-request-dialog__content__executor__btn-submit\"\n                  onClick={() => {\n                    if (this.formRef.current) {\n                      this.formRef.current.submit();\n                    }\n                  }}\n                >\n                  <span>Bàn giao</span>\n                  <ArrowRightOutlined />\n                </Button>\n              </Col>\n            </Row>\n\n            <Divider />\n\n            <Form\n              ref={current => this.formRef.current = current}\n              onFinish={values => this.acceptRequests(values)}\n            >\n              <Row style={{ width: '100%' }}>\n                <Col span={5}><ul className=\"statistic-pending-request-dialog__content__labels\">\n                  <li>Người thực hiện</li>\n                  <li>Ghi chú</li>\n                </ul></Col>\n                <Col span={19}>\n                  <ul className=\"statistic-pending-request-dialog__content__values\">\n                    <li>\n                      <Form.Item name=\"executor\" >\n                        <Dropdown overlay={executorMenu}>\n                          <Button>\n                            <Row style={{ width: 200 }} align=\"middle\">\n                              <Col span={22} align=\"left\">{executor.fullname || 'Chọn nhân viên...'}</Col>\n                              <Col span={2}><DownOutlined /></Col>\n                            </Row>\n                          </Button>\n                        </Dropdown>\n                      </Form.Item>\n                    </li>\n                    <li><Form.Item name=\"note\">\n                      <Input.TextArea placeholder=\"Nhập ghi chú...\" />\n                    </Form.Item></li>\n                  </ul>\n                </Col>\n              </Row>\n            </Form>\n          </div>\n\n        </Modal>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(StatisticPendingRequestDialog));","import React from 'react';\nimport { Row, Col, Avatar, Modal, Table, Progress } from 'antd';\nimport PageBase from '../../../../utilities/PageBase/PageBase';\nimport moment from 'moment';\nimport './ImporterAssignment.style.scss';\nimport NumberFormat from 'react-number-format';\nimport IMPORTING_REQUEST from '../../../../../constants/importing-request.constant';\nimport * as _ from 'lodash';\nimport SupplierContactPopover from '../../../../utilities/SupplierContactPopover/SupplierContactPopover';\n\nexport default class ImporterAssignment extends PageBase {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isVisible: false\n    }\n  }\n\n  setDialogVisible(isVisible) {\n    this.setState({ isVisible });\n  }\n\n  render() {\n    const { data } = this.props;\n    const importedProducts = data.importedProducts.map((p, i) => ({ ...p, key: i }));\n    const columns = [\n      {\n        title: 'Sản phẩm',\n        dataIndex: 'product',\n        key: 'product',\n        width: 200,\n        render: (value, record) => (\n          <div>\n            <img src={record.product.image} alt=\"product\" style={{ width: 20, margin: 15 }} />\n            <span>{record.product.name}</span>\n          </div>\n        )\n      },\n      {\n        title: 'Nhà cung cấp',\n        dataIndex: 'supplier',\n        key: 'supplier',\n        width: 200,\n        render: (value, record) => (\n          <SupplierContactPopover\n            supplier={{ ...record.product.supplier }}\n            buttonText={record.product.supplier.name}\n            buttonStyle={{ fontSize: '0.6875rem' }}\n            placement=\"right\"\n          />\n        )\n      },\n      {\n        title: 'Giá bán',\n        dataIndex: 'price',\n        key: 'price',\n        width: 100,\n        render: (value, record) => (\n          <NumberFormat\n            value={record.product.price}\n            displayType=\"text\"\n            thousandSeparator={true}\n            suffix=\" đ̲\"\n            style={{ fontWeight: 'bold' }}\n          />\n        )\n      },\n      {\n        title: <center>SL yêu cầu</center>,\n        dataIndex: 'requiredQuantity',\n        key: 'requiredQuantity',\n        width: 100,\n        render: (value, record) => <center>{record.requiredQuantity}</center>\n      },\n      {\n        title: <center>SL đã nhập</center>,\n        dataIndex: 'importedQuantity',\n        key: 'importedQuantity',\n        width: 100,\n        render: (value, record) => <center>{record.importedQuantity}</center>\n      }\n    ];\n    const importedQuantityTotal = importedProducts.reduce((acc, cur) => acc + cur.importedQuantity, 0);\n    const requiredQuantityTotal = importedProducts.reduce((acc, cur) => acc + cur.requiredQuantity, 0);\n    const importedPriceTotal = importedProducts.reduce((acc, cur) => acc + (cur.importedQuantity * cur.product.price), 0);\n\n    return (\n      <div className=\"importer-assignment\">\n        <div\n          className=\"importer-assignment__summary animated fadeIn\"\n          onClick={() => this.setDialogVisible(true)}\n        >\n          <Row gutter={10} style={{ width: '100%', height: '100%' }}>\n            <Col span={4}>\n              <Avatar\n                className=\"importer-assignment__summary__avatar\"\n                src={data.importer.avatar}\n              />\n            </Col>\n            <Col span={20}>\n              <div className=\"importer-assignment__summary__details\">\n                <span className=\"importer-assignment__summary__details__title\">\n                  {data.importer.fullname}\n                </span>\n                <span className=\"importer-assignment__summary__details__time\">\n                  {data.finishedAt ? (\n                    <span>Hoàn tất lúc {moment(data.finishedAt).format('HH:mm DD-MM-YYYY')}</span>\n                  ) : (<span>Bàn giao lúc {moment(data.createdAt).format('HH:mm DD-MM-YYYY')}</span>)}\n                </span>\n                <p className=\"importer-assignment__summary__details__products\">\n                  {data.importedProducts.map((item, index) => {\n                    return index < data.importedProducts.length - 1 ? (\n                      <span key={index}>{`${item.product.name} x${item.requiredQuantity}, `}</span>\n                    ) : (\n                        <span key={index}>{`${item.product.name} x${item.requiredQuantity}.`}</span>\n                      )\n                  })}\n                </p>\n              </div>\n            </Col>\n          </Row>\n        </div>\n        <Modal\n          className=\"importer-assignment__content\"\n          title={<span style={{ color: '#ff8220', fontWeight: 'bold' }}>Thông tin yêu cầu</span>}\n          visible={this.state.isVisible}\n          footer={null}\n          onCancel={() => this.setDialogVisible(false)}\n        >\n          <Row style={{ width: '100%' }}>\n            <Col span={7}>\n              <ul className=\"importer-assignment__content__labels\">\n                <li>Người thực hiện</li>\n                <li>Bàn giao lúc</li>\n                <li>Trạng thái</li>\n                {data.finishedAt ? <></> : (<li>Mức độ hoàn thành</li>)}\n                {data.finishedAt ? (<li>Hoàn tất lúc</li>) : <></>}\n                <li>Tổng chi phí nhập hàng</li>\n                <li>Tổng sản phẩm cần nhập</li>\n              </ul>\n            </Col>\n            <Col span={17}>\n              <ul className=\"importer-assignment__content__values\">\n                <li><strong>{data.importer.fullname}</strong></li>\n                <li>{moment(data.createdAt).format('HH:mm DD-MM-YYYY')}</li>\n                <li>\n                  {data.finishedAt ? (\n                    <span className=\"importer-assignment__content__values__status--finished\">{IMPORTING_REQUEST.STATUS.FINISHED.name}</span>\n                  ) : (<span className=\"importer-assignment__content__values__status--accepted\">{IMPORTING_REQUEST.STATUS.ACCEPTED.name}</span>)}\n                </li>\n                <li>\n                  {data.finishedAt ? <></> : (\n                    <Progress\n                      strokeColor=\"#ff8220\"\n                      percent={_.round((importedQuantityTotal / requiredQuantityTotal) * 100, 0)} status=\"active\"\n                    />\n                  )}\n                </li>\n                {data.finishedAt ? (<li>{moment(data.finishedAt).format('HH:mm DD-MM-YYYY')}</li>) : <></>}\n                <li>\n                  <strong>\n                    <NumberFormat\n                      value={importedPriceTotal}\n                      displayType=\"text\"\n                      thousandSeparator={true}\n                      style={{ marginRight: 3 }}\n                    />/\n                    <NumberFormat\n                      value={data.priceTotal}\n                      displayType=\"text\"\n                      thousandSeparator={true}\n                      suffix=\" đ̲\"\n                      style={{ marginLeft: 3 }}\n                    />\n                  </strong>\n                </li>\n                <li>\n                  <span style={{ marginRight: 3 }}>{importedQuantityTotal}</span>/\n                  <span style={{ marginLeft: 3 }}>{requiredQuantityTotal}</span>\n                </li>\n              </ul>\n            </Col>\n          </Row>\n\n          <div className=\"importer-assignment__content__products\">\n            <Table\n              dataSource={importedProducts}\n              columns={columns}\n              pagination={false}\n              scroll={{ y: 250 }}\n            />\n          </div>\n\n        </Modal>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport { Row, Col, Button } from 'antd';\nimport './ImportingRequest.style.scss';\nimport { connect } from 'react-redux';\nimport { withCookies } from 'react-cookie';\nimport * as actions from '../../../../redux/actions';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nimport { API } from '../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport SupplierManagement from './SupplierManagement/SupplierManagement';\nimport PendingRequest from './PendingRequest/PendingRequest';\nimport { message } from 'antd';\nimport CONSTANT from '../../../../constants/importing-request.constant';\nimport USER_ROLES from '../../../../constants/user-role.constant';\nimport StatisticPendingRequestDialog from './StatisticPendingRequestDialog/StatisticPendingRequestDialog';\nimport ImporterAssignment from './ImporterAssignment/ImporterAssignment';\nimport { ReloadOutlined } from '@ant-design/icons';\n\nclass ImportingRequest extends PageBase {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      staffs: [],\n      importingRequests: [],\n      importerAssignments: []\n    }\n  }\n\n  componentWillUnmount() {\n    // fix Warning: Can't perform a React state update on an unmounted component\n    this.setState = (state, callback) => {\n      return;\n    };\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  async loadData() {\n    try {\n      const results = await Promise.all([\n        this.loadStaffs(),\n        this.loadImportingRequests(),\n        this.loadImporterAssignments()\n      ]);\n      const staffs = results[0];\n      const importingRequests = results[1];\n      const importerAssignments = results[2];\n      this.setState({\n        staffs,\n        importingRequests,\n        importerAssignments\n      });\n    } catch (error) {\n      if (typeof error === 'string')\n        message.error(error);\n    }\n  }\n\n  async loadStaffs() {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Manager.StaffManagement.getListStaffs,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        return Promise.reject(res.errors[0]);\n      }\n\n      return Promise.resolve(res.data.users);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async loadImportingRequests() {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Manager.ImportingRequestManagement.getImportingRequest,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        return Promise.reject(res.errors[0]);\n      }\n\n      return Promise.resolve(res.data.importingRequests);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  async loadImporterAssignments() {\n    try {\n      this.props.setAppLoading(true);\n      const res = await (\n        await fetch(\n          API.Manager.ImportingRequestManagement.getImporterAssignments,\n          {\n            method: 'GET',\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'token': this.props.cookies.get(COOKIE_NAMES.token)\n            },\n            signal: this.abortController.signal\n          }\n        )\n      ).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        return Promise.reject(res.errors[0]);\n      }\n\n      return Promise.resolve(res.data.importerAssignments);\n    } catch (error) {\n      return error;\n    }\n  }\n\n  getStaffByID(staffID) {\n    return { ...this.state.staffs.find(s => s._id === staffID) };\n  }\n\n  async onAcceptRequests() {\n    const importerAssignments = await this.loadImporterAssignments();\n    this.setState({\n      importingRequests: [],\n      importerAssignments\n    });\n  }\n\n  setImportingRequests(importingRequests) {\n    this.setState({ importingRequests });\n  }\n\n  async reloadImportingRequests() {\n    try {\n      const importingRequests = await this.loadImportingRequests();\n      this.setState({ importingRequests });\n    } catch (error) {\n      return error;\n    }\n  }\n\n  render() {\n    const { importingRequests, staffs, importerAssignments } = this.state;\n    const pendingRequests = (importingRequests || []).filter(r => r.status === CONSTANT.STATUS.PENDING.type);\n    const notFinishedAssignments = (importerAssignments || []).filter(a => a.finishedAt === null);\n    const finishedAssignments = (importerAssignments || []).filter(a => a.finishedAt !== null);\n\n    return (\n      <div className=\"importing-request\">\n        <div className=\"importing-request__container\">\n          <Row gutter={[10, 10]} style={{ width: '100%', height: '100%', margin: 0 }}>\n            <Col span={5} md={5} xs={24}>\n              <div\n                className=\"importing-request__container__block\">\n                <div className=\"importing-request__container__block__header\">\n                  <span className=\"importing-request__container__block__header__title --pending\">\n                    Đang chờ duyệt\n                  </span>\n                  <Button\n                    type=\"primary\"\n                    shape=\"circle\"\n                    icon={<ReloadOutlined />}\n                    className=\"importing-request__container__block__header__btn-update\"\n                    onClick={() => this.reloadImportingRequests()}\n                  />\n                  <span className=\"importing-request__container__block__header__number --pending\">\n                    {pendingRequests.length}\n                  </span>\n                </div>\n                <StatisticPendingRequestDialog\n                  pendingRequests={[...pendingRequests]}\n                  importers={staffs.filter(s => s.role === USER_ROLES.IMPORTER.type && s.isImporterAssignmentFinished)}\n                  onAcceptRequests={() => this.onAcceptRequests()}\n                />\n                <div className=\"importing-request__container__block__body --pending\">\n                  {pendingRequests.map(r => (\n                    <PendingRequest\n                      key={r._id}\n                      details={{ ...r }}\n                      importers={staffs.filter(s => s.role === USER_ROLES.IMPORTER.type)}\n                      onUpdateImportingRequests={requests => this.setImportingRequests(requests)}\n                    />\n                  ))}\n                </div>\n              </div>\n            </Col>\n            <Col span={5} md={5} xs={24}>\n              <div\n                className=\"importing-request__container__block\">\n                <div className=\"importing-request__container__block__header\">\n                  <span className=\"importing-request__container__block__header__title --accepted\">\n                    Đang thực hiện\n                  </span>\n                  <span className=\"importing-request__container__block__header__number --accepted\">\n                    {notFinishedAssignments.length}\n                  </span>\n                </div>\n                <div className=\"importing-request__container__block__body\">\n                  {notFinishedAssignments.map(a => (\n                    <ImporterAssignment data={{ ...a }} key={a._id} />\n                  ))}\n                </div>\n              </div>\n            </Col>\n            <Col span={5} md={5} xs={24}>\n              <div\n                className=\"importing-request__container__block\">\n                <div className=\"importing-request__container__block__header\">\n                  <span className=\"importing-request__container__block__header__title --finished\">\n                    Đã hoàn tất\n                  </span>\n                  <span className=\"importing-request__container__block__header__number --finished\">\n                    {finishedAssignments.length}\n                  </span>\n                </div>\n                <div className=\"importing-request__container__block__body\">\n                  {finishedAssignments.map(a => (\n                    <ImporterAssignment data={{ ...a }} key={a._id} />\n                  ))}\n                </div>\n              </div>\n            </Col>\n            <Col span={9} md={9} xs={24}>\n              <SupplierManagement />\n            </Col>\n          </Row>\n        </div>\n      </div>\n    )\n  }\n}\nexport default connect(null, actions)(withCookies(ImportingRequest));","import Profile from '../components/pages/User/Profile/Profile';\nimport ChangePassword from '../components/pages/User/ChangePassword/ChangePassword';\n\nimport CheckoutPanel from '../components/pages/Cashier/CheckoutPanel/CheckoutPanel';\n\nimport ProductManagement from '../components/pages/Importer/ProductManagment/ProductManagement';\n\nimport Reporting from '../components/pages/Manager/Reporting/Reporting';\nimport StaffManagement from '../components/pages/Manager/StaffManagement/StaffManagement';\nimport WorkAssignment from '../components/pages/Manager/WorkAssignment/WorkAssignment';\nimport ImportingRequest from '../components/pages/Manager/ImportingRequest/ImportingRequest';\n\nimport {\n  DollarOutlined, InboxOutlined, BarChartOutlined, TeamOutlined, FileDoneOutlined, UserOutlined, LockOutlined, MessageOutlined\n} from '@ant-design/icons';\n\nexport default [\n  {\n    role: 'USER',\n    pages: [\n      {\n        title: 'Thông tin cá nhân',\n        path: '/profile',\n        icon: UserOutlined,\n        component: Profile,\n        key: 'PROFILE'\n      },\n      {\n        title: 'Đổi mật khẩu',\n        path: '/change-password',\n        icon: LockOutlined,\n        component: ChangePassword,\n        key: 'CHANGE_PASSWORD'\n      }\n    ]\n  },\n  {\n    role: \"CASHIER\",\n    pages: [\n      {\n        title: 'Quầy thu ngân',\n        path: '/checkout',\n        icon: DollarOutlined,\n        component: CheckoutPanel\n      }\n    ]\n  },\n  {\n    role: \"IMPORTER\",\n    pages: [\n      {\n        title: 'Quản lý kho hàng',\n        path: '/products',\n        icon: InboxOutlined,\n        component: ProductManagement\n      }\n    ]\n  },\n  {\n    role: \"MANAGER\",\n    pages: [\n      {\n        title: 'Báo cáo - Thống kê',\n        path: '/reports',\n        icon: BarChartOutlined,\n        component: Reporting\n      },\n      {\n        title: 'Tổ chức nhân sự',\n        path: '/staffs',\n        icon: TeamOutlined,\n        component: StaffManagement\n      },\n      {\n        title: 'Phân ca làm việc',\n        path: '/work-assignments',\n        icon: FileDoneOutlined,\n        component: WorkAssignment\n      },\n      {\n        title: 'Yêu cầu nhập hàng',\n        path: '/importing-requests',\n        icon: MessageOutlined,\n        component: ImportingRequest\n      }\n    ]\n  }\n];","import React from 'react';\nimport { Form, Input, Button, Tooltip, message } from 'antd';\nimport './Login.style.scss';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport { API } from '../../../../constants/api.constant';\nimport { COOKIE_NAMES } from '../../../../constants/cookie-name.constant';\nimport { withCookies } from 'react-cookie';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../../redux/actions';\nimport PageBase from '../../../utilities/PageBase/PageBase';\nimport USER_ROLES from '../../../../constants/user-role.constant';\nimport SIDEBAR from '../../../../constants/sidebar.constant';\n\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 16,\n  },\n};\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16,\n  },\n};\n\nclass Login extends PageBase {\n\n  componentDidMount() {\n    const { cookies } = this.props;\n    const user = cookies.get(COOKIE_NAMES.user);\n    const token = cookies.get(COOKIE_NAMES.token);\n    if (user && token)\n      this.props.history.push('/');\n  }\n\n  login = async (values) => {\n    try {\n      this.props.setAppLoading(true);\n      const params = {\n        username: values.username,\n        password: values.password\n      };\n\n      const res = await (await fetch(API.User.login, {\n        method: 'POST',\n        body: JSON.stringify(params),\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8',\n          'token': this.props.cookies.get(COOKIE_NAMES.token)\n        },\n        signal: this.abortController.signal\n      })).json();\n\n      this.props.setAppLoading(false);\n      if (res.status !== 200) {\n        message.error(res.errors[0]);\n        return;\n      }\n\n      const user = res.data.user;\n      const token = res.data.meta.token;\n\n      this.props.login(user, token);\n\n      const { cookies } = this.props;\n      cookies.set(COOKIE_NAMES.user, user, { path: '/' });\n      cookies.set(COOKIE_NAMES.token, token, { path: '/' });\n\n      let pathToNavigate;\n      if (user.role === USER_ROLES.CASHIER.type) {\n        pathToNavigate = SIDEBAR[1].pages[0].path;\n      }\n\n      if (user.role === USER_ROLES.IMPORTER.type) {\n        pathToNavigate = SIDEBAR[2].pages[0].path;\n      }\n\n      if (user.role === USER_ROLES.MANAGER.type) {\n        pathToNavigate = SIDEBAR[3].pages[0].path;\n      }\n\n      this.props.history.length = 0;\n      this.props.history.push(pathToNavigate);\n    } catch (error) {\n      return error;\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"dark-bg\"></div>\n        <div className=\"__header\">\n          <img className=\"__company-logo\" src={require('../../../../assets/images/app-logo.png')} alt=\"logo\" />\n          <div className=\"__company-brand\">\n            <div className=\"__name\"><span>Mini Mart</span></div>\n            <div className=\"__slogan\"><span>Tiện Lợi mà Chất Lượng</span></div>\n          </div>\n        </div>\n        <div className=\"login animated bounceInDown\">\n          <h2 className=\"__main-title\">ĐĂNG NHẬP TÀI KHOẢN</h2>\n          <div className=\"__cover-img\"></div>\n          <Form\n            className=\"__form\"\n            {...layout}\n            name=\"basic\"\n            initialValues={{\n              remember: true,\n            }}\n            onFinish={this.login}\n            onFinishFailed={() => { message.error('Vui lòng nhập đầy đủ thông tin'); }}\n          >\n            <Form.Item\n              name=\"username\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập tài khoản',\n                },\n              ]}\n            >\n              <Input prefix={<UserOutlined className=\"__form__icon\" />} placeholder=\"Tài khoản\" autoFocus={true} />\n            </Form.Item>\n\n            <Form.Item\n              name=\"password\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập mật khẩu',\n                },\n              ]}\n            >\n              <Input.Password prefix={<LockOutlined className=\"__form__icon\" />} placeholder=\"Mật khẩu\" />\n            </Form.Item>\n\n            <div className=\"__form__forgot-password\">\n              <Tooltip title=\"Yêu cầu khôi phục mật khẩu\">\n                <a href=\"/login\" style={{ marginLeft: 8 }}>\n                  Quên mật khẩu?\n                    </a>\n              </Tooltip>\n            </div>\n\n            <Form.Item {...tailLayout}>\n              <Button className=\"__form__btn-submit\" type=\"primary\" htmlType=\"submit\">\n                ĐĂNG NHẬP\n                  </Button>\n            </Form.Item>\n\n          </Form>\n        </div>\n\n        <svg className=\"wave\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1440 320\">\n          {/* <path fill=\"url(#my-cool-gradient)\" fillOpacity={1} d=\"M0,160L1440,0L1440,320L0,320Z\" />\n          <linearGradient id=\"my-cool-gradient\" x2=\"1\" y2=\"1\">\n            <stop offset=\"0%\" stopColor=\"#ff5858\" />\n            <stop offset=\"100%\" stopColor=\"#f09819\" />\n          </linearGradient> */}\n\n          {/* <path fillOpacity={1}\n            d=\"M0,0L1440,192L1440,320L0,320Z\"\n          /> */}\n\n          <path fillOpacity={1}\n            d=\"M0,192L80,165.3C160,139,320,85,480,90.7C640,96,800,160,960,160C1120,160,1280,96,1360,64L1440,32L1440,320L1360,320C1280,320,1120,320,960,320C800,320,640,320,480,320C320,320,160,320,80,320L0,320Z\"\n          />\n        </svg>\n\n        <svg className=\"wave2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1440 320\">\n          <path fillOpacity=\"1\"\n            d=\"M0,64L1440,320L1440,0L0,0Z\"\n          />\n        </svg>\n\n        <p className=\"__footer\">Mini Mart &copy;2020 All right reserved.</p>\n\n      </div>\n    )\n  }\n}\n\nexport default connect(null, actions)(withCookies(withRouter(Login)));\n","import { combineReducers } from 'redux';\nimport appReducer from './app.reducer';\nimport loggedInUserReducer from './logged-in-user.reducer';\n\nexport default combineReducers({\n  app: appReducer,\n  loggedInUser: loggedInUserReducer\n});\n","import { APP_LOADING, SET_CURRENT_PAGE_TITLE, SET_SIDEBAR_SELECTED_INDEX } from '../actions/types.action';\nimport { UserOutlined } from '@ant-design/icons';\n\nexport default function (\n\tstate = {\n\t\tisLoading: false,\n\t\tcurrentPageTitle: '',\n\t\tcurrentPageIcon: UserOutlined,\n\t\tsidebarSelectedIndex: 0\n\t},\n\taction\n) {\n\tswitch (action.type) {\n\t\tcase APP_LOADING:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLoading: action.isLoading\n\t\t\t};\n\t\tcase SET_CURRENT_PAGE_TITLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentPageTitle: action.title,\n\t\t\t\tcurrentPageIcon: action.icon,\n\t\t\t}\n\t\tcase SET_SIDEBAR_SELECTED_INDEX:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsidebarSelectedIndex: action.sidebarSelectedIndex\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}","import { LOGIN_SUCCESS } from '../actions/types.action';\n\nexport default function (state = {\n  username: null,\n  token: null\n}, action) {\n  switch (action.type) {\n    case LOGIN_SUCCESS:\n      return {\n        user: action.user,\n        token: action.token\n      }\n    default:\n      return state;\n  }\n}","import { createStore } from 'redux';\nimport reducers from '../reducers';\n\nexport default createStore(reducers, {});","import React, { Component } from 'react';\nimport { Row, Col, Avatar, Dropdown, Menu } from 'antd';\nimport { LogoutOutlined, CaretDownFilled } from '@ant-design/icons';\nimport { withCookies } from 'react-cookie';\nimport { withRouter } from 'react-router-dom';\nimport { COOKIE_NAMES } from '../../../constants/cookie-name.constant';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../redux/actions';\nimport './Toolbar.style.scss';\n\nclass Toolbar extends Component {\n\n  handleSelectMenuItem = (e) => {\n    const code = e.split('***');\n    const key = code[0];\n    const path = code[1];\n\n    if (key === 'LOGOUT') {\n      this.logout();\n      return;\n    }\n\n    this.props.history.push(path);\n  }\n\n  logout = () => {\n    const { cookies } = this.props;\n    cookies.remove(COOKIE_NAMES.token, { path: '/' });\n    cookies.remove(COOKIE_NAMES.user, { path: '/' });\n    this.props.history.length = 0;\n    this.props.history.push('/login');\n  }\n\n  render() {\n    const { user, avatarMenuItems } = this.props;\n    const { currentPageTitle, currentPageIcon } = this.props.app;\n    const CurrentPage = { Icon: currentPageIcon };\n\n    return (\n      <Row className=\"toolbar\" justify=\"start\" align=\"middle\">\n        <Col className=\"__page-title\" span={16} xs={14} lg={16}>\n          <Row align=\"center\">\n            <Col span={1} xs={2} lg={1}><div className=\"__page-title__icon\"><CurrentPage.Icon /></div></Col>\n            <Col span={23} xs={22} lg={23}><span className=\"__page-title__text\">{currentPageTitle}</span></Col>\n          </Row>\n        </Col>\n        <Col span={8} xs={10} lg={8}>\n          <Row className=\"__account\" justify=\"end\" align=\"middle\">\n            <Col span={14}></Col>\n            <Col span={10} align=\"end\">\n              <Dropdown\n                overlay={\n                  <Menu onClick={e => this.handleSelectMenuItem(e.key)}>\n                    {(avatarMenuItems || []).map((item) => (\n                      <Menu.Item key={item.key + '***' + item.path}\n                        onClick={() => {\n                          this.props.setCurrentPageTitle(item.title, item.icon);\n                          this.props.setSidebarSelectedIndex(item.sidebarIndex);\n                        }}>\n                        <item.icon />\n                        {item.title}\n                      </Menu.Item>\n                    ))}\n                    <Menu.Item key=\"LOGOUT\">\n                      <LogoutOutlined />\n                      Đăng xuất\n                  </Menu.Item>\n                  </Menu>\n                }\n                className=\"__account__avatar-menu\"\n              >\n                <div>\n                  <Avatar src={user.avatar} />\n                  <span className=\"__account__avatar-menu__name\">{user.fullname || ''}</span><CaretDownFilled style={{ color: 'white' }} />\n                </div>\n              </Dropdown>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  app: state.app\n});\n\nexport default connect(mapStateToProps, actions)(withCookies(withRouter(Toolbar)));\n","import React, { Component } from 'react';\nimport { Avatar } from 'antd';\nimport './UserInfo.style.scss';\nimport USER_ROLE from '../../../../constants/user-role.constant';\n\nexport default class UserInfo extends Component {\n\n  render() {\n    const user = this.props.user;\n    const userRoleName = USER_ROLE[user.role].name;\n    let userRoleStyle;\n    switch (user.role) {\n      case USER_ROLE.CASHIER.type: userRoleStyle = '__wallpaper__role--cashier'; break;\n      case USER_ROLE.IMPORTER.type: userRoleStyle = '__wallpaper__role--importer'; break;\n      case USER_ROLE.MANAGER.type: userRoleStyle = '__wallpaper__role--manager'; break;\n      default: break;\n    }\n\n    return (\n      <div className=\"user-info\">\n        <div className=\"__wallpaper\" style={{ backgroundImage: `url(${user.avatar})` }}>\n          <div className=\"__wallpaper__dark-bg\"></div>\n          <div className={`__wallpaper__role ${userRoleStyle}`}>\n            <span>{userRoleName}</span>\n          </div>\n          <div className=\"__wallpaper__info\">\n            <div className=\"__wallpaper__info__fullname\"><span>{user.fullname || ''}</span></div>\n            <span className=\"__wallpaper__info__email\">{user.email || ''}</span>\n          </div>\n        </div>\n        <div className=\"__avatar\">\n          <Avatar style={{ width: '3.625rem', height: '3.625rem' }} src={user.avatar} className=\"__avatar__image\" />\n        </div>\n      </div>\n    )\n  }\n}\n","import { ArrowLeftOutlined, MenuOutlined } from '@ant-design/icons';\nimport { Button, Layout, Menu } from 'antd';\nimport React, { Component } from 'react';\nimport { withCookies } from 'react-cookie';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport { COOKIE_NAMES } from '../../../constants/cookie-name.constant';\nimport { default as links, default as SIDEBAR } from '../../../constants/sidebar.constant';\nimport USER_ROLES from '../../../constants/user-role.constant';\nimport * as actions from '../../../redux/actions';\nimport './Sidebar.style.scss';\nimport UserInfo from './UserInfo/UserInfo';\n\nconst { Sider } = Layout;\n\nclass Sidebar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isToggled: false\n    }\n  }\n  componentDidMount() {\n    const { pagesByUserRole } = this.props;\n    const href = window.location.href.split('?')[0];\n    const position = href.split('/');\n    const currentPath = position[position.length - 1];\n\n    if (currentPath) {\n      pagesByUserRole.forEach((page, index) => {\n        if (page.path === `/${currentPath}`) {\n          const currentPage = pagesByUserRole[index];\n          this.props.setSidebarSelectedIndex(index);\n          this.props.setCurrentPageTitle(currentPage.title, currentPage.icon);\n        }\n      });\n    } else {\n      const user = this.props.cookies.get(COOKIE_NAMES.user);\n      let page = {};\n      if (user.role === USER_ROLES.CASHIER.type) {\n        page = SIDEBAR[1].pages[0];\n      }\n\n      if (user.role === USER_ROLES.IMPORTER.type) {\n        page = SIDEBAR[2].pages[0];\n      }\n\n      if (user.role === USER_ROLES.MANAGER.type) {\n        page = SIDEBAR[3].pages[0];\n      }\n\n      this.props.setSidebarSelectedIndex(0);\n      this.props.setCurrentPageTitle(page.title, page.icon);\n      this.props.history.length = 0;\n      this.props.history.push(page.path);\n    }\n  }\n\n  isCommonPage(path) {\n    const page = links.find(link => link.role === USER_ROLES.USER.type).pages.find(page => page.path === path);\n    if (page)\n      return true;\n    return false;\n  }\n\n  render() {\n    const { user, pagesByUserRole } = this.props;\n    const { sidebarSelectedIndex } = this.props.app;\n    const { isToggled } = this.state;\n    const isMobile = window.innerWidth <= 992;\n\n    return (\n      <div className=\"sidebar-container\">\n        <Button\n          className={isMobile && !isToggled ? 'sidebar__btn-toggle animated slideInLeft' : 'sidebar__btn-toggle--hidden'}\n          icon={<MenuOutlined />}\n          onClick={() => this.setState({ isToggled: true })}\n        />\n        {isToggled && isMobile && (<div className=\"__full-screen-cover\"></div>)}\n        <Sider className={(isToggled && isMobile) || !isMobile ? 'sidebar animated slideInLeft' : 'animated slideOutLeft sidebar'}>\n          <div className=\"sidebar__header\">\n            <img className=\"sidebar__header__company-logo\" src={require('../../../assets/images/app-logo.png')} alt=\"logo\" />\n            <div className=\"sidebar__header__company-brand\">\n              <div className=\"sidebar__header__company-brand__name\"><span>Mini Mart</span></div>\n              <div className=\"sidebar__header__company-brand__slogan\"><span>Tiện Lợi mà Chất Lượng</span></div>\n            </div>\n            <Button\n              shape=\"circle\"\n              icon={<ArrowLeftOutlined />}\n              className={isMobile ? 'sidebar__btn-hide' : 'sidebar__btn-hide--hidden'}\n              onClick={() => this.setState({ isToggled: false })}\n            />\n          </div>\n          <UserInfo user={user} />\n          <Menu\n            theme='light'\n            mode='inline'\n            selectedKeys={[sidebarSelectedIndex ? sidebarSelectedIndex.toString() : '0']}>\n            {pagesByUserRole.map((page, pageIndex) => {\n              const Page = { Icon: page.icon };\n              return (\n                <Menu.Item key={pageIndex}\n                  onClick={() => {\n                    this.props.setCurrentPageTitle(page.title, page.icon);\n                    this.props.setSidebarSelectedIndex(pageIndex);\n                    this.setState({ isToggled: false });\n\n                    const user = this.props.cookies.get(COOKIE_NAMES.user);\n                    if (!user) {\n                      const { cookies } = this.props;\n                      cookies.remove(COOKIE_NAMES.token, { path: '/' });\n                      cookies.remove(COOKIE_NAMES.user, { path: '/' });\n                      this.props.history.length = 0;\n                      this.props.history.push('/login');\n                    }\n                  }}>\n                  <Page.Icon style={{ color: '#ff8220' }} />\n                  <span className=\"sidebar__nav-title\">{page.title}</span>\n                  <Link to={page.path} />\n                </Menu.Item>\n              )\n            })}\n          </Menu>\n        </Sider>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  app: state.app\n});\n\nexport default connect(mapStateToProps, actions)(withCookies(withRouter(Sidebar)));","import React, { Component } from 'react';\nimport { Layout } from 'antd';\nimport './Main.style.scss';\nimport links from '../../../constants/sidebar.constant';\nimport { withRouter, Route } from 'react-router-dom';\nimport { withCookies } from 'react-cookie';\nimport { COOKIE_NAMES } from '../../../constants/cookie-name.constant';\nimport Toolbar from '../Toolbar/Toolbar';\nimport Sidebar from '../Sidebar/Sidebar';\nimport USER_ROLE from '../../../constants/user-role.constant';\nimport * as actions from '../../../redux/actions';\nimport { connect } from 'react-redux';\n\nconst { Content } = Layout;\n\nclass Main extends Component {\n  constructor(props) {\n    super(props);\n    const loggedInUser = this.props.cookies.get(COOKIE_NAMES.user);\n    const token = this.props.cookies.get(COOKIE_NAMES.token);\n\n    if (!(loggedInUser && token)) {\n      this.isAuthenticated = false;\n      const { cookies } = this.props;\n      cookies.remove(COOKIE_NAMES.token, { path: '/' });\n      cookies.remove(COOKIE_NAMES.user, { path: '/' });\n      this.props.history.length = 0;\n      this.props.history.push('/login');\n    } else {\n      this.isAuthenticated = true;\n    }\n  }\n  render() {\n    if (!this.isAuthenticated)\n      return null;\n\n    const user = this.props.cookies.get(COOKIE_NAMES.user) || this.props.loggedInUser.user;\n    let pagesByUserRole = links.find(link => link.role === user.role).pages;\n    const commonPages = links.find(link => link.role === USER_ROLE.USER.type).pages\n      .map((page, index) => ({ ...page, sidebarIndex: pagesByUserRole.length + index }));\n    pagesByUserRole = [...pagesByUserRole].concat(commonPages);\n\n    const PrivateRoute = ({ component: Component, ...rest }) => {\n      return (\n        <Route\n          {...rest}\n          render={props => <Component {...props} />}\n        />\n      )\n    }\n\n    const renderContents = () => {\n      return (\n        <div>\n          {pagesByUserRole.map((page, pageIndex) => {\n            return (\n              <PrivateRoute\n                key={pageIndex}\n                exact={true}\n                component={page.component}\n                path={page.path}\n              />\n            )\n          })}\n        </div>\n      )\n    }\n\n    return (\n      <div className=\"main\">\n        <Layout>\n          <Sidebar user={user} pagesByUserRole={pagesByUserRole} />\n          <Layout className=\"main__layout\">\n            <div style={{ position: 'relative' }}>\n              <Toolbar user={user} avatarMenuItems={commonPages} />\n            </div>\n            <Content className=\"main__content\">\n              {renderContents()}\n            </Content>\n          </Layout>\n        </Layout>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  loggedInUser: state.loggedInUser\n})\n\nexport default connect(mapStateToProps, actions)(withCookies(withRouter(Main)));","import React, { Component } from 'react';\nimport './AppLoading.style.scss';\nimport { Spin } from 'antd';\nimport * as actions from '../../../redux/actions';\nimport { connect } from 'react-redux';\n\nclass AppLoading extends Component {\n  render() {\n    return (\n      this.props.app.isLoading ? (\n        <div className=\"app-loading\">\n          <Spin size=\"large\" />\n        </div>\n      ) : <></>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  app: state.app\n});\n\nexport default connect(mapStateToProps, actions)(AppLoading);\n","import React, { Component } from 'react'\nimport 'antd/dist/antd.css';\nimport './assets/styles/animate.min.css';\nimport Login from './components/pages/User/Login/Login';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport { CookiesProvider } from 'react-cookie';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport Main from './components/layout/Main/Main';\nimport AppLoading from './components/utilities/AppLoading/AppLoading';\n\nexport default class App extends Component {\n\n  render() {\n    return (\n      <Provider store={store}>\n        <CookiesProvider>\n          <BrowserRouter>\n            <Switch>\n              <Route path='/login' component={Login} />\n              <Route path='/' component={Main} />\n              <Route\n                path='/**'\n                render={() => {\n                  return (\n                    <Redirect\n                      to={{\n                        pathname: '/'\n                      }}\n                    />\n                  );\n                }}\n              />\n            </Switch>\n            <AppLoading />\n          </BrowserRouter>\n        </CookiesProvider>\n      </Provider>\n    )\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './config/secret';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}